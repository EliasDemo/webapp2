import{a as K}from"./chunk-SJXHNKEE.js";import{A as J,b as $,d as z,e as Q,g as Y,i as q,j as U}from"./chunk-J2XPQYKK.js";import"./chunk-LWNR2F3M.js";import{d as B,f as j,g as L}from"./chunk-5VQTM22E.js";import{j as F,k as O,u as D}from"./chunk-FE5WSVYG.js";import{$ as x,$a as t,Ka as H,Pa as u,T as N,Tb as P,Y as h,Z as b,_ as g,_a as d,ab as n,bb as m,eb as I,fa as v,fb as V,gb as S,kb as f,mb as c,n as y,sb as A,tb as G,ub as T,vb as l,wb as M,xb as w,ya as a}from"./chunk-63T4HJ2B.js";import{a as k,b as C}from"./chunk-IMPBB4AK.js";function ee(s,i){if(s&1){let e=S();t(0,"div",17)(1,"div",4)(2,"div",18),g(),t(3,"svg",19),m(4,"path",20),n()(),x(),t(5,"div",21)(6,"h3",22),l(7,"Error"),n(),t(8,"p",23),l(9),n()(),t(10,"button",24),f("click",function(){h(e);let o=c();return b(o.error.set(null))}),g(),t(11,"svg",25),m(12,"path",26),n()()()()}if(s&2){let e=c();a(9),M(e.error())}}function te(s,i){s&1&&(t(0,"div",27)(1,"div",28),m(2,"div",29)(3,"div",30)(4,"div",31),n(),t(5,"h3",32),l(6,"Cargando informaci\xF3n del rol"),n(),t(7,"p",33),l(8,"Obteniendo detalles y permisos..."),n(),t(9,"div",34),m(10,"div",35),n()())}function ie(s,i){s&1&&(t(0,"span",73),g(),t(1,"svg",25),m(2,"path",7),n(),l(3," Administrador "),n())}function ne(s,i){if(s&1&&(t(0,"div",56)(1,"h2",71),l(2),n(),u(3,ie,4,0,"span",72),n()),s&2){let e=c().ngIf,r=c();a(2),w(" ",e.name," "),a(),d("ngIf",r.isAdmin())}}function re(s,i){s&1&&(g(),t(0,"svg",84),m(1,"path",85),n())}function oe(s,i){s&1&&m(0,"div",86)}function ae(s,i){if(s&1){let e=S();t(0,"form",74),f("ngSubmit",function(){h(e);let o=c(2);return b(o.saveName())}),t(1,"div",75)(2,"input",76),f("input",function(o){h(e);let p=c(2);return b(p.editName.set((o.target.value||"").toString()))}),n(),t(3,"div",77)(4,"div"),u(5,re,2,0,"svg",78),n()()(),t(6,"div",79)(7,"button",80),f("click",function(){h(e);let o=c(2);return b(o.cancelEditName())}),l(8," Cancelar "),n(),t(9,"button",81)(10,"span",82),u(11,oe,1,0,"div",83),l(12),n()()()()}if(s&2){let e=c(2);a(2),d("value",e.editName()),a(2),T(e.editName().trim().length>=3?"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center shadow-lg":"w-6 h-6 bg-slate-300 rounded-full"),a(),d("ngIf",e.editName().trim().length>=3),a(4),d("disabled",e.savingRename()),a(2),d("ngIf",e.savingRename()),a(),w(" ",e.savingRename()?"Guardando\u2026":"Guardar"," ")}}function se(s,i){s&1&&(g(),t(0,"svg",25),m(1,"path",85),n())}function le(s,i){s&1&&m(0,"div",86)}function de(s,i){s&1&&(t(0,"div",102)(1,"div",103),m(2,"div",104)(3,"div",105),n(),t(4,"div",106),l(5,"Cargando permisos disponibles\u2026"),n()())}function me(s,i){s&1&&(t(0,"div",110)(1,"div",111),g(),t(2,"svg",112),m(3,"path",53),n()(),x(),t(4,"h3",113),l(5,"No hay permisos disponibles"),n(),t(6,"p",114),l(7,"Todos los permisos del guard ya est\xE1n asignados o no hay coincidencias."),n()())}function ce(s,i){s&1&&(g(),t(0,"svg",84),m(1,"path",85),n())}function pe(s,i){s&1&&(g(),t(0,"svg",130),m(1,"path",85),n())}function ge(s,i){if(s&1){let e=S();t(0,"label",125)(1,"input",119),f("change",function(){let o=h(e).$implicit,p=c(5);return b(p.toggleAdd(o.name))}),n(),t(2,"div",126)(3,"div"),u(4,pe,2,0,"svg",127),n(),t(5,"div",128)(6,"div",129),l(7),n()()()()}if(s&2){let e=i.$implicit,r=i.index,o=c(5);A("animation-delay",r*50,"ms"),G("border-blue-300",o.isAddChecked(e.name))("bg-blue-50",o.isAddChecked(e.name)),a(),d("checked",o.isAddChecked(e.name)),a(2),T(o.isAddChecked(e.name)?"w-4 h-4 bg-blue-600 rounded flex items-center justify-center shadow-lg shadow-blue-500/30 transition-all duration-300":"w-4 h-4 bg-white border-2 border-slate-300 rounded transition-all duration-300"),a(),d("ngIf",o.isAddChecked(e.name)),a(3),w(" ",e.name," ")}}function ue(s,i){if(s&1){let e=S();t(0,"div",115)(1,"div",116)(2,"div",117)(3,"div",56)(4,"label",118)(5,"input",119),f("change",function(){let o=h(e).$implicit,p=c(4);return b(p.toggleAddGroup(o))}),n(),t(6,"div"),u(7,ce,2,0,"svg",78),n()(),t(8,"div")(9,"div",120),l(10),n(),t(11,"div",121),l(12),n()()()()(),t(13,"div",122)(14,"div",123),u(15,ge,8,11,"label",124),n()()()}if(s&2){let e=i.$implicit,r=i.index,o=c(4);A("animation-delay",r*100,"ms"),a(5),d("checked",o.isAddGroupFullySelected(e)),a(),T(o.isAddGroupFullySelected(e)?"w-5 h-5 bg-emerald-500 rounded-lg flex items-center justify-center shadow-lg shadow-emerald-500/30 transition-all duration-300":"w-5 h-5 bg-white border-2 border-slate-300 rounded-lg transition-all duration-300"),a(),d("ngIf",o.isAddGroupFullySelected(e)),a(3),M(e.key.replace("."," \xB7 ")),a(2),w("",e.items.length," permisos disponibles"),a(3),d("ngForOf",e.items)("ngForTrackBy",o.trackByPermId)}}function he(s,i){if(s&1&&(I(0),u(1,me,8,0,"div",107),t(2,"div",108),u(3,ue,16,10,"div",109),n(),V()),s&2){let e=c(3);a(),d("ngIf",e.availableGrouped().length===0),a(2),d("ngForOf",e.availableGrouped())("ngForTrackBy",e.trackByGroup)}}function be(s,i){if(s&1){let e=S();t(0,"div",87)(1,"div",88)(2,"div",89)(3,"div",3)(4,"label",90),g(),t(5,"svg",43),m(6,"path",91),n(),l(7," Buscar permisos "),n(),x(),t(8,"div",92)(9,"input",93),f("ngModelChange",function(o){h(e);let p=c(2);return b(p.addFilter.set(o))}),n(),g(),t(10,"svg",94),m(11,"path",91),n()()()(),x(),t(12,"div",95)(13,"button",96),f("click",function(){h(e);let o=c(2);return b(o.clearAddSelection())}),g(),t(14,"svg",97),m(15,"path",98),n(),l(16," Limpiar selecci\xF3n "),n(),x(),t(17,"button",99),f("click",function(){h(e);let o=c(2);return b(o.saveAdd())}),t(18,"span",82),u(19,se,2,0,"svg",100)(20,le,1,0,"div",83),l(21),n()()()(),u(22,de,6,0,"div",101)(23,he,4,3,"ng-container",16),n()}if(s&2){let e=c(2);a(9),d("ngModel",e.addFilter()),a(8),d("disabled",e.savingPerms()||e.addSelected().size===0),a(2),d("ngIf",!e.savingPerms()),a(),d("ngIf",e.savingPerms()),a(),w(" ",e.savingPerms()?"Guardando\u2026":`Agregar (${e.addSelected().size})`," "),a(),d("ngIf",e.loadingPerms()),a(),d("ngIf",!e.loadingPerms())}}function xe(s,i){s&1&&(t(0,"div",131)(1,"div",132)(2,"div",133),g(),t(3,"svg",134),m(4,"path",135),n()()(),x(),t(5,"h3",136),l(6,"Sin permisos asignados"),n(),t(7,"p",137),l(8,' Este rol no tiene permisos asignados. Usa el bot\xF3n "A\xF1adir permisos" para comenzar. '),n()())}function fe(s,i){if(s&1){let e=S();t(0,"div",149)(1,"div",150)(2,"span",151),l(3),n(),t(4,"button",152),f("click",function(){let o=h(e).$implicit,p=c(3);return b(p.removePerm(o.name))}),g(),t(5,"svg",25),m(6,"path",26),n()()()()}if(s&2){let e=i.$implicit,r=i.index,o=c(3);A("animation-delay",r*50,"ms"),a(2),d("title",e.name),a(),w(" ",e.name," "),a(),d("title",o.isAdmin()?"No permitido para ADMINISTRADOR":"Quitar permiso")("disabled",o.isAdmin()||o.savingPerms())}}function ve(s,i){if(s&1){let e=S();t(0,"div",138)(1,"div",139)(2,"div",117)(3,"div",4),m(4,"div",140),t(5,"div")(6,"div",141),l(7),n(),t(8,"div",142)(9,"span",143),l(10),n()()()(),t(11,"button",144),f("click",function(){let o=h(e).$implicit,p=c(2);return b(p.removeGroup(o))}),g(),t(12,"svg",145),m(13,"path",61),n(),l(14," Quitar grupo "),n()()(),x(),t(15,"div",146)(16,"div",147),u(17,fe,7,6,"div",148),n()()()}if(s&2){let e=i.$implicit,r=i.index,o=c(2);A("animation-delay",r*100,"ms"),a(7),M(e.key.replace("."," \xB7 ")),a(3),w("",e.items.length," permisos"),a(),d("disabled",o.isAdmin()||o.savingPerms())("title",o.isAdmin()?"No permitido para ADMINISTRADOR":"Quitar todos los permisos del grupo"),a(6),d("ngForOf",e.items)("ngForTrackBy",o.trackByPermId)}}function _e(s,i){if(s&1){let e=S();I(0),t(1,"div",36)(2,"div",37)(3,"div",21)(4,"div",38),u(5,ne,4,2,"div",39)(6,ae,13,7,"form",40),n(),t(7,"div",41)(8,"div",42),g(),t(9,"svg",43),m(10,"path",7),n(),x(),t(11,"span",44),l(12,"Guard:"),n(),t(13,"span",45),l(14),n()(),t(15,"div",46),g(),t(16,"svg",47),m(17,"path",48),n(),x(),t(18,"span",49),l(19,"Usuarios:"),n(),t(20,"span",50),l(21),n()(),t(22,"div",51),g(),t(23,"svg",52),m(24,"path",53),n(),x(),t(25,"span",54),l(26,"Permisos:"),n(),t(27,"span",55),l(28),n()()()(),t(29,"div",56)(30,"button",57),f("click",function(){h(e);let o=c();return b(o.startEditName())}),g(),t(31,"svg",58),m(32,"path",59),n(),l(33," Renombrar "),n(),x(),t(34,"button",60),f("click",function(){h(e);let o=c();return b(o.deleteRole())}),g(),t(35,"svg",58),m(36,"path",61),n(),l(37),n()()()(),x(),t(38,"div",36)(39,"div",62)(40,"div")(41,"h3",63),l(42," Gesti\xF3n de Permisos "),n(),t(43,"p",64),l(44,"Agrega o remueve permisos del rol"),n()(),t(45,"button",65),f("click",function(){h(e);let o=c();return b(o.toggleAddOpen())}),g(),t(46,"svg",58),m(47,"path",66),n(),l(48),n()(),u(49,be,24,7,"div",67),n(),x(),t(50,"div",68),u(51,xe,9,0,"div",69)(52,ve,18,8,"div",70),n(),V()}if(s&2){let e=i.ngIf,r=c();a(5),d("ngIf",!r.editMode()),a(),d("ngIf",r.editMode()),a(8),M(e.guard_name),a(7),M(e.users_count??0),a(7),M((e.permissions==null?null:e.permissions.length)||0),a(2),d("disabled",r.isAdmin()||r.savingRename()||r.deletingRole())("title",r.isAdmin()?"No permitido para ADMINISTRADOR":"Renombrar rol"),a(4),d("disabled",r.isAdmin()||r.deletingRole())("title",r.isAdmin()?"No permitido para ADMINISTRADOR":"Eliminar rol"),a(3),w(" ",r.deletingRole()?"Eliminando\u2026":"Eliminar rol"," "),a(8),d("disabled",r.isAdmin()||r.loadingPerms()||r.savingPerms())("title",r.isAdmin()?"No permitido para ADMINISTRADOR":""),a(3),w(" ",r.addOpen()?"Cerrar selector":"A\xF1adir permisos"," "),a(),d("ngIf",r.addOpen()),a(2),d("ngIf",r.grouped().length===0),a(),d("ngForOf",r.grouped())("ngForTrackBy",r.trackByGroup)}}var E=class E{constructor(){this.route=N(B);this.router=N(j);this.api=N(K);this.loading=v(!0);this.error=v(null);this.savingRename=v(!1);this.savingPerms=v(!1);this.deletingRole=v(!1);this.loadingPerms=v(!1);this.role=v(null);this.allPerms=v([]);this.editMode=v(!1);this.editName=v("");this.addOpen=v(!1);this.addFilter=v("");this.addSelected=v(new Set);this.isAdmin=P(()=>(this.role()?.name??"").toUpperCase()==="ADMINISTRADOR");this.currentPerms=P(()=>this.role()?.permissions??[]);this.currentPermNames=P(()=>new Set(this.currentPerms().map(i=>i.name)));this.grouped=P(()=>this.groupByPrefix(this.currentPerms()));this.availablePerms=P(()=>this.allPerms().filter(i=>!this.currentPermNames().has(i.name)));this.availableFiltered=P(()=>{let i=this.addFilter().trim().toLowerCase();return i?this.availablePerms().filter(e=>e.name.toLowerCase().includes(i)):this.availablePerms()});this.availableGrouped=P(()=>this.groupByPrefix(this.availableFiltered()));this.trackByGroup=(i,e)=>e.key;this.trackByPermId=(i,e)=>e.id;let i=Number(this.route.snapshot.paramMap.get("id"));if(!i){this.router.navigate(["/ad/roles"]);return}this.loadRole(i)}async loadRole(i){this.loading.set(!0),this.error.set(null);try{let e=await y(this.api.obtenerRol(i)),r=e?.data??e;this.role.set(r),this.editName.set(r.name??""),await this.loadAllPermsForGuard(r.guard_name||"web")}catch(e){this.error.set(e?.error?.message??"No se pudo cargar el rol.")}finally{this.loading.set(!1)}}async loadAllPermsForGuard(i){this.loadingPerms.set(!0);try{let e=await y(this.api.listarPermisos(i));this.allPerms.set(e?.data??[])}catch(e){this.error.set(e?.error?.message??"No se pudieron cargar los permisos disponibles.")}finally{this.loadingPerms.set(!1)}}groupByPrefix(i){let e=new Map;for(let r of i){let o=(r.name??"").split("."),p=o.length>=2?`${o[0]}.${o[1]}`:o[0]||"otros";e.has(p)||e.set(p,[]),e.get(p).push(r)}return Array.from(e.entries()).map(([r,o])=>({key:r,items:o.slice().sort((p,_)=>p.name.localeCompare(_.name))})).sort((r,o)=>r.key.localeCompare(o.key))}startEditName(){this.isAdmin()||(this.editName.set(this.role()?.name??""),this.editMode.set(!0))}cancelEditName(){this.editMode.set(!1),this.editName.set(this.role()?.name??"")}async saveName(){let i=this.role();if(!i||this.isAdmin())return;let e=this.editName().trim();if(e.length<3){this.error.set("El nombre debe tener al menos 3 caracteres.");return}this.savingRename.set(!0),this.error.set(null);try{let r=await y(this.api.renombrarRol(i.id,{name:e,guard_name:i.guard_name})),o=r?.data??r;this.role.set(C(k({},i),{name:o.name})),this.editMode.set(!1)}catch(r){this.error.set(r?.error?.message??"No se pudo renombrar el rol.")}finally{this.savingRename.set(!1)}}async deleteRole(){let i=this.role();if(!(!i||this.isAdmin()||!window.confirm("\xBFEliminar este rol? Se desvincular\xE1n sus permisos."))){this.deletingRole.set(!0),this.error.set(null);try{await y(this.api.eliminarRol(i.id)),this.router.navigate(["/ad/roles"])}catch(r){this.error.set(r?.error?.message??"No se pudo eliminar el rol.")}finally{this.deletingRole.set(!1)}}}async removePerm(i){let e=this.role();if(!(!e||this.isAdmin()||!window.confirm(`\xBFQuitar el permiso "${i}" del rol "${e.name}"?`))){this.savingPerms.set(!0),this.error.set(null);try{let o=await y(this.api.revocarPermisosDeRol(e.id,[i])),p=o?.data??o;if(p?.permissions)this.role.set(C(k({},e),{permissions:p.permissions}));else{let _=(e.permissions??[]).filter(R=>R.name!==i);this.role.set(C(k({},e),{permissions:_}))}}catch(o){this.error.set(o?.error?.message??"No se pudo quitar el permiso.")}finally{this.savingPerms.set(!1)}}}async removeGroup(i){let e=this.role();if(!(!e||this.isAdmin()||!window.confirm(`\xBFQuitar TODOS los permisos del grupo "${i.key}" del rol "${e.name}"?
(${i.items.length} permisos)`))){this.savingPerms.set(!0),this.error.set(null);try{let o=i.items.map(R=>R.name),p=await y(this.api.revocarPermisosDeRol(e.id,o)),_=p?.data??p;if(_?.permissions)this.role.set(C(k({},e),{permissions:_.permissions}));else{let R=new Set(o),X=(e.permissions??[]).filter(Z=>!R.has(Z.name));this.role.set(C(k({},e),{permissions:X}))}}catch(o){this.error.set(o?.error?.message??"No se pudieron quitar los permisos del grupo.")}finally{this.savingPerms.set(!1)}}}toggleAddOpen(){this.isAdmin()||(this.addOpen.set(!this.addOpen()),this.addOpen()||(this.addFilter.set(""),this.addSelected.set(new Set)))}isAddChecked(i){return this.addSelected().has(i)}toggleAdd(i){let e=new Set(this.addSelected());e.has(i)?e.delete(i):e.add(i),this.addSelected.set(e)}isAddGroupFullySelected(i){let e=this.addSelected();return i.items.length>0&&i.items.every(r=>e.has(r.name))}toggleAddGroup(i){let e=new Set(this.addSelected());if(this.isAddGroupFullySelected(i))for(let o of i.items)e.delete(o.name);else for(let o of i.items)e.add(o.name);this.addSelected.set(e)}clearAddSelection(){this.addSelected.set(new Set)}async saveAdd(){let i=this.role();if(!i||this.isAdmin())return;let e=Array.from(this.addSelected());if(e.length!==0){this.savingPerms.set(!0),this.error.set(null);try{let r=await y(this.api.agregarPermisosARol(i.id,e)),o=r?.data??r;if(o?.permissions)this.role.set(C(k({},i),{permissions:o.permissions}));else{let p=new Set((i.permissions??[]).map(_=>_.name));e.forEach(_=>p.add(_)),await this.loadRole(i.id)}this.addFilter.set(""),this.addSelected.set(new Set),this.addOpen.set(!1)}catch(r){this.error.set(r?.error?.message??"No se pudieron agregar los permisos.")}finally{this.savingPerms.set(!1)}}}};E.\u0275fac=function(e){return new(e||E)},E.\u0275cmp=H({type:E,selectors:[["app-rolehaspermission-show-page"]],decls:21,vars:3,consts:[["data-page","rolehaspermission-show",1,"min-h-screen","bg-gradient-to-br","from-slate-50","via-blue-50/10","to-indigo-50/5","py-8"],[1,"mx-auto","max-w-7xl","px-4"],[1,"mb-8","flex","items-center","justify-between","gap-6"],[1,"space-y-2"],[1,"flex","items-center","gap-4"],[1,"p-3","bg-white","rounded-2xl","shadow-lg","border","border-slate-200/60","backdrop-blur-sm","group","hover:shadow-xl","transition-all","duration-500","hover:scale-105"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-7","h-7","text-blue-600","transition-transform","duration-500","group-hover:scale-110"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],[1,"text-3xl","font-bold","bg-gradient-to-r","from-slate-900","to-blue-800","bg-clip-text","text-transparent","drop-shadow-sm"],[1,"text-slate-600","flex","items-center","gap-2","mt-1"],[1,"w-1.5","h-1.5","bg-blue-500","rounded-full","animate-pulse"],["routerLink","/ad/roles",1,"group","inline-flex","items-center","gap-2","px-5","py-2.5","rounded-2xl","border","border-slate-300","bg-white","text-slate-700","shadow-lg","transition-all","duration-300","hover:bg-slate-50","hover:shadow-xl","hover:scale-105","hover:-translate-x-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform","duration-300","group-hover:-translate-x-0.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],["class",`mb-8 rounded-2xl border border-rose-200/80 bg-gradient-to-r from-rose-50 to-pink-50/60 p-6
                backdrop-blur-sm shadow-lg animate-fade-in`,4,"ngIf"],["class","bg-white/80 backdrop-blur-sm rounded-3xl border border-slate-200/60 p-12 text-center shadow-2xl",4,"ngIf"],[4,"ngIf"],[1,"mb-8","rounded-2xl","border","border-rose-200/80","bg-gradient-to-r","from-rose-50","to-pink-50/60","p-6","backdrop-blur-sm","shadow-lg","animate-fade-in"],[1,"flex-shrink-0","w-12","h-12","bg-rose-100","rounded-2xl","flex","items-center","justify-center","shadow-inner"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-rose-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex-1"],[1,"text-rose-800","font-semibold","text-lg","mb-1"],[1,"text-rose-700"],[1,"flex-shrink-0","w-8","h-8","rounded-xl","bg-rose-100","text-rose-600","flex","items-center","justify-center","transition-all","duration-300","hover:bg-rose-200","hover:scale-110",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"bg-white/80","backdrop-blur-sm","rounded-3xl","border","border-slate-200/60","p-12","text-center","shadow-2xl"],[1,"relative","inline-block","mb-6"],[1,"w-16","h-16","border-4","border-blue-200","rounded-2xl"],[1,"absolute","top-0","left-0","w-16","h-16","border-4","border-blue-600","rounded-2xl","border-t-transparent","animate-spin"],[1,"absolute","top-2","left-2","w-12","h-12","bg-blue-100","rounded-xl","animate-pulse"],[1,"text-lg","font-semibold","text-slate-700","mb-2"],[1,"text-slate-500"],[1,"mt-6","w-64","h-2","bg-slate-200","rounded-full","overflow-hidden","mx-auto"],[1,"h-full","bg-gradient-to-r","from-blue-500","to-indigo-500","rounded-full","animate-pulse-slow"],[1,"bg-white/80","backdrop-blur-sm","rounded-3xl","border","border-slate-200/60","p-8","mb-8","shadow-2xl"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-6"],[1,"flex","items-center","gap-4","mb-4"],["class","flex items-center gap-3",4,"ngIf"],["class","flex items-center gap-3 flex-1",3,"ngSubmit",4,"ngIf"],[1,"flex","flex-wrap","items-center","gap-4"],[1,"flex","items-center","gap-2","px-4","py-2","rounded-xl","bg-blue-50","border","border-blue-200/60"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-600"],[1,"text-sm","font-semibold","text-blue-700"],[1,"text-blue-900"],[1,"flex","items-center","gap-2","px-4","py-2","rounded-xl","bg-emerald-50","border","border-emerald-200/60"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-emerald-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-sm","font-semibold","text-emerald-700"],[1,"text-emerald-900","font-bold"],[1,"flex","items-center","gap-2","px-4","py-2","rounded-xl","bg-purple-50","border","border-purple-200/60"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","font-semibold","text-purple-700"],[1,"text-purple-900","font-bold"],[1,"flex","items-center","gap-3"],["type","button",1,"group","inline-flex","items-center","gap-2","px-5","py-2.5","rounded-xl","border","border-slate-300","bg-white","text-slate-700","font-semibold","shadow-lg","transition-all","duration-300","hover:bg-slate-50","hover:shadow-xl","hover:scale-105","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled","title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform","duration-300","group-hover:scale-110"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["type","button",1,"group","inline-flex","items-center","gap-2","px-5","py-2.5","rounded-xl","bg-gradient-to-r","from-rose-600","to-red-600","text-white","font-semibold","shadow-lg","transition-all","duration-300","hover:from-rose-700","hover:to-red-700","hover:shadow-xl","hover:scale-105","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"flex","items-center","justify-between","gap-4","mb-6"],[1,"text-xl","font-bold","bg-gradient-to-r","from-slate-900","to-emerald-800","bg-clip-text","text-transparent"],[1,"text-slate-600","mt-1"],["type","button",1,"group","inline-flex","items-center","gap-2","px-5","py-2.5","rounded-xl","bg-gradient-to-r","from-emerald-600","to-teal-600","text-white","font-semibold","shadow-lg","transition-all","duration-300","hover:from-emerald-700","hover:to-teal-700","hover:shadow-xl","hover:scale-105","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["class",`mt-6 border-2 border-dashed border-slate-300 rounded-3xl p-6 bg-gradient-to-br from-slate-50 to-blue-50/30
                    transition-all duration-500 animate-fade-in-up`,4,"ngIf"],[1,"space-y-6"],["class","empty bg-white/80 backdrop-blur-sm rounded-3xl border border-slate-200/60 p-12 text-center shadow-2xl",4,"ngIf"],["class",`group-card bg-white/80 backdrop-blur-sm rounded-3xl border border-slate-200/60
                    shadow-2xl overflow-hidden transition-all duration-500 hover:shadow-3xl animate-fade-in-up`,3,"animation-delay",4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-3xl","font-bold","bg-gradient-to-r","from-slate-900","to-blue-800","bg-clip-text","text-transparent"],["class",`inline-flex items-center gap-2 px-4 py-2 rounded-2xl bg-gradient-to-r from-amber-500 to-orange-500
                             text-white text-sm font-bold shadow-lg`,4,"ngIf"],[1,"inline-flex","items-center","gap-2","px-4","py-2","rounded-2xl","bg-gradient-to-r","from-amber-500","to-orange-500","text-white","text-sm","font-bold","shadow-lg"],[1,"flex","items-center","gap-3","flex-1",3,"ngSubmit"],[1,"flex-1","relative"],["placeholder","Nombre del rol","required","","minlength","3",1,"w-full","border","border-slate-300","rounded-2xl","px-5","py-4","text-slate-700","bg-white","shadow-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-300","hover:border-slate-400","hover:shadow-xl",3,"input","value"],[1,"absolute","right-4","top-1/2","transform","-translate-y-1/2"],["class","w-3 h-3 text-white","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"flex","gap-2"],["type","button",1,"px-5","py-2.5","rounded-xl","border","border-slate-300","bg-white","text-slate-700","font-semibold","shadow-lg","transition-all","duration-300","hover:bg-slate-50","hover:shadow-xl","hover:scale-105",3,"click"],["type","submit",1,"px-5","py-2.5","rounded-xl","bg-gradient-to-r","from-blue-600","to-indigo-600","text-white","font-semibold","shadow-lg","transition-all","duration-300","hover:from-blue-700","hover:to-indigo-700","hover:shadow-xl","hover:scale-105","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","items-center","gap-2"],["class","w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"w-4","h-4","border-2","border-white","border-t-transparent","rounded-full","animate-spin"],[1,"mt-6","border-2","border-dashed","border-slate-300","rounded-3xl","p-6","bg-gradient-to-br","from-slate-50","to-blue-50/30","transition-all","duration-500","animate-fade-in-up"],[1,"flex","flex-col","lg:flex-row","gap-4","items-end","mb-6"],[1,"flex-1","grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"text-sm","font-semibold","text-slate-700","flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"relative"],["placeholder","Filtrar permisos disponibles\u2026",1,"w-full","border","border-slate-300","rounded-xl","px-4","py-3","pl-11","text-slate-700","bg-white","shadow-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-300","hover:border-slate-400","hover:shadow-md",3,"ngModelChange","ngModel"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","w-5","h-5","text-slate-400"],[1,"flex","gap-3"],["type","button",1,"group","flex","items-center","gap-2","px-4","py-2.5","rounded-xl","border","border-slate-300","bg-white","text-slate-700","font-medium","shadow-lg","transition-all","duration-300","hover:bg-slate-50","hover:shadow-xl","hover:scale-105",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform","duration-300","group-hover:rotate-180"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["type","button",1,"group","flex","items-center","gap-2","px-5","py-2.5","rounded-xl","bg-gradient-to-r","from-blue-600","to-indigo-600","text-white","font-semibold","shadow-lg","transition-all","duration-300","hover:from-blue-700","hover:to-indigo-700","hover:shadow-xl","hover:scale-105","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","text-center py-8 rounded-2xl bg-white/80 border border-slate-200/60",4,"ngIf"],[1,"text-center","py-8","rounded-2xl","bg-white/80","border","border-slate-200/60"],[1,"relative","inline-block","mb-4"],[1,"w-12","h-12","border-3","border-blue-200","rounded-xl"],[1,"absolute","top-0","left-0","w-12","h-12","border-3","border-blue-600","rounded-xl","border-t-transparent","animate-spin"],[1,"text-slate-600","font-medium"],["class","empty text-center py-12 rounded-2xl bg-slate-50/80 border-2 border-dashed border-slate-300",4,"ngIf"],[1,"space-y-4"],["class",`group-card bg-white rounded-2xl border border-slate-200/60 shadow-lg overflow-hidden
                          transition-all duration-500 hover:shadow-xl animate-fade-in-up`,3,"animation-delay",4,"ngFor","ngForOf","ngForTrackBy"],[1,"empty","text-center","py-12","rounded-2xl","bg-slate-50/80","border-2","border-dashed","border-slate-300"],[1,"mb-4","grid","h-16","w-16","place-items-center","rounded-2xl","bg-slate-100","text-slate-400","mx-auto"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8"],[1,"text-lg","font-bold","text-slate-800","mb-2"],[1,"text-slate-600"],[1,"group-card","bg-white","rounded-2xl","border","border-slate-200/60","shadow-lg","overflow-hidden","transition-all","duration-500","hover:shadow-xl","animate-fade-in-up"],[1,"group-head","bg-gradient-to-r","from-slate-50","to-slate-100/60","p-4","border-b","border-slate-200/60"],[1,"flex","items-center","justify-between"],[1,"relative","flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only",3,"change","checked"],[1,"font-bold","text-slate-900","capitalize"],[1,"text-xs","text-slate-600","mt-1"],[1,"group-body","p-4","bg-gradient-to-br","from-white","to-slate-50/30"],[1,"perm-grid"],["class",`perm-item group/perm relative bg-white border border-slate-200/60 rounded-xl p-3
                                  transition-all duration-300 hover:border-blue-300 hover:shadow-lg cursor-pointer
                                  animate-fade-in-up`,3,"animation-delay","border-blue-300","bg-blue-50",4,"ngFor","ngForOf","ngForTrackBy"],[1,"perm-item","group/perm","relative","bg-white","border","border-slate-200/60","rounded-xl","p-3","transition-all","duration-300","hover:border-blue-300","hover:shadow-lg","cursor-pointer","animate-fade-in-up"],[1,"flex","items-center","gap-3","w-full"],["class","w-2.5 h-2.5 text-white","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"perm-name","font-mono","text-sm","text-slate-800","group-hover/perm:text-slate-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-2.5","h-2.5","text-white"],[1,"empty","bg-white/80","backdrop-blur-sm","rounded-3xl","border","border-slate-200/60","p-12","text-center","shadow-2xl"],[1,"mb-6","relative"],[1,"w-20","h-20","bg-gradient-to-br","from-slate-100","to-slate-200","rounded-2xl","flex","items-center","justify-center","mx-auto","shadow-inner"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"text-2xl","font-bold","text-slate-900","mb-3"],[1,"text-slate-600","mb-8","leading-relaxed"],[1,"group-card","bg-white/80","backdrop-blur-sm","rounded-3xl","border","border-slate-200/60","shadow-2xl","overflow-hidden","transition-all","duration-500","hover:shadow-3xl","animate-fade-in-up"],[1,"group-head","bg-gradient-to-r","from-slate-50","to-blue-50/30","p-6","border-b","border-slate-200/60"],[1,"w-3","h-3","bg-gradient-to-r","from-blue-500","to-cyan-500","rounded-full","shadow-lg"],[1,"font-bold","text-slate-900","text-lg","capitalize"],[1,"flex","items-center","gap-3","mt-1"],[1,"text-sm","text-slate-600"],["type","button",1,"group/btn","inline-flex","items-center","gap-2","px-4","py-2","rounded-xl","border","border-rose-200","bg-white","text-rose-700","font-medium","shadow-lg","transition-all","duration-300","hover:bg-rose-50","hover:border-rose-300","hover:shadow-xl","hover:scale-105","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled","title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","transition-transform","duration-300","group-hover/btn:scale-110"],[1,"group-body","p-6","bg-gradient-to-br","from-white","to-slate-50/30"],[1,"perm-grid-enhanced"],["class",`perm-chip-enhanced group/perm relative bg-white border border-slate-200/60 rounded-2xl p-4
                          shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 animate-fade-in-up`,3,"animation-delay",4,"ngFor","ngForOf","ngForTrackBy"],[1,"perm-chip-enhanced","group/perm","relative","bg-white","border","border-slate-200/60","rounded-2xl","p-4","shadow-lg","transition-all","duration-300","hover:shadow-xl","hover:scale-105","animate-fade-in-up"],[1,"flex","items-center","justify-between","gap-3"],[1,"perm-chip-name","font-mono","text-sm","text-slate-800","group-hover/perm:text-slate-900","flex-1","min-w-0","truncate",3,"title"],["type","button",1,"perm-chip-x","w-8","h-8","rounded-xl","bg-slate-100","text-slate-600","flex","items-center","justify-center","transition-all","duration-300","hover:bg-rose-100","hover:text-rose-600","hover:scale-110","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","title","disabled"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),g(),t(6,"svg",6),m(7,"path",7),n()(),x(),t(8,"div")(9,"h1",8),l(10," Detalle del Rol "),n(),t(11,"p",9),m(12,"span",10),l(13," Consulta y gestiona los permisos del rol "),n()()()(),t(14,"a",11),g(),t(15,"svg",12),m(16,"path",13),n(),l(17," Volver a roles "),n()(),u(18,ee,13,1,"div",14)(19,te,11,0,"div",15)(20,_e,53,17,"ng-container",16),n()()),e&2&&(a(18),d("ngIf",r.error()),a(),d("ngIf",r.loading()),a(),d("ngIf",!r.loading()&&r.role()))},dependencies:[D,F,O,J,U,$,z,Q,q,Y,L],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fade-in-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse-slow{0%,to{opacity:.6}50%{opacity:1}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .6s ease-out}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in-up .8s ease-out}.animate-pulse-slow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-slow 2s ease-in-out infinite}.perm-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:.75rem}@media (min-width: 768px){.perm-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 1024px){.perm-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}.perm-grid-enhanced[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1rem}@media (min-width: 640px){.perm-grid-enhanced[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 1024px){.perm-grid-enhanced[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1280px){.perm-grid-enhanced[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}button[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px;border-radius:.5rem}*[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}"]});var W=E;export{W as RoleHasPermissionShowPage};
