import{a as H}from"./chunk-PQMDU5SM.js";import{A as G,b as j,d as O,i as z}from"./chunk-J2XPQYKK.js";import"./chunk-LWNR2F3M.js";import{f as R,g as q,h as B,j as V}from"./chunk-5VQTM22E.js";import{j as T,k as A,u as N}from"./chunk-FE5WSVYG.js";import{$a as t,Fb as F,Ka as I,Ob as L,Pa as f,T as S,Y as _,Z as E,_a as m,ab as e,bb as l,fa as b,gb as w,kb as u,mb as g,rb as C,tb as P,vb as i,wb as h,xb as c,ya as a,yb as D}from"./chunk-63T4HJ2B.js";import"./chunk-IMPBB4AK.js";var J=()=>({exact:!0});function K(d,o){d&1&&l(0,"i",49)}function Q(d,o){if(d&1){let n=w();t(0,"div",50)(1,"div",5),l(2,"i",51),t(3,"div",52)(4,"div",53),i(5,"B\xFAsqueda sin resultados"),e(),t(6,"div",54),i(7),e()(),t(8,"button",55),u("click",function(){_(n);let s=g();return E(s.error.set(null))}),l(9,"i",56),e()()()}if(d&2){let n=g();a(7),h(n.error())}}function W(d,o){if(d&1&&(t(0,"div",71),l(1,"i",87),t(2,"span")(3,"b"),i(4,"Email:"),e(),i(5),e()()),d&2){let n,r=g(2);a(5),c(" ",(n=r.data().user)==null?null:n.email)}}function X(d,o){if(d&1&&(t(0,"tr",94)(1,"td",95),i(2),e(),t(3,"td",96)(4,"span",97),i(5),e(),t(6,"span",98),i(7,"/"),e(),t(8,"span",99),i(9),e()(),t(10,"td",96)(11,"span",100),i(12),e()(),t(13,"td",96)(14,"span",99),i(15),e()(),t(16,"td",101),i(17),e()()),d&2){let n=o.$implicit;a(2),h(n.periodo_id||"\u2014"),a(3),h(n.ciclo||"\u2014"),a(4),h(n.grupo||"\u2014"),a(3),c(" ",n.modalidad_estudio||"\u2014"," "),a(3),h(n.modo_contrato||"\u2014"),a(2),c(" ",n.fecha_matricula||"\u2014"," ")}}function Y(d,o){if(d&1&&(t(0,"div",88)(1,"table",89)(2,"thead",90)(3,"tr")(4,"th",91),i(5,"Per\xEDodo"),e(),t(6,"th",91),i(7,"Ciclo/Grupo"),e(),t(8,"th",91),i(9,"Modalidad"),e(),t(10,"th",91),i(11,"Modo"),e(),t(12,"th",91),i(13,"Fecha"),e()()(),t(14,"tbody",92),f(15,X,18,6,"tr",93),e()()()),d&2){let n=g(2);a(15),m("ngForOf",n.data().matriculas)}}function Z(d,o){d&1&&(t(0,"div",102),l(1,"i",103),t(2,"div",104),i(3,"No se encontraron matr\xEDculas"),e(),t(4,"div",54),i(5,"Este estudiante no tiene matr\xEDculas registradas en el sistema"),e()())}function ee(d,o){if(d&1){let n=w();t(0,"section",57)(1,"div",58)(2,"div",5)(3,"div",59),l(4,"i",60),e(),t(5,"div")(6,"h2",29),i(7,"Estudiante Encontrado"),e(),t(8,"p",30),i(9,"Informaci\xF3n acad\xE9mica y personal del estudiante"),e()()(),t(10,"div",61),i(11," Resultados encontrados "),e()(),t(12,"div",62)(13,"div",63)(14,"div",64)(15,"div",65)(16,"div",66)(17,"div",67),l(18,"i",68),e(),t(19,"div")(20,"div",69),i(21),e(),t(22,"div",70)(23,"div",71),l(24,"i",72),t(25,"span")(26,"b"),i(27,"C\xF3digo:"),e(),i(28),e()(),t(29,"div",71),l(30,"i",73),t(31,"span")(32,"b"),i(33,"Documento:"),e(),i(34),e()(),t(35,"div",71),l(36,"i",74),t(37,"span")(38,"b"),i(39,"EP\u2011SEDE:"),e(),i(40),e()(),f(41,W,6,1,"div",75),e()()()()()(),t(42,"div",76)(43,"button",77),u("click",function(){_(n);let s=g();return E(s.irRegistrar())}),l(44,"i",78),i(45," Editar Datos "),e(),t(46,"button",79),u("click",function(){_(n);let s=g();return E(s.irMatricular())}),l(47,"i",23),i(48," Gestionar Matr\xEDcula "),e()()(),t(49,"div",80)(50,"div",81)(51,"div",82),l(52,"i",83),e(),t(53,"h3",84),i(54,"Historial de Matr\xEDculas"),e(),t(55,"span",85),i(56),e()(),f(57,Y,16,1,"div",86)(58,Z,6,0,"ng-template",null,0,L),e()()}if(d&2){let n,r,s,x,M,y,k,$=C(59),p=g();a(21),D(" ",(n=p.data().user)==null?null:n.first_name," ",(n=p.data().user)==null?null:n.last_name," "),a(7),c(" ",((r=p.data().expediente)==null?null:r.codigo_estudiante)||"\u2014"),a(6),c(" ",((s=p.data().user)==null?null:s.doc_numero)||"\u2014"),a(6),c(" ",((x=p.data().expediente)==null?null:x.ep_sede_id)||"\u2014"),a(),m("ngIf",(M=p.data().user)==null?null:M.email),a(15),c(" ",((y=p.data().matriculas)==null?null:y.length)||0," registros "),a(),m("ngIf",(k=p.data().matriculas)==null?null:k.length)("ngIfElse",$)}}var v=class v{constructor(){this.api=S(H);this.router=S(R);this.codigo=b("");this.documento=b("");this.email=b("");this.loading=b(!1);this.error=b(null);this.data=b(null)}buscar(){if(!this.codigo()&&!this.documento()&&!this.email()){this.error.set("Por favor, ingresa al menos un criterio de b\xFAsqueda.");return}this.loading.set(!0),this.error.set(null),this.data.set(null),this.api.buscar({codigo:this.codigo().trim(),documento:this.documento().trim(),email:this.email().trim()}).subscribe({next:o=>{o.ok?this.data.set(o.data):this.error.set(o.message||"No se encontraron estudiantes con los criterios proporcionados.")},error:o=>{this.error.set(o?.error?.message||"Error de conexi\xF3n. Por favor, intenta nuevamente.")},complete:()=>this.loading.set(!1)})}limpiar(){this.codigo.set(""),this.documento.set(""),this.email.set(""),this.data.set(null),this.error.set(null)}irRegistrar(){let o=this.data(),n={};o?.expediente?.codigo_estudiante&&(n.codigo=o.expediente.codigo_estudiante),this.router.navigate(["/m/manual/registrar"],{queryParams:n})}irMatricular(){let o=this.data(),n={};o?.expediente?.id&&(n.expedienteId=o.expediente.id),o?.expediente?.codigo_estudiante&&(n.codigo=o.expediente.codigo_estudiante),this.router.navigate(["/m/manual/matricular"],{queryParams:n})}};v.\u0275fac=function(n){return new(n||v)},v.\u0275cmp=I({type:v,selectors:[["m-manual-search-page"]],decls:76,vars:12,consts:[["sinMatriculas",""],[1,"min-h-screen","bg-gradient-to-br","from-slate-50","to-blue-50/30","pb-16"],[1,"border-b","border-slate-200","bg-white/90","backdrop-blur-sm","sticky","top-0","z-20","shadow-sm"],[1,"max-w-6xl","mx-auto","px-4","py-4"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-3"],[1,"p-2","rounded-xl","bg-gradient-to-br","from-blue-500","to-blue-600","text-white","shadow-md"],[1,"fa-solid","fa-user-graduate","text-lg"],[1,"text-xs","text-slate-500","mb-1","flex","items-center","gap-1"],["routerLink","/",1,"hover:text-slate-700","font-medium","transition-colors","duration-200"],[1,"fa-solid","fa-chevron-right","text-[10px]","text-slate-400"],["routerLink","/m",1,"hover:text-slate-700","font-medium","transition-colors","duration-200"],[1,"text-blue-600","font-semibold"],[1,"text-2xl","font-bold","text-slate-900","tracking-tight"],[1,"text-sm","text-slate-600","mt-1"],[1,"mt-6","flex","flex-wrap","gap-2"],["routerLink","/m/import","routerLinkActive","bg-blue-600 text-white shadow-md",1,"inline-flex","items-center","gap-2","rounded-xl","px-4","py-2.5","text-sm","font-semibold","border","border-blue-200","text-blue-700","hover:bg-blue-50","transition-all","duration-200","hover:shadow-sm",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-file-import"],["routerLink","/m/manual/buscar","routerLinkActive","bg-blue-600 text-white shadow-md",1,"inline-flex","items-center","gap-2","rounded-xl","px-4","py-2.5","text-sm","font-semibold","border","border-blue-200","text-blue-700","hover:bg-blue-50","transition-all","duration-200","hover:shadow-sm"],[1,"fa-solid","fa-magnifying-glass"],["routerLink","/m/manual/registrar","routerLinkActive","bg-blue-600 text-white shadow-md",1,"inline-flex","items-center","gap-2","rounded-xl","px-4","py-2.5","text-sm","font-semibold","border","border-blue-200","text-blue-700","hover:bg-blue-50","transition-all","duration-200","hover:shadow-sm"],[1,"fa-solid","fa-user-pen"],["routerLink","/m/manual/matricular","routerLinkActive","bg-blue-600 text-white shadow-md",1,"inline-flex","items-center","gap-2","rounded-xl","px-4","py-2.5","text-sm","font-semibold","border","border-blue-200","text-blue-700","hover:bg-blue-50","transition-all","duration-200","hover:shadow-sm"],[1,"fa-solid","fa-graduation-cap"],[1,"max-w-6xl","mx-auto","px-4","pt-8","space-y-8"],[1,"rounded-2xl","border","border-slate-200","bg-white","p-6","shadow-sm"],[1,"flex","items-center","gap-3","mb-6"],[1,"p-2","rounded-xl","bg-blue-100","text-blue-600"],[1,"fa-solid","fa-search","text-lg"],[1,"text-xl","font-bold","text-slate-900"],[1,"text-sm","text-slate-600"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"space-y-2"],[1,"block","text-sm","font-semibold","text-slate-700"],[1,"relative"],["placeholder","Ej: 20240001",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm","transition-all","duration-200","focus:border-blue-500","focus:ring-2","focus:ring-blue-200","shadow-sm",3,"ngModelChange","ngModel"],[1,"absolute","right-3","top-1/2","transform","-translate-y-1/2","text-slate-400"],[1,"fa-solid","fa-id-card","text-sm"],["placeholder","N\xFAmero de documento",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm","transition-all","duration-200","focus:border-blue-500","focus:ring-2","focus:ring-blue-200","shadow-sm",3,"ngModelChange","ngModel"],[1,"fa-solid","fa-address-card","text-sm"],["placeholder","usuario@ejemplo.com",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm","transition-all","duration-200","focus:border-blue-500","focus:ring-2","focus:ring-blue-200","shadow-sm",3,"ngModelChange","ngModel"],[1,"fa-solid","fa-envelope","text-sm"],[1,"flex","flex-wrap","gap-4","mt-6","pt-6","border-t","border-slate-100"],[1,"inline-flex","items-center","gap-3","rounded-xl","bg-gradient-to-r","from-blue-600","to-blue-700","px-6","py-3.5","text-sm","font-semibold","text-white","hover:from-blue-700","hover:to-blue-800","disabled:opacity-50","disabled:cursor-not-allowed","transition-all","duration-200","shadow-lg","hover:shadow-xl","disabled:shadow-md",3,"click","disabled"],["class","fa-solid fa-circle-notch animate-spin",4,"ngIf"],[1,"inline-flex","items-center","gap-2","rounded-xl","border","border-slate-300","bg-white","px-5","py-3.5","text-sm","font-semibold","text-slate-700","hover:bg-slate-50","hover:border-slate-400","transition-all","duration-200","shadow-sm",3,"click"],[1,"fa-solid","fa-broom"],["class","mt-6 rounded-xl border border-rose-200 bg-rose-50 p-4 text-rose-800 animate-fade-in",4,"ngIf"],["class","rounded-2xl border border-slate-200 bg-white p-6 shadow-sm animate-fade-in",4,"ngIf"],[1,"fa-solid","fa-circle-notch","animate-spin"],[1,"mt-6","rounded-xl","border","border-rose-200","bg-rose-50","p-4","text-rose-800","animate-fade-in"],[1,"fa-solid","fa-circle-exclamation","text-rose-600","text-lg"],[1,"flex-1"],[1,"font-semibold"],[1,"text-sm","mt-1"],[1,"text-rose-400","hover:text-rose-600","transition-colors","duration-200",3,"click"],[1,"fa-solid","fa-xmark","text-sm"],[1,"rounded-2xl","border","border-slate-200","bg-white","p-6","shadow-sm","animate-fade-in"],[1,"flex","items-center","justify-between","mb-6","pb-4","border-b","border-slate-100"],[1,"p-2","rounded-xl","bg-emerald-100","text-emerald-600"],[1,"fa-solid","fa-user-check","text-lg"],[1,"text-xs","px-3","py-1","rounded-full","bg-emerald-100","text-emerald-700","font-medium"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6","mb-6"],[1,"lg:col-span-3"],[1,"rounded-xl","border","border-blue-200","bg-gradient-to-r","from-blue-50","to-blue-100/50","p-4"],[1,"flex","items-start","justify-between"],[1,"flex","items-start","gap-3"],[1,"p-2","rounded-lg","bg-white","text-blue-600","shadow-sm","mt-1"],[1,"fa-solid","fa-user","text-sm"],[1,"font-bold","text-blue-900","text-lg"],[1,"text-sm","text-blue-700","mt-2","space-y-1"],[1,"flex","items-center","gap-2"],[1,"fa-solid","fa-id-card","text-xs","w-4"],[1,"fa-solid","fa-address-card","text-xs","w-4"],[1,"fa-solid","fa-building","text-xs","w-4"],["class","flex items-center gap-2",4,"ngIf"],[1,"space-y-3"],[1,"w-full","inline-flex","items-center","gap-2","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm","font-semibold","text-slate-700","hover:bg-slate-50","hover:border-slate-400","transition-all","duration-200","shadow-sm",3,"click"],[1,"fa-solid","fa-user-pen","text-blue-600"],[1,"w-full","inline-flex","items-center","gap-2","rounded-xl","bg-gradient-to-r","from-blue-600","to-blue-700","px-4","py-3","text-sm","font-semibold","text-white","hover:from-blue-700","hover:to-blue-800","transition-all","duration-200","shadow-lg","hover:shadow-xl",3,"click"],[1,"rounded-xl","border","border-slate-200","bg-slate-50/50","p-5"],[1,"flex","items-center","gap-3","mb-4"],[1,"p-2","rounded-lg","bg-purple-100","text-purple-600"],[1,"fa-solid","fa-history","text-sm"],[1,"text-lg","font-semibold","text-slate-900"],[1,"text-xs","px-2","py-1","rounded-full","bg-slate-200","text-slate-700","font-medium"],["class","overflow-hidden rounded-lg border border-slate-200 bg-white shadow-sm",4,"ngIf","ngIfElse"],[1,"fa-solid","fa-envelope","text-xs","w-4"],[1,"overflow-hidden","rounded-lg","border","border-slate-200","bg-white","shadow-sm"],[1,"min-w-full","text-sm"],[1,"bg-slate-50","border-b","border-slate-200"],[1,"px-4","py-3","text-left","font-semibold","text-slate-700","text-xs","uppercase","tracking-wider"],[1,"divide-y","divide-slate-200"],["class","hover:bg-slate-50/50 transition-colors duration-150",4,"ngFor","ngForOf"],[1,"hover:bg-slate-50/50","transition-colors","duration-150"],[1,"px-4","py-3","font-medium","text-slate-900"],[1,"px-4","py-3"],[1,"font-medium","text-slate-900"],[1,"text-slate-400","mx-1"],[1,"text-slate-700"],[1,"inline-flex","items-center","gap-1.5","rounded-full","px-2.5","py-1","text-xs","font-medium","bg-blue-100","text-blue-700"],[1,"px-4","py-3","text-slate-600"],[1,"text-center","py-8","text-slate-500"],[1,"fa-solid","fa-inbox","text-3xl","text-slate-300","mb-3"],[1,"font-medium","text-slate-700"]],template:function(n,r){n&1&&(t(0,"div",1)(1,"header",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),l(6,"i",7),e(),t(7,"div")(8,"nav",8)(9,"a",9),i(10,"Inicio"),e(),l(11,"i",10),t(12,"a",11),i(13,"Matr\xEDculas"),e(),l(14,"i",10),t(15,"span",12),i(16,"B\xFAsqueda Manual"),e()(),t(17,"h1",13),i(18,"B\xFAsqueda de Estudiantes"),e(),t(19,"p",14),i(20,"Localiza estudiantes por c\xF3digo, documento o correo electr\xF3nico"),e()()()(),t(21,"div",15)(22,"a",16),l(23,"i",17),i(24," Importaci\xF3n Masiva "),e(),t(25,"a",18),l(26,"i",19),i(27," Buscar Estudiantes "),e(),t(28,"a",20),l(29,"i",21),i(30," Registrar/Editar "),e(),t(31,"a",22),l(32,"i",23),i(33," Gestionar Matr\xEDcula "),e()()()(),t(34,"main",24)(35,"section",25)(36,"div",26)(37,"div",27),l(38,"i",28),e(),t(39,"div")(40,"h2",29),i(41,"Criterios de B\xFAsqueda"),e(),t(42,"p",30),i(43,"Utiliza al menos uno de los siguientes campos"),e()()(),t(44,"div",31)(45,"div",32)(46,"label",33),i(47,"C\xF3digo del Estudiante"),e(),t(48,"div",34)(49,"input",35),u("ngModelChange",function(x){return r.codigo.set(x)}),e(),t(50,"div",36),l(51,"i",37),e()()(),t(52,"div",32)(53,"label",33),i(54,"Documento de Identidad"),e(),t(55,"div",34)(56,"input",38),u("ngModelChange",function(x){return r.documento.set(x)}),e(),t(57,"div",36),l(58,"i",39),e()()(),t(59,"div",32)(60,"label",33),i(61,"Correo Electr\xF3nico"),e(),t(62,"div",34)(63,"input",40),u("ngModelChange",function(x){return r.email.set(x)}),e(),t(64,"div",36),l(65,"i",41),e()()()(),t(66,"div",42)(67,"button",43),u("click",function(){return r.buscar()}),l(68,"i",19),f(69,K,1,0,"i",44),i(70),e(),t(71,"button",45),u("click",function(){return r.limpiar()}),l(72,"i",46),i(73," Limpiar B\xFAsqueda "),e()(),f(74,Q,10,1,"div",47),e(),f(75,ee,60,9,"section",48),e()()),n&2&&(a(22),m("routerLinkActiveOptions",F(11,J)),a(27),m("ngModel",r.codigo()),a(7),m("ngModel",r.documento()),a(7),m("ngModel",r.email()),a(4),m("disabled",r.loading()||!r.codigo()&&!r.documento()&&!r.email()),a(),P("hidden",r.loading()),a(),m("ngIf",r.loading()),a(),c(" ",r.loading()?"Buscando...":"Buscar Estudiante"," "),a(4),m("ngIf",r.error()),a(),m("ngIf",r.data()))},dependencies:[N,T,A,G,j,O,z,V,q,B],encapsulation:2});var U=v;export{U as MManualSearchPage};
