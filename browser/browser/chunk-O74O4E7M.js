import{a as ye}from"./chunk-G33XJ7AN.js";import{a as Ee}from"./chunk-IZ77CWTJ.js";import{a as Se}from"./chunk-VU2HTVBD.js";import{A as ve,d as ue,i as fe,r as xe,s as he,t as be}from"./chunk-J2XPQYKK.js";import{a as _e}from"./chunk-QG2H74YZ.js";import"./chunk-LWNR2F3M.js";import{g as ge}from"./chunk-5VQTM22E.js";import{i as le,j as de,k as me,q as ce,u as pe}from"./chunk-FE5WSVYG.js";import{$a as o,Gb as W,Ka as oe,Kb as F,Mb as O,Ob as q,Pa as f,T as Y,Tb as v,Y as G,Z as J,_a as l,ab as n,bb as m,eb as I,fa as h,fb as N,gb as X,kb as k,mb as u,n as z,ob as re,pb as se,qb as ae,rb as H,vb as a,wb as D,xb as p,ya as r,yb as y}from"./chunk-63T4HJ2B.js";import"./chunk-IMPBB4AK.js";var Ie=["sentinel"],Ne=s=>({"fa-spin":s}),ke=s=>["/vm","sesiones",s,"qr"],Le=s=>["/vm","sesiones",s,"asistencia"];function Fe(s,t){if(s&1&&(o(0,"option",21),a(1),n()),s&2){let e,i=u();l("ngValue","CURRENT"),r(),y(" Actual (",(e=i.defaultPeriodo())==null?null:e.anio,"-",(e=i.defaultPeriodo())==null?null:e.ciclo,") ")}}function Oe(s,t){if(s&1&&(o(0,"span"),a(1),n()),s&2){let e=u().$implicit;r(),p("(",e.estado,")")}}function Me(s,t){if(s&1&&(o(0,"option",21),a(1),f(2,Oe,2,1,"span",29),n()),s&2){let e=t.$implicit;l("ngValue",e.id),r(),y(" ",e.anio,"-",e.ciclo," "),r(),l("ngIf",e.estado)}}function Re(s,t){if(s&1&&(I(0),o(1,"optgroup",31),f(2,Me,3,4,"option",32),n(),N()),s&2){let e=t.$implicit;r(),l("label","A\xF1o "+e.anio),r(),l("ngForOf",e.items)}}function Ae(s,t){if(s&1){let e=X();I(0),o(1,"div",33),m(2,"div",34),o(3,"div",35)(4,"div",36),m(5,"i",37),n(),o(6,"h3",38),a(7,"Error al cargar sesiones"),n(),o(8,"p",39),a(9),n(),o(10,"button",40),k("click",function(){G(e);let d=u();return J(d.fetch())}),m(11,"i",41),a(12," Reintentar "),n()()(),N()}if(s&2){let e=u();r(9),D(e.error())}}function De(s,t){if(s&1&&(I(0),o(1,"div",43)(2,"span",44),a(3,"Total"),n(),o(4,"span",45),a(5),n(),o(6,"span",44),a(7,"proyecto(s)"),n()(),N()),s&2){let e=t.ngIf;r(5),D(e)}}function Ve(s,t){if(s&1&&(o(0,"div",42)(1,"div",43)(2,"span",44),a(3,"Mostrando"),n(),o(4,"span",45),a(5),n(),o(6,"span",44),a(7,"sesi\xF3n(es)"),n()(),f(8,De,8,1,"ng-container",29),n()),s&2){let e=u();r(5),D(e.visibleCount()),r(3),l("ngIf",e.totalProj())}}function Ue(s,t){if(s&1&&(o(0,"div",64)(1,"div",65)(2,"div",66),m(3,"span",67)(4,"span",68),n()(),o(5,"div",69)(6,"div",70)(7,"span",71),m(8,"i",72),a(9," En curso "),n(),o(10,"span",73),a(11),F(12,"date"),n()()(),o(13,"div",74)(14,"div",75)(15,"div",76)(16,"h3",77),a(17),n(),o(18,"div",78)(19,"span",79),m(20,"i",80),a(21),n(),o(22,"span",81),a(23),n(),o(24,"span",82),a(25),n()()(),o(26,"div",83)(27,"a",84),m(28,"i",85),a(29," Pantalla QR "),n(),o(30,"a",86),m(31,"i",87),a(32," Llamado "),n(),o(33,"a",88),m(34,"i",89),a(35," Ver detalles "),n()()()(),o(36,"span",90),a(37),n()()),s&2){let e=t.$implicit,i=u(3);r(11),y(" ",O(12,13,e.sesion.fecha,"mediumDate")," \xB7 ",i.horaRange(e.sesion)," "),r(6),p(" ",i.cardTitle(e)," "),r(4),p(" ",i.cardContextName(e)," "),r(2),y(" Sesi\xF3n ",e.sesionIndex," de ",e.sesionTotal," "),r(),l("ngClass",i.estadoChipClass(e)),r(),p(" ",i.relLabel(e)," "),r(2),l("routerLink",W(16,ke,e.sesion.id)),r(3),l("routerLink",W(18,Le,e.sesion.id)),r(3),l("routerLink",i.cardRouterLink(e)),r(3),l("ngClass",i.cardTypeClass(e)),r(),p(" ",i.cardTypeLetter(e)," ")}}function $e(s,t){if(s&1&&(o(0,"section",58)(1,"div",59)(2,"div",8)(3,"div",60),m(4,"i",61),n(),o(5,"div")(6,"h2",51),a(7,"En curso ahora"),n(),o(8,"p",52),a(9),n()()()(),o(10,"div",62),f(11,Ue,38,20,"div",63),n()()),s&2){let e=u(2);r(9),p("",e.currentNow().length," sesi\xF3n(es) activa(s)"),r(2),l("ngForOf",e.currentNow())("ngForTrackBy",e.trackBySesion)}}function je(s,t){if(s&1&&(o(0,"section",58)(1,"div",92)(2,"div",93)(3,"div",70)(4,"span",94),m(5,"i",95),a(6," Pr\xF3xima sesi\xF3n "),n(),o(7,"span",73),a(8),F(9,"date"),n()()(),o(10,"div",74)(11,"div",75)(12,"div",76)(13,"h3",77),a(14),n(),o(15,"div",78)(16,"span",79),m(17,"i",80),a(18),n(),o(19,"span",81),a(20),n(),o(21,"span",82),a(22),n()()(),o(23,"div",14)(24,"a",88),m(25,"i",89),a(26," Ver detalles "),n()()()(),o(27,"span",90),a(28),n()()()),s&2){let e=t.ngIf,i=u(3);r(8),y(" ",O(9,11,e.sesion.fecha,"mediumDate")," \xB7 ",i.horaRange(e.sesion)," "),r(6),p(" ",i.cardTitle(e)," "),r(4),p(" ",i.cardContextName(e)," "),r(2),y(" Sesi\xF3n ",e.sesionIndex," de ",e.sesionTotal," "),r(),l("ngClass",i.estadoChipClass(e)),r(),p(" ",i.relLabel(e)," "),r(2),l("routerLink",i.cardRouterLink(e)),r(3),l("ngClass",i.cardTypeClass(e)),r(),p(" ",i.cardTypeLetter(e)," ")}}function Be(s,t){if(s&1&&f(0,je,29,14,"section",91),s&2){let e=u(2);l("ngIf",e.heroCard())}}function ze(s,t){if(s&1&&(o(0,"div",98)(1,"div",99)(2,"div",76)(3,"h4",100),a(4),n(),o(5,"div",78)(6,"span",101),m(7,"i",80),a(8),n(),o(9,"span",102),a(10),n()(),o(11,"div",103)(12,"span",104),m(13,"i",105),a(14),F(15,"date"),n(),o(16,"span",106),a(17),n(),o(18,"span",82),a(19),n()()(),o(20,"div",14)(21,"a",107),m(22,"i",89),n()()(),o(23,"span",108),a(24),n()()),s&2){let e=t.$implicit,i=u(3);r(4),p(" ",i.cardTitle(e)," "),r(4),p(" ",i.cardContextName(e)," "),r(2),y(" Sesi\xF3n ",e.sesionIndex," de ",e.sesionTotal," "),r(4),p(" ",O(15,11,e.sesion.fecha,"mediumDate")," "),r(3),p(" ",i.horaRange(e.sesion)," "),r(),l("ngClass",i.estadoChipClass(e)),r(),p(" ",i.relLabel(e)," "),r(2),l("routerLink",i.cardRouterLink(e)),r(2),l("ngClass",i.cardTypeClass(e)),r(),p(" ",i.cardTypeLetter(e)," ")}}function Ye(s,t){if(s&1&&(I(0),o(1,"div",96),f(2,ze,25,14,"div",97),n(),N()),s&2){let e=u(2);r(2),l("ngForOf",e.upcomingList())("ngForTrackBy",e.trackBySesion)}}function He(s,t){s&1&&(o(0,"div",109)(1,"div",110),m(2,"i",111),n(),o(3,"h4",112),a(4,"No hay m\xE1s sesiones pr\xF3ximas"),n(),o(5,"p",113),a(6,"Las nuevas sesiones aparecer\xE1n aqu\xED"),n()())}function We(s,t){if(s&1&&(o(0,"div",98)(1,"div",99)(2,"div",76)(3,"h4",100),a(4),n(),o(5,"div",78)(6,"span",101),m(7,"i",80),a(8),n(),o(9,"span",102),a(10),n()(),o(11,"div",103)(12,"span",104),m(13,"i",105),a(14),F(15,"date"),n(),o(16,"span",106),a(17),n(),o(18,"span",82),a(19),n()()(),o(20,"div",14)(21,"a",107),m(22,"i",89),n()()(),o(23,"span",108),a(24),n()()),s&2){let e=t.$implicit,i=u(3);r(4),p(" ",i.cardTitle(e)," "),r(4),p(" ",i.cardContextName(e)," "),r(2),y(" Sesi\xF3n ",e.sesionIndex," de ",e.sesionTotal," "),r(4),p(" ",O(15,11,e.sesion.fecha,"mediumDate")," "),r(3),p(" ",i.horaRange(e.sesion)," "),r(),l("ngClass",i.estadoChipClass(e)),r(),p(" ",i.relLabel(e)," "),r(2),l("routerLink",i.cardRouterLink(e)),r(2),l("ngClass",i.cardTypeClass(e)),r(),p(" ",i.cardTypeLetter(e)," ")}}function qe(s,t){if(s&1&&(I(0),o(1,"div",96),f(2,We,25,14,"div",97),n(),N()),s&2){let e=u(2);r(2),l("ngForOf",e.historyList())("ngForTrackBy",e.trackBySesion)}}function Ke(s,t){s&1&&(o(0,"div",109)(1,"div",110),m(2,"i",114),n(),o(3,"h4",112),a(4,"A\xFAn sin historial"),n(),o(5,"p",113),a(6,"Las sesiones completadas aparecer\xE1n aqu\xED"),n()())}function Qe(s,t){if(s&1){let e=X();o(0,"div",115)(1,"button",116),k("click",function(){G(e);let d=u(2);return J(d.loadMore())}),m(2,"i",117),a(3),n()()}if(s&2){let e=u(2);r(),l("disabled",e.busyMore()),r(),l("ngClass",e.busyMore()?"fa-spinner fa-spin":"fa-arrow-down"),r(),p(" ",e.busyMore()?"Cargando\u2026":"Cargar m\xE1s sesiones"," ")}}function Ge(s,t){if(s&1&&(I(0),f(1,$e,12,3,"section",46)(2,Be,1,1,"ng-template",null,0,q),o(4,"div",47)(5,"section")(6,"div",48)(7,"div",49),m(8,"i",50),n(),o(9,"div")(10,"h2",51),a(11,"Por venir"),n(),o(12,"p",52),a(13,"Sesiones programadas"),n()()(),f(14,Ye,3,2,"ng-container",53)(15,He,7,0,"ng-template",null,1,q),n(),o(17,"section")(18,"div",48)(19,"div",54),m(20,"i",55),n(),o(21,"div")(22,"h2",51),a(23,"Historial"),n(),o(24,"p",52),a(25,"Sesiones anteriores"),n()()(),f(26,qe,3,2,"ng-container",53)(27,Ke,7,0,"ng-template",null,2,q),n()(),f(29,Qe,4,3,"div",56),m(30,"div",57,3),N()),s&2){let e=H(3),i=H(16),d=H(28),c=u();r(),l("ngIf",c.currentNow().length>0)("ngIfElse",e),r(13),l("ngIf",c.upcomingList().length)("ngIfElse",i),r(12),l("ngIf",c.historyList().length)("ngIfElse",d),r(3),l("ngIf",c.hasMore())}}function Ce(s){if(!s)return"";let t=s.indexOf("T");if(t>0)return s.slice(0,t);let e=s.indexOf(" ");return e>0?s.slice(0,e):s}function ee(s){return s?s.length>=5?s.slice(0,5):s:"00:00"}function x(s,t){let e=Ce(s),i=ee(t);return new Date(`${e}T${i}:00`)}var Z=180,M=class M{constructor(){this.api=Y(_e);this.lookups=Y(Ee);this.evApi=Y(ye);this.loading=h(!0);this.error=h(null);this.now=h(new Date);this.cards=h([]);this.seenSesionKeys=new Set;this.periodos=h([]);this.defaultPeriodoId=h(null);this.selectedPeriodoId=h("CURRENT");this.page=h(1);this.pageSize=24;this.hasMore=h(!1);this.busyMore=h(!1);this.totalProj=h(null);this.orderedPeriodos=v(()=>[...this.periodos()].sort((t,e)=>t.anio!==e.anio?e.anio-t.anio:Number(e.ciclo)-Number(t.ciclo)));this.periodoGroups=v(()=>{let t=new Map;for(let e of this.orderedPeriodos()){let i=t.get(e.anio)??[];i.push(e),t.set(e.anio,i)}return Array.from(t.entries()).map(([e,i])=>({anio:e,items:i})).sort((e,i)=>i.anio-e.anio)});this.findPeriodoById=t=>t?this.periodos().find(e=>e.id===t)??null:null;this.defaultPeriodo=v(()=>this.findPeriodoById(this.defaultPeriodoId()));this.visibleCount=v(()=>this.cards().length);this.currentNow=v(()=>this.cards().filter(t=>this.stateFor(t.sesion)==="NOW").sort((t,e)=>this.endsAt(t).getTime()-this.endsAt(e).getTime()));this.nextUpcoming=v(()=>this.cards().filter(e=>{let i=this.stateFor(e.sesion);return i==="SOON"||i==="LATER"}).sort((e,i)=>this.startsAt(e).getTime()-this.startsAt(i).getTime())[0]??null);this.heroCard=v(()=>{let t=this.currentNow();return t.length?t[0]:this.nextUpcoming()});this.upcomingList=v(()=>{let t=this.heroCard(),e=!!(t&&this.stateFor(t.sesion)!=="NOW");return this.cards().filter(d=>{let c=this.stateFor(d.sesion);return!(c!=="SOON"&&c!=="LATER"||e&&t.sesion.id===d.sesion.id)}).sort((d,c)=>this.startsAt(d).getTime()-this.startsAt(c).getTime())});this.historyList=v(()=>this.cards().filter(t=>{let e=this.stateFor(t.sesion);return e==="RECENT"||e==="PAST"}).sort((t,e)=>this.endsAt(e).getTime()-this.endsAt(t).getTime()));this.trackBySesion=(t,e)=>`${e.kind}-${e.sesion.id}`}ngOnInit(){this.bootstrap(),this.timer=setInterval(()=>this.now.set(new Date),3e4)}ngAfterViewInit(){this.setupObserver()}ngOnDestroy(){this.timer&&clearInterval(this.timer),this.io?.disconnect()}setupObserver(){"IntersectionObserver"in window&&(this.io?.disconnect(),this.io=new IntersectionObserver(t=>{t[0].isIntersecting&&this.hasMore()&&!this.busyMore()&&this.loadMore()},{root:null,rootMargin:"160px",threshold:.01}),this.sentinel?.nativeElement&&this.io.observe(this.sentinel.nativeElement))}normalizedPeriodoId(){let t=this.selectedPeriodoId();if(!(t==="ALL"||t===null))return t==="CURRENT"?this.defaultPeriodoId()??void 0:Number(t)||void 0}isAllSelected(){return this.selectedPeriodoId()==="ALL"}async bootstrap(){this.loading.set(!0);try{let t=await z(this.lookups.fetchPeriodos("",!1,500));t.sort((i,d)=>d.anio-i.anio||Number(d.ciclo)-Number(i.ciclo)),this.periodos.set(t);let e=t.find(i=>(i.estado??"").toUpperCase()==="EN_CURSO")??t.find(i=>(i.estado??"").toUpperCase()==="PLANIFICADO")??t[0];this.defaultPeriodoId.set(e?.id??null),this.selectedPeriodoId.set("CURRENT"),await this.resetAndFetch()}catch{this.error.set("No se pudo cargar per\xEDodos.")}finally{this.loading.set(!1),setTimeout(()=>this.setupObserver(),0)}}async resetAndFetch(){this.cards.set([]),this.seenSesionKeys.clear(),this.page.set(1),this.totalProj.set(null),this.hasMore.set(!1),await this.loadMore()}async loadMore(){this.busyMore.set(!0);try{let t=this.normalizedPeriodoId(),e=this.page(),i={page:e,per_page:this.pageSize};typeof t=="number"&&(i.periodo_id=t);let d=z(this.api.listarProyectosArbol(i)),c=z(this.evApi.listarEventos({page:e})),[b,V]=await Promise.all([d,c]),_=[],R=!1;if(Se(b)){let g=b.data,C=Array.isArray(g?.data)?g.data:[],E=[];for(let w of C){let L=w.proyecto??w,Q=w.procesos??[];for(let te of Q){let ie=te.sesiones??[];if(!ie.length)continue;let ne=[...ie].sort((A,j)=>{let B=x(A.fecha,A.hora_inicio).getTime(),Pe=x(j.fecha,j.hora_inicio).getTime();return B-Pe}),Te=ne.length;ne.forEach((A,j)=>{let B=`P-${A.id}`;this.seenSesionKeys.has(B)||(this.seenSesionKeys.add(B),E.push({kind:"PROYECTO",sesion:A,proyecto:L,proceso:te,evento:void 0,sesionIndex:j+1,sesionTotal:Te}))})}}let T=g?.total??g?.meta?.total??null;typeof T=="number"&&this.totalProj.set(T),_.push(...E);let $=!!g?.links?.next,K=!!g?.meta?.next_page,P=g?.data?.length??0;R=$||K||P===this.pageSize}else this.error.set(b?.message||"No se pudieron cargar proyectos."),R=!1;let U=!1;if(V.ok){let g=V.data.items??[],C=[];for(let E of g){if(typeof t=="number"&&E.periodo_id!==t)continue;let T=E.sesiones??[];if(!T.length)continue;let $=[...T].sort((P,w)=>{let L=x(P.fecha,P.hora_inicio).getTime(),Q=x(w.fecha,w.hora_inicio).getTime();return L-Q}),K=$.length;$.forEach((P,w)=>{let L=`E-${P.id}`;this.seenSesionKeys.has(L)||(this.seenSesionKeys.add(L),C.push({kind:"EVENTO",sesion:P,proyecto:void 0,proceso:void 0,evento:E,sesionIndex:w+1,sesionTotal:K}))})}_.push(...C),U=g.length===this.pageSize}_.sort((g,C)=>{let E=x(g.sesion.fecha,g.sesion.hora_inicio).getTime(),T=x(C.sesion.fecha,C.sesion.hora_inicio).getTime();return E-T}),this.cards.set([...this.cards(),..._]);let S=!!R||!!U;this.hasMore.set(S),S&&this.page.update(g=>g+1)}catch(t){this.error.set(t?.error?.message||"Error de red."),this.hasMore.set(!1)}finally{this.busyMore.set(!1)}}async fetch(){this.loading.set(!0),await this.resetAndFetch(),this.loading.set(!1)}async stepPeriodo(t){let e=this.orderedPeriodos(),i=this.normalizedPeriodoId()??this.defaultPeriodoId()??null;if(!i)return;let d=e.findIndex(b=>b.id===i);if(d<0)return;let c=e[d+t];c&&(this.selectedPeriodoId.set(c.id),await this.fetch())}stateFor(t){let e=this.now(),i=x(t.fecha,t.hora_inicio),d=x(t.fecha,t.hora_fin);if(isNaN(i.getTime())||isNaN(d.getTime()))return"LATER";d.getTime()<i.getTime()&&(d=new Date(d.getTime()+1440*60*1e3));let c=Math.round((i.getTime()-e.getTime())/6e4),b=Math.round((e.getTime()-d.getTime())/6e4);return e>=i&&e<=d?"NOW":c>0&&c<=Z?"SOON":b>0&&b<=Z?"RECENT":c>Z?"LATER":"PAST"}endsAt(t){let e=t.sesion,i=x(e.fecha,e.hora_inicio),d=x(e.fecha,e.hora_fin);return d.getTime()<i.getTime()&&(d=new Date(d.getTime()+1440*60*1e3)),d}startsAt(t){let e=t.sesion;return x(e.fecha,e.hora_inicio)}relLabel(t){let e=t.sesion,i=this.now(),d=x(e.fecha,e.hora_inicio),c=x(e.fecha,e.hora_fin);c.getTime()<d.getTime()&&(c=new Date(c.getTime()+1440*60*1e3));let b=Math.round((d.getTime()-i.getTime())/6e4),V=Math.round((i.getTime()-c.getTime())/6e4),_=this.stateFor(e);if(_==="NOW")return"EN CURSO";if(_==="SOON")return`En ${b} min`;if(_==="RECENT")return`Termin\xF3 hace ${V} min`;let R=new Date(Ce(e.fecha)),U=new Date(i.getFullYear(),i.getMonth(),i.getDate()),S=Math.round((R.getTime()-U.getTime())/(1440*60*1e3));if(_==="LATER")return S===0?"M\xE1s tarde hoy":S===1?"Ma\xF1ana":S>1?`Faltan ${S} d\xEDas`:"M\xE1s tarde";let g=-S;return g===0?"M\xE1s temprano hoy":g===1?"Ayer":g>1?`Hace ${g} d\xEDas`:"Pasada"}estadoChipClass(t){let e=this.stateFor(t.sesion),i="px-2 py-0.5 rounded-full text-xs font-semibold border";return e==="NOW"?`${i} bg-blue-50 text-blue-700 border-blue-200`:e==="SOON"?`${i} bg-amber-50 text-amber-700 border-amber-200`:e==="RECENT"?`${i} bg-slate-50 text-slate-600 border-slate-200`:`${i} bg-gray-50 text-gray-500 border-gray-200`}horaRange(t){let e=ee(t.hora_inicio).slice(0,5),i=ee(t.hora_fin).slice(0,5);return`${e}\u2013${i}`}onPeriodoChange(t){if(t==="ALL")this.selectedPeriodoId.set("ALL");else if(t==="CURRENT")this.selectedPeriodoId.set("CURRENT");else{let e=t===null||t===""||t===void 0?null:Number(t);this.selectedPeriodoId.set(e)}this.fetch()}isProyecto(t){return t.kind==="PROYECTO"}cardTitle(t){return t.kind==="PROYECTO"?t.proyecto?.titulo??"Proyecto sin t\xEDtulo":t.evento?.titulo??"Evento sin t\xEDtulo"}cardContextName(t){return t.kind==="PROYECTO"?t.proceso?.nombre??"Proyecto":t.evento?.categoria?.nombre??"Evento"}cardRouterLink(t){return t.kind==="PROYECTO"?["/vm","proyectos",t.proyecto?.id??0]:["/vm","eventos",t.evento?.id??0]}cardTypeLetter(t){return t.kind==="PROYECTO"?"P":"V"}cardTypeClass(t){return t.kind==="PROYECTO"?"bg-blue-600 text-white":"bg-emerald-500 text-white"}};M.\u0275fac=function(e){return new(e||M)},M.\u0275cmp=oe({type:M,selectors:[["app-upcoming-sessions-page"]],viewQuery:function(e,i){if(e&1&&re(Ie,5),e&2){let d;se(d=ae())&&(i.sentinel=d.first)}},decls:37,vars:18,consts:[["nextHero",""],["noUpcoming",""],["noHistory",""],["sentinel",""],[1,"min-h-screen","bg-gradient-to-br","from-slate-50","via-blue-50/20","to-indigo-50/10","py-6"],[1,"mx-auto","max-w-7xl","px-4"],[1,"mb-8","flex","flex-col","gap-4","sm:flex-row","sm:items-center","sm:justify-between"],[1,"space-y-2"],[1,"flex","items-center","gap-3"],[1,"grid","h-10","w-10","place-items-center","rounded-xl","bg-gradient-to-br","from-blue-500","to-indigo-600","text-white","shadow-sm"],[1,"fa-solid","fa-calendar-check","text-lg"],[1,"text-2xl","font-bold","text-slate-900"],[1,"mt-1","text-sm","text-slate-600"],[1,"flex","flex-wrap","items-center","gap-3"],[1,"flex","items-center","gap-2"],[1,"text-sm","font-medium","text-slate-700"],[1,"flex","items-center","rounded-xl","border","border-slate-300","bg-white","shadow-sm","overflow-hidden"],["title","Periodo anterior",1,"px-3","py-2","hover:bg-slate-50","disabled:opacity-30","transition-colors",3,"click","disabled"],[1,"fa-solid","fa-chevron-left","text-sm"],[1,"border-0","px-3","py-2","text-sm","focus:ring-0","min-w-[220px]","bg-transparent",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],[4,"ngFor","ngForOf"],["title","Periodo siguiente",1,"px-3","py-2","hover:bg-slate-50","disabled:opacity-30","transition-colors",3,"click","disabled"],[1,"fa-solid","fa-chevron-right","text-sm"],[1,"inline-flex","items-center","gap-2","rounded-xl","border","border-slate-300","bg-white","px-4","py-2","text-sm","font-medium","text-slate-700","shadow-sm","hover:bg-slate-50","transition-all","hover:shadow","disabled:opacity-50",3,"click","disabled"],[1,"fa-solid","fa-rotate","text-slate-600",3,"ngClass"],[1,"flex","items-center","gap-2","rounded-lg","bg-white/80","px-3","py-1.5","text-sm","text-slate-500","border","border-slate-200"],[1,"fa-solid","fa-clock","text-slate-400"],[4,"ngIf"],["class","mb-6 flex items-center gap-4 text-sm",4,"ngIf"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"relative","mx-auto","mb-6","overflow-hidden","rounded-xl","border","border-rose-200","bg-white","p-6","text-center","shadow-sm"],[1,"absolute","inset-0","bg-gradient-to-r","from-rose-50/50","to-pink-50/50"],[1,"relative"],[1,"mx-auto","mb-4","grid","h-12","w-12","place-items-center","rounded-xl","bg-gradient-to-br","from-rose-500","to-pink-600","text-white","shadow-sm"],[1,"fa-solid","fa-triangle-exclamation","text-lg"],[1,"mb-2","text-lg","font-bold","text-slate-900"],[1,"mb-4","text-sm","text-rose-700"],[1,"inline-flex","items-center","gap-2","rounded-lg","bg-rose-600","px-4","py-2","text-sm","font-medium","text-white","hover:bg-rose-700","transition-colors",3,"click"],[1,"fa-solid","fa-rotate"],[1,"mb-6","flex","items-center","gap-4","text-sm"],[1,"rounded-lg","bg-white","px-3","py-2","border","border-slate-200","shadow-sm"],[1,"text-slate-600"],[1,"ml-1","font-semibold","text-slate-900"],["class","mb-8",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"mb-4","flex","items-center","gap-3"],[1,"grid","h-8","w-8","place-items-center","rounded-lg","bg-gradient-to-br","from-emerald-500","to-green-600","text-white"],[1,"fa-solid","fa-calendar-day","text-xs"],[1,"text-xl","font-bold","text-slate-900"],[1,"text-sm","text-slate-600"],[4,"ngIf","ngIfElse"],[1,"grid","h-8","w-8","place-items-center","rounded-lg","bg-gradient-to-br","from-slate-500","to-slate-700","text-white"],[1,"fa-solid","fa-history","text-xs"],["class","mt-8 flex items-center justify-center",4,"ngIf"],[1,"h-1"],[1,"mb-8"],[1,"mb-4","flex","items-center","justify-between"],[1,"grid","h-8","w-8","place-items-center","rounded-lg","bg-gradient-to-br","from-blue-500","to-indigo-600","text-white"],[1,"fa-solid","fa-play","text-xs"],[1,"grid","grid-cols-1","xl:grid-cols-2","gap-4"],["class","group relative overflow-hidden rounded-2xl border border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-sm transition-all hover:shadow-lg hover:-translate-y-0.5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","relative","overflow-hidden","rounded-2xl","border","border-blue-200","bg-gradient-to-br","from-blue-50","to-indigo-50","shadow-sm","transition-all","hover:shadow-lg","hover:-translate-y-0.5"],[1,"absolute","top-4","right-4"],[1,"flex","h-3","w-3"],[1,"absolute","inline-flex","h-full","w-full","animate-ping","rounded-full","bg-green-400","opacity-75"],[1,"relative","inline-flex","h-3","w-3","rounded-full","bg-green-500"],[1,"bg-gradient-to-r","from-blue-500/10","to-indigo-500/10","px-6","py-4","border-b","border-blue-200/50"],[1,"flex","items-center","justify-between"],[1,"inline-flex","items-center","gap-2","rounded-full","bg-blue-500","px-3","py-1","text-xs","font-semibold","text-white","shadow-sm"],[1,"fa-solid","fa-circle","animate-pulse","text-[8px]"],[1,"text-xs","text-slate-600","font-medium"],[1,"p-6"],[1,"flex","flex-col","gap-4","lg:flex-row","lg:items-start","lg:justify-between"],[1,"min-w-0","flex-1","space-y-3"],[1,"text-lg","font-bold","text-slate-900","leading-tight"],[1,"flex","flex-wrap","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","rounded-xl","border","border-slate-200","bg-white/80","px-3","py-1.5","text-xs","font-semibold","text-slate-700","shadow-sm"],[1,"fa-solid","fa-diagram-project","text-emerald-600"],[1,"rounded-full","bg-white/80","px-2.5","py-1","text-xs","font-semibold","text-slate-700","border","border-slate-200","shadow-sm"],[1,"text-xs","font-medium","px-2.5","py-1","rounded-full",3,"ngClass"],[1,"flex","flex-wrap","gap-2"],[1,"inline-flex","items-center","gap-2","rounded-xl","border","border-emerald-200","bg-white","px-3","py-2","text-xs","font-semibold","text-emerald-700","hover:border-emerald-300","hover:bg-emerald-50","transition-all","shadow-sm",3,"routerLink"],[1,"fa-solid","fa-qrcode"],[1,"inline-flex","items-center","gap-2","rounded-xl","border","border-indigo-200","bg-white","px-3","py-2","text-xs","font-semibold","text-indigo-700","hover:border-indigo-300","hover:bg-indigo-50","transition-all","shadow-sm",3,"routerLink"],[1,"fa-solid","fa-clipboard-check"],[1,"inline-flex","items-center","gap-2","rounded-xl","bg-gradient-to-r","from-blue-600","to-indigo-600","px-4","py-2","text-xs","font-semibold","text-white","shadow-sm","hover:from-blue-700","hover:to-indigo-700","transition-all","group-hover:shadow-md",3,"routerLink"],[1,"fa-solid","fa-arrow-up-right-from-square"],[1,"absolute","bottom-4","right-4","inline-flex","h-8","w-8","items-center","justify-center","rounded-full","text-xs","font-bold","shadow-lg","border-2","border-white","transition-transform","group-hover:scale-110",3,"ngClass"],["class","mb-8",4,"ngIf"],[1,"group","relative","overflow-hidden","rounded-2xl","border","border-amber-200","bg-gradient-to-br","from-amber-50","to-orange-50","shadow-sm","transition-all","hover:shadow-lg","hover:-translate-y-0.5"],[1,"bg-gradient-to-r","from-amber-500/10","to-orange-500/10","px-6","py-4","border-b","border-amber-200/50"],[1,"inline-flex","items-center","gap-2","rounded-full","bg-amber-500","px-3","py-1","text-xs","font-semibold","text-white","shadow-sm"],[1,"fa-solid","fa-clock"],[1,"space-y-4"],["class","group relative rounded-xl border border-slate-200 bg-white p-5 shadow-sm transition-all hover:shadow-md hover:-translate-y-0.5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","relative","rounded-xl","border","border-slate-200","bg-white","p-5","shadow-sm","transition-all","hover:shadow-md","hover:-translate-y-0.5"],[1,"flex","flex-col","gap-4","sm:flex-row","sm:items-start","sm:justify-between"],[1,"text-base","font-semibold","text-slate-900","leading-tight"],[1,"inline-flex","items-center","gap-1.5","rounded-lg","border","border-slate-200","bg-slate-50","px-2.5","py-1","text-xs","font-semibold","text-slate-700"],[1,"inline-flex","items-center","gap-1","rounded-full","border","border-slate-200","bg-white","px-2.5","py-1","text-xs","font-semibold","text-slate-700"],[1,"flex","flex-wrap","items-center","gap-2","text-xs","text-slate-600"],[1,"inline-flex","items-center","gap-1.5","font-medium"],[1,"fa-solid","fa-calendar","text-blue-500"],[1,"inline-flex","items-center","gap-1","rounded-lg","border","border-slate-200","bg-slate-50","px-2.5","py-1","font-mono","font-semibold","text-slate-700"],[1,"inline-flex","items-center","gap-1","rounded-xl","bg-gradient-to-r","from-blue-600","to-indigo-600","px-3","py-2","text-xs","font-semibold","text-white","shadow-sm","hover:from-blue-700","hover:to-indigo-700","transition-all","opacity-0","group-hover:opacity-100",3,"routerLink"],[1,"absolute","bottom-4","right-4","inline-flex","h-7","w-7","items-center","justify-center","rounded-full","text-xs","font-bold","shadow-md","border","border-white","transition-transform","group-hover:scale-110",3,"ngClass"],[1,"grid","place-items-center","rounded-2xl","border-2","border-dashed","border-slate-300","bg-slate-50/50","py-12","text-center","transition-all","hover:border-slate-400"],[1,"mb-3","grid","h-12","w-12","place-items-center","rounded-xl","bg-slate-100","text-slate-400"],[1,"fa-solid","fa-calendar-plus","text-lg"],[1,"mb-1","text-sm","font-semibold","text-slate-700"],[1,"text-xs","text-slate-500"],[1,"fa-solid","fa-box-archive","text-lg"],[1,"mt-8","flex","items-center","justify-center"],[1,"group","inline-flex","items-center","gap-2","rounded-xl","border","border-slate-300","bg-white","px-5","py-2.5","text-sm","font-semibold","text-slate-700","shadow-sm","hover:bg-slate-50","hover:shadow","transition-all","disabled:opacity-50",3,"click","disabled"],[1,"fa-solid","transition-transform","group-hover:scale-110",3,"ngClass"]],template:function(e,i){e&1&&(o(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9),m(6,"i",10),n(),o(7,"div")(8,"h1",11),a(9,"Sesiones Programadas"),n(),o(10,"p",12),a(11," Gesti\xF3n y seguimiento de sesiones de proyectos y eventos "),n()()()(),o(12,"div",13)(13,"div",14)(14,"label",15),a(15,"Per\xEDodo"),n(),o(16,"div",16)(17,"button",17),k("click",function(){return i.stepPeriodo(-1)}),m(18,"i",18),n(),o(19,"select",19),k("ngModelChange",function(c){return i.onPeriodoChange(c)}),f(20,Fe,2,3,"option",20),o(21,"option",21),a(22,"Todos los per\xEDodos"),n(),f(23,Re,3,2,"ng-container",22),n(),o(24,"button",23),k("click",function(){return i.stepPeriodo(1)}),m(25,"i",24),n()()(),o(26,"button",25),k("click",function(){return i.fetch()}),m(27,"i",26),a(28),n(),o(29,"div",27),m(30,"i",28),o(31,"span"),a(32),F(33,"date"),n()()()(),f(34,Ae,13,1,"ng-container",29)(35,Ve,9,2,"div",30)(36,Ge,32,7,"ng-container",29),n()()),e&2&&(r(17),l("disabled",i.isAllSelected()),r(2),l("ngModel",i.selectedPeriodoId()),r(),l("ngIf",i.defaultPeriodo()),r(),l("ngValue","ALL"),r(2),l("ngForOf",i.periodoGroups()),r(),l("disabled",i.isAllSelected()),r(2),l("disabled",i.loading()),r(),l("ngClass",W(16,Ne,i.loading())),r(),p(" ",i.loading()?"Actualizando\u2026":"Actualizar"," "),r(4),D(O(33,13,i.now(),"shortTime")),r(2),l("ngIf",i.error()),r(),l("ngIf",!i.error()),r(),l("ngIf",!i.error()))},dependencies:[pe,le,de,me,ve,he,be,xe,ue,fe,ge,ce],encapsulation:2});var we=M;export{we as UpcomingSessionsPage};
