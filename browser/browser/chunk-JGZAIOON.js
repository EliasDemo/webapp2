import{a as l}from"./chunk-LWNR2F3M.js";import{B as d,C as S}from"./chunk-FE5WSVYG.js";import{O as i,S as r,j as s,o,w as n}from"./chunk-63T4HJ2B.js";var p=class p{constructor(e,t){this.http=e;this.base=t}staffUrl(e){return`${this.base}/ep-sedes/${e}/staff`}toFail(e,t){let a=e?.error?.message||e?.message||t,f={status:e?.status??-1};return{ok:!1,message:a,meta:f}}obtenerContextoPanel(){return this.http.get(`${this.base}/ep-sedes/staff/context`).pipe(o(e=>({ok:!0,data:e,meta:void 0})),n(e=>s(this.toFail(e,"No se pudo obtener el contexto del panel de staff"))))}obtenerStaffActual(e){return this.http.get(this.staffUrl(e)).pipe(o(t=>({ok:!0,data:t,meta:void 0})),n(t=>s(this.toFail(t,"No se pudo obtener el staff actual"))))}obtenerHistorialStaff(e){return this.http.get(`${this.staffUrl(e)}/history`).pipe(o(t=>({ok:!0,data:t,meta:void 0})),n(t=>s(this.toFail(t,"No se pudo obtener el historial de staff"))))}buscarPerfilPorCorreo(e,t){let a=new d().set("email",t);return this.http.get(`${this.staffUrl(e)}/lookup`,{params:a}).pipe(o(f=>({ok:!0,data:f,meta:void 0})),n(f=>s(this.toFail(f,"No se pudo buscar el perfil por correo"))))}asignarStaff(e,t){return this.http.post(`${this.staffUrl(e)}/assign`,t).pipe(o(a=>({ok:!0,data:a,meta:void 0})),n(a=>s(this.toFail(a,"No se pudo asignar staff"))))}desasignarStaff(e,t){return this.http.post(`${this.staffUrl(e)}/unassign`,t).pipe(o(a=>({ok:!0,data:a,meta:void 0})),n(a=>s(this.toFail(a,"No se pudo desasignar staff"))))}reincorporarStaff(e,t){return this.http.post(`${this.staffUrl(e)}/reinstate`,t).pipe(o(a=>({ok:!0,data:a,meta:void 0})),n(a=>s(this.toFail(a,"No se pudo reincorporar staff"))))}delegarEncargadoInterino(e,t){return this.http.post(`${this.staffUrl(e)}/delegate`,t).pipe(o(a=>({ok:!0,data:a,meta:void 0})),n(a=>s(this.toFail(a,"No se pudo delegar encargado interino"))))}crearYAsignarStaff(e,t){return this.http.post(`${this.staffUrl(e)}/create-and-assign`,t).pipe(o(a=>({ok:!0,data:a,meta:void 0})),n(a=>s(this.toFail(a,"No se pudo crear y asignar staff"))))}};p.\u0275fac=function(t){return new(t||p)(r(S),r(l))},p.\u0275prov=i({token:p,factory:p.\u0275fac,providedIn:"root"});var u=p;export{u as a};
