import{a as B}from"./chunk-OKPZKVFZ.js";import{a as $}from"./chunk-G33XJ7AN.js";import{A as Z,a as R,b as q,d as j,e as H,g as U,i as z,j as G,k as X,r as Q,s as J,t as K,v as Y}from"./chunk-J2XPQYKK.js";import"./chunk-LWNR2F3M.js";import{g as O,j as A}from"./chunk-5VQTM22E.js";import{j as N,k,u as L}from"./chunk-FE5WSVYG.js";import{$a as t,Ab as c,Bb as u,Cb as f,Fb as x,Ka as D,Pa as M,T as I,Tb as T,Y as E,Z as y,_a as s,ab as i,bb as h,fa as p,gb as w,kb as _,mb as v,tb as F,vb as o,wb as V,xb as C,ya as d,zb as W}from"./chunk-63T4HJ2B.js";import{a as P}from"./chunk-IMPBB4AK.js";var b=()=>({standalone:!0});function te(g,r){if(g&1){let l=w();t(0,"div",79)(1,"div",80)(2,"div",81),h(3,"i",82),i(),t(4,"div",83)(5,"div",84),o(6,"Ocurri\xF3 un problema"),i(),t(7,"div",85),o(8),i()(),t(9,"button",86),_("click",function(){E(l);let a=v();return y(a.error.set(null))}),h(10,"i",87),i()()()}if(g&2){let l=v();d(8),C(" ",l.error()," ")}}function ie(g,r){if(g&1){let l=w();t(0,"div",88)(1,"div",80)(2,"div",89),h(3,"i",90),i(),t(4,"div",83)(5,"div",91),o(6,"Evento registrado"),i(),t(7,"div",92),o(8),i()(),t(9,"button",93),_("click",function(){E(l);let a=v();return y(a.success.set(null))}),h(10,"i",87),i()()()}if(g&2){let l=v();d(8),C(" ",l.success()," ")}}function ne(g,r){if(g&1&&(t(0,"option",40),o(1),i()),g&2){let l=r.$implicit;s("ngValue",l.id),d(),W(" ",l.anio," - ",l.ciclo," ",l.estado?"("+l.estado+")":""," ")}}function oe(g,r){g&1&&(t(0,"p",42),o(1," Cargando per\xEDodos acad\xE9micos\u2026 "),i())}function ae(g,r){g&1&&(t(0,"p",94),o(1," No se encontraron per\xEDodos acad\xE9micos activos. Verifica la configuraci\xF3n. "),i())}function re(g,r){if(g&1&&(t(0,"option",40),o(1),i()),g&2){let l=r.$implicit;s("ngValue",l.id),d(),C(" ",l.nombre," ")}}function le(g,r){g&1&&(t(0,"p",42),o(1," Cargando categor\xEDas de evento\u2026 "),i())}function de(g,r){g&1&&(t(0,"p",42),o(1," Puedes configurar categor\xEDas desde el m\xF3dulo de administraci\xF3n. "),i())}function se(g,r){if(g&1&&(t(0,"p",42),o(1," Archivo seleccionado: "),t(2,"span",95),o(3),i()()),g&2){let l=r.ngIf;d(3),V(l.name)}}function ge(g,r){g&1&&(t(0,"p",42),o(1," Si no seleccionas un archivo, solo se usar\xE1 la URL (si la defines). "),i())}function pe(g,r){if(g&1){let l=w();t(0,"div",96)(1,"div",60)(2,"label",97),o(3),t(4,"span",33),o(5,"*"),i()(),t(6,"input",98),f("ngModelChange",function(a){let n=E(l).index,m=v();return u(m.sesiones()[n].fecha,a)||(m.sesiones()[n].fecha=a),y(a)}),_("ngModelChange",function(a){let n=E(l).index,m=v();return y(m.updateSesion(n,{fecha:a??""}))}),i()(),t(7,"div",60)(8,"label",97),o(9," Hora inicio "),t(10,"span",33),o(11,"*"),i()(),t(12,"input",99),f("ngModelChange",function(a){let n=E(l).index,m=v();return u(m.sesiones()[n].hora_inicio,a)||(m.sesiones()[n].hora_inicio=a),y(a)}),_("ngModelChange",function(a){let n=E(l).index,m=v();return y(m.updateSesion(n,{hora_inicio:a??""}))}),i()(),t(13,"div",60)(14,"label",97),o(15," Hora fin "),t(16,"span",33),o(17,"*"),i()(),t(18,"input",99),f("ngModelChange",function(a){let n=E(l).index,m=v();return u(m.sesiones()[n].hora_fin,a)||(m.sesiones()[n].hora_fin=a),y(a)}),_("ngModelChange",function(a){let n=E(l).index,m=v();return y(m.updateSesion(n,{hora_fin:a??""}))}),i()(),t(19,"div",100)(20,"button",101),_("click",function(){let a=E(l).index,n=v();return y(n.removeSesion(a))}),h(21,"i",102),o(22," Quitar "),i()()()}if(g&2){let l=r.index,e=v();d(3),C(" Fecha sesi\xF3n ",l+1," "),d(3),c("ngModel",e.sesiones()[l].fecha),s("ngModelOptions",x(8,b)),d(6),c("ngModel",e.sesiones()[l].hora_inicio),s("ngModelOptions",x(9,b)),d(6),c("ngModel",e.sesiones()[l].hora_fin),s("ngModelOptions",x(10,b)),d(2),s("disabled",e.sesiones().length===1)}}function me(g,r){g&1&&h(0,"i",103)}function ce(g,r){g&1&&(t(0,"div",104)(1,"div",105)(2,"div",106),h(3,"div",107)(4,"div",108),i(),t(5,"div",109),o(6,"Registrando evento"),i(),t(7,"div",110),o(8," Esto puede tomar unos segundos\u2026 "),i()()())}var S=class S{constructor(){this.evApi=I($);this.loader=I(B);this.loading=p(!1);this.loadingPeriodos=p(!1);this.loadingCategorias=p(!1);this.error=p(null);this.success=p(null);this.periodos=p([]);this.periodoId=p(null);this.categorias=p([]);this.categoriaId=p(null);this.titulo=p("");this.subtitulo=p("");this.descripcionCorta=p("");this.descripcionLarga=p("");this.modalidad=p("PRESENCIAL");this.lugarDetallado=p("");this.urlImagenPortada=p("");this.urlEnlaceVirtual=p("");this.inscripcionDesde=p("");this.inscripcionHasta=p("");this.requiereInscripcion=p(!1);this.cupoMaximo=p(null);this.codigo=p("");this.imagenPortadaFile=p(null);this.sesiones=p([{fecha:"",hora_inicio:"",hora_fin:""}]);this.canSubmit=T(()=>{if(this.loading()||!this.periodoId()||!this.titulo().trim())return!1;let r=this.sesiones();return r.length?r.some(e=>!!e.fecha&&!!e.hora_inicio&&!!e.hora_fin):!1});this.cargarPeriodos(),this.cargarCategorias()}cargarPeriodos(){this.loadingPeriodos.set(!0),this.loader.track(this.evApi.fetchPeriodos("",!0,50),"Cargando per\xEDodos acad\xE9micos...").subscribe({next:r=>{this.periodos.set(r),!this.periodoId()&&r.length&&this.periodoId.set(r[0].id)},error:r=>{console.error("Error al cargar per\xEDodos",r),this.periodos.set([]),this.error.set("No se pudieron cargar los per\xEDodos acad\xE9micos."),this.loadingPeriodos.set(!1)},complete:()=>{this.loadingPeriodos.set(!1)}})}cargarCategorias(){this.loadingCategorias.set(!0),this.loader.track(this.evApi.listarCategoriasEvento(),"Cargando categor\xEDas de evento...").subscribe({next:r=>{this.categorias.set(r),!this.categoriaId()&&r.length&&this.categoriaId.set(r[0].id)},error:r=>{console.error("Error al cargar categor\xEDas",r),this.categorias.set([]),this.error.set("No se pudieron cargar las categor\xEDas de evento."),this.loadingCategorias.set(!1)},complete:()=>{this.loadingCategorias.set(!1)}})}addSesion(){let r=this.sesiones();this.sesiones.set([...r,{fecha:"",hora_inicio:"",hora_fin:""}])}removeSesion(r){let l=this.sesiones();l.length<=1||this.sesiones.set(l.filter((e,a)=>a!==r))}updateSesion(r,l){let e=this.sesiones(),a=e[r];if(!a)return;let n=P(P({},a),l),m=[...e];m[r]=n,this.sesiones.set(m)}onImagenPortadaChange(r){let e=r.target?.files?.[0]??null;this.imagenPortadaFile.set(e)}submit(){if(this.error.set(null),this.success.set(null),!this.periodoId()){this.error.set("Selecciona un per\xEDodo acad\xE9mico.");return}if(!this.titulo().trim()){this.error.set("Ingresa un t\xEDtulo para el evento.");return}let r=this.sesiones().filter(e=>e.fecha&&e.hora_inicio&&e.hora_fin);if(!r.length){this.error.set("Debes registrar al menos una sesi\xF3n con fecha y horas completas.");return}let l={titulo:this.titulo().trim(),periodo_id:this.periodoId(),categoria_evento_id:this.categoriaId()??void 0,codigo:this.codigo().trim()||void 0,subtitulo:this.subtitulo().trim()||void 0,descripcion_corta:this.descripcionCorta().trim()||void 0,descripcion_larga:this.descripcionLarga().trim()||void 0,modalidad:this.modalidad(),lugar_detallado:this.lugarDetallado().trim()||void 0,url_imagen_portada:this.urlImagenPortada().trim()||void 0,url_enlace_virtual:this.urlEnlaceVirtual().trim()||void 0,requiere_inscripcion:this.requiereInscripcion(),cupo_maximo:this.cupoMaximo()??null,inscripcion_desde:this.inscripcionDesde()||void 0,inscripcion_hasta:this.inscripcionHasta()||void 0,sesiones:r};this.loading.set(!0),this.loader.track(this.evApi.crearEvento(l),"Creando evento...").subscribe({next:e=>{let a=e?.data??e;if(!a||!a.id){this.error.set("No se pudo registrar el evento."),this.loading.set(!1);return}let n=this.imagenPortadaFile();if(!n){this.success.set(`Evento "${a.titulo}" creado correctamente.`),this.resetForm(!1),this.loading.set(!1);return}this.loader.track(this.evApi.subirImagenEvento(a.id,n),"Subiendo imagen de portada...").subscribe({next:()=>{this.success.set(`Evento "${a.titulo}" creado correctamente y se subi\xF3 la imagen de portada.`),this.resetForm(!1)},error:m=>{console.error("Error al subir imagen",m),this.error.set("El evento se cre\xF3, pero hubo un problema subiendo la imagen de portada.")},complete:()=>{this.loading.set(!1)}})},error:e=>{console.error("Error al crear evento",e),this.error.set(e?.error?.message||"No se pudo registrar el evento. Verifica los datos e int\xE9ntalo nuevamente."),this.loading.set(!1)}})}resetForm(r=!1){r&&(this.periodoId.set(null),this.categoriaId.set(null)),this.titulo.set(""),this.subtitulo.set(""),this.descripcionCorta.set(""),this.descripcionLarga.set(""),this.modalidad.set("PRESENCIAL"),this.lugarDetallado.set(""),this.urlImagenPortada.set(""),this.urlEnlaceVirtual.set(""),this.inscripcionDesde.set(""),this.inscripcionHasta.set(""),this.requiereInscripcion.set(!1),this.cupoMaximo.set(null),this.codigo.set(""),this.imagenPortadaFile.set(null),this.sesiones.set([{fecha:"",hora_inicio:"",hora_fin:""}])}};S.\u0275fac=function(l){return new(l||S)},S.\u0275cmp=D({type:S,selectors:[["ev-event-create-page"]],decls:173,vars:64,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-50","via-blue-50/20","to-indigo-50/30","pb-16"],[1,"border-b","border-slate-200","bg-white/80","backdrop-blur-sm","sticky","top-0","z-10"],[1,"max-w-7xl","mx-auto","px-4","py-4"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-3"],[1,"p-2","rounded-xl","bg-indigo-100","text-indigo-700"],[1,"fa-solid","fa-calendar-plus","text-lg"],[1,"text-xs","text-slate-500","mb-1","flex","items-center","gap-1"],["routerLink","/",1,"hover:text-slate-700","font-medium","transition-colors"],[1,"fa-solid","fa-chevron-right","text-[10px]","text-slate-400"],["routerLink","/vm/eventos",1,"hover:text-slate-700","font-medium","transition-colors"],[1,"text-indigo-700","font-semibold"],[1,"text-2xl","font-bold","text-slate-900"],[1,"text-sm","text-slate-600","mt-1"],[1,"flex","items-center","gap-2"],["routerLink","/vm/eventos",1,"inline-flex","items-center","gap-2","rounded-xl","border","border-slate-300","bg-white","px-4","py-2","text-sm","font-semibold","text-slate-700","hover:bg-slate-50"],[1,"fa-solid","fa-arrow-left"],[1,"max-w-7xl","mx-auto","px-4","pt-8","space-y-8"],["class","rounded-2xl border border-rose-200 bg-white p-4 shadow-sm animate-fade-in",4,"ngIf"],["class","rounded-2xl border border-emerald-200 bg-emerald-50 p-4 shadow-sm animate-fade-in",4,"ngIf"],[1,"rounded-2xl","border","border-slate-200","bg-white","p-6","shadow-sm"],[1,"flex","items-start","gap-3"],[1,"p-2","rounded-xl","bg-sky-100","text-sky-600","mt-1"],[1,"fa-solid","fa-circle-info","text-sm"],[1,"text-lg","font-bold","text-slate-900"],[1,"flex","items-center","gap-3","mb-4"],[1,"p-2","rounded-xl","bg-indigo-100","text-indigo-600"],[1,"fa-solid","fa-pen-to-square","text-sm"],[1,"text-sm","text-slate-600"],["novalidate","",1,"space-y-8",3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"space-y-2"],[1,"block","text-sm","font-semibold","text-slate-700"],[1,"text-rose-500"],["name","periodo_id",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel","ngModelOptions","disabled"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","text-xs text-slate-500",4,"ngIf"],["class","text-xs text-rose-500",4,"ngIf"],["name","categoria_evento_id",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel","ngModelOptions","disabled"],[3,"ngValue"],["name","codigo","type","text","placeholder","Si lo dejas vac\xEDo, se genera autom\xE1ticamente",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel","ngModelOptions"],[1,"text-xs","text-slate-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["name","titulo","type","text","placeholder","Ej. Semana de Integraci\xF3n, Taller de Investigaci\xF3n, etc.",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel","ngModelOptions"],["name","subtitulo","type","text","placeholder","Texto breve que complementa el t\xEDtulo",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel","ngModelOptions"],["name","descripcion_corta","rows","3","placeholder","Resumen breve del evento (se puede mostrar en tarjetas/listados).",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm","resize-none",3,"ngModelChange","ngModel","ngModelOptions"],[1,"space-y-4"],["name","modalidad",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel","ngModelOptions"],["value","PRESENCIAL"],["value","VIRTUAL"],["value","MIXTA"],["name","lugar_detallado","type","text","placeholder","Ej. Auditorio principal, Aula 301, etc.",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel","ngModelOptions"],["name","descripcion_larga","rows","4","placeholder","Describe los objetivos, contenidos y detalles importantes del evento.",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel","ngModelOptions"],["name","url_imagen_portada","type","url","placeholder","https://...",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel","ngModelOptions"],["type","file","accept","image/*",1,"block","w-full","text-sm","text-slate-700","file:mr-4","file:py-2.5","file:px-4","file:rounded-lg","file:border-0","file:text-sm","file:font-semibold","file:bg-indigo-50","file:text-indigo-700","hover:file:bg-indigo-100",3,"change"],[1,"space-y-3"],[1,"inline-flex","items-center","gap-2","text-sm"],["name","requiere_inscripcion","type","checkbox",1,"rounded","border-slate-300","text-indigo-600","focus:ring-indigo-200",3,"ngModelChange","ngModel","ngModelOptions"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],[1,"space-y-1"],[1,"block","text-xs","font-medium","text-slate-600"],["name","inscripcion_desde","type","date",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-3","py-2","text-xs",3,"ngModelChange","ngModel","ngModelOptions"],["name","inscripcion_hasta","type","date",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-3","py-2","text-xs",3,"ngModelChange","ngModel","ngModelOptions"],["name","cupo_maximo","type","number","min","1","placeholder","Ej. 100",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel","ngModelOptions"],[1,"border-t","border-slate-200","pt-6","mt-2","space-y-4"],[1,"flex","items-center","justify-between","gap-3"],[1,"text-sm","font-semibold","text-slate-800"],[1,"text-xs","text-slate-500","mt-1"],["type","button",1,"inline-flex","items-center","gap-2","rounded-xl","border","border-indigo-200","bg-indigo-50","px-4","py-2","text-xs","font-semibold","text-indigo-700","hover:bg-indigo-100",3,"click"],[1,"fa-solid","fa-plus","text-[11px]"],["class","grid grid-cols-1 md:grid-cols-4 gap-3 items-end rounded-xl bg-slate-50 px-3 py-3",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-3","pt-4"],["type","submit",1,"inline-flex","items-center","gap-3","rounded-xl","bg-indigo-600","px-6","py-3","text-sm","font-semibold","text-white","hover:bg-indigo-700","disabled:opacity-50","shadow-md","hover:shadow-lg",3,"disabled"],[1,"fa-solid","fa-floppy-disk"],["class","fa-solid fa-circle-notch animate-spin",4,"ngIf"],["type","button",1,"inline-flex","items-center","gap-2","rounded-xl","border","border-slate-300","bg-white","px-5","py-3","text-sm","font-semibold","text-slate-700","hover:bg-slate-50","disabled:opacity-50",3,"click","disabled"],[1,"fa-solid","fa-broom"],["class","fixed inset-0 bg-white/70 backdrop-blur-sm z-50 grid place-items-center",4,"ngIf"],[1,"rounded-2xl","border","border-rose-200","bg-white","p-4","shadow-sm","animate-fade-in"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","p-2","rounded-lg","bg-rose-100","text-rose-600"],[1,"fa-solid","fa-circle-exclamation","text-sm"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-rose-900","mb-1"],[1,"text-sm","text-rose-700"],[1,"flex-shrink-0","text-slate-400","hover:text-slate-600","transition-colors",3,"click"],[1,"fa-solid","fa-xmark","text-sm"],[1,"rounded-2xl","border","border-emerald-200","bg-emerald-50","p-4","shadow-sm","animate-fade-in"],[1,"flex-shrink-0","p-2","rounded-lg","bg-emerald-100","text-emerald-600"],[1,"fa-solid","fa-circle-check","text-sm"],[1,"font-semibold","text-emerald-900","mb-1"],[1,"text-sm","text-emerald-700"],[1,"flex-shrink-0","text-emerald-500","hover:text-emerald-700","transition-colors",3,"click"],[1,"text-xs","text-rose-500"],[1,"font-semibold"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-3","items-end","rounded-xl","bg-slate-50","px-3","py-3"],[1,"block","text-xs","font-semibold","text-slate-700"],["type","date",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2","text-sm",3,"ngModelChange","ngModel","ngModelOptions"],["type","time","step","60",1,"w-full","rounded-lg","border","border-slate-300","bg-white","px-3","py-2","text-sm",3,"ngModelChange","ngModel","ngModelOptions"],[1,"flex","md:justify-end"],["type","button",1,"inline-flex","items-center","gap-1","rounded-lg","border","border-rose-200","bg-rose-50","px-3","py-2","text-xs","font-semibold","text-rose-600","hover:bg-rose-100","disabled:opacity-40","mt-5","md:mt-0",3,"click","disabled"],[1,"fa-solid","fa-trash-can","text-[11px]"],[1,"fa-solid","fa-circle-notch","animate-spin"],[1,"fixed","inset-0","bg-white/70","backdrop-blur-sm","z-50","grid","place-items-center"],[1,"text-center"],[1,"relative"],[1,"w-16","h-16","rounded-full","border-4","border-slate-200"],[1,"absolute","inset-0","w-16","h-16","animate-spin","rounded-full","border-4","border-indigo-600","border-t-transparent"],[1,"mt-4","text-lg","font-semibold","text-slate-900"],[1,"text-sm","text-slate-600","mt-2"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"i",6),i(),t(7,"div")(8,"nav",7)(9,"a",8),o(10,"Inicio"),i(),h(11,"i",9),t(12,"a",10),o(13,"Eventos"),i(),h(14,"i",9),t(15,"span",11),o(16,"Crear evento"),i()(),t(17,"h1",12),o(18,"Crear nuevo evento"),i(),t(19,"p",13),o(20," Registra actividades acad\xE9micas o institucionales para tu EP-SEDE. "),i()()(),t(21,"div",14)(22,"a",15),h(23,"i",16),o(24," Volver a eventos "),i()()()()(),t(25,"main",17),M(26,te,11,1,"div",18)(27,ie,11,1,"div",19),t(28,"section",20)(29,"div",21)(30,"div",22),h(31,"i",23),i(),t(32,"div")(33,"h2",24),o(34,"Alcance del evento"),i(),t(35,"p",13),o(36," Los eventos se registran autom\xE1ticamente para la "),t(37,"b"),o(38,"EP-SEDE asociada a tu usuario"),i(),o(39,". No necesitas elegir facultad ni sede. "),i()()()(),t(40,"section",20)(41,"div",25)(42,"div",26),h(43,"i",27),i(),t(44,"div")(45,"h2",24),o(46,"Datos del evento"),i(),t(47,"p",28),o(48," Completa la informaci\xF3n b\xE1sica del evento, su categor\xEDa y sus sesiones. "),i()()(),t(49,"form",29),_("ngSubmit",function(){return e.submit()}),t(50,"div",30)(51,"div",31)(52,"label",32),o(53," Per\xEDodo acad\xE9mico "),t(54,"span",33),o(55,"*"),i()(),t(56,"select",34),f("ngModelChange",function(n){return u(e.periodoId,n)||(e.periodoId=n),n}),t(57,"option",35),o(58,"Selecciona un per\xEDodo\u2026"),i(),M(59,ne,2,4,"option",36),i(),M(60,oe,2,0,"p",37)(61,ae,2,0,"p",38),i(),t(62,"div",31)(63,"label",32),o(64," Categor\xEDa de evento "),i(),t(65,"select",39),f("ngModelChange",function(n){return u(e.categoriaId,n)||(e.categoriaId=n),n}),t(66,"option",40),o(67,"Sin categor\xEDa"),i(),M(68,re,2,2,"option",36),i(),M(69,le,2,0,"p",37)(70,de,2,0,"p",37),i(),t(71,"div",31)(72,"label",32),o(73," C\xF3digo (opcional) "),i(),t(74,"input",41),f("ngModelChange",function(n){return u(e.codigo,n)||(e.codigo=n),n}),i(),t(75,"p",42),o(76," \xDAsalo solo si necesitas un c\xF3digo espec\xEDfico de identificaci\xF3n. "),i()()(),t(77,"div",43)(78,"div",31)(79,"label",32),o(80," T\xEDtulo del evento "),t(81,"span",33),o(82,"*"),i()(),t(83,"input",44),f("ngModelChange",function(n){return u(e.titulo,n)||(e.titulo=n),n}),i()(),t(84,"div",31)(85,"label",32),o(86," Subt\xEDtulo (opcional) "),i(),t(87,"input",45),f("ngModelChange",function(n){return u(e.subtitulo,n)||(e.subtitulo=n),n}),i()()(),t(88,"div",43)(89,"div",31)(90,"label",32),o(91," Descripci\xF3n corta "),i(),t(92,"textarea",46),f("ngModelChange",function(n){return u(e.descripcionCorta,n)||(e.descripcionCorta=n),n}),i()(),t(93,"div",47)(94,"div",31)(95,"label",32),o(96," Modalidad "),i(),t(97,"select",48),f("ngModelChange",function(n){return u(e.modalidad,n)||(e.modalidad=n),n}),t(98,"option",49),o(99,"Presencial"),i(),t(100,"option",50),o(101,"Virtual"),i(),t(102,"option",51),o(103,"Mixta"),i()()(),t(104,"div",31)(105,"label",32),o(106," Lugar / detalle (opcional) "),i(),t(107,"input",52),f("ngModelChange",function(n){return u(e.lugarDetallado,n)||(e.lugarDetallado=n),n}),i()()()(),t(108,"div",31)(109,"label",32),o(110," Descripci\xF3n detallada "),i(),t(111,"textarea",53),f("ngModelChange",function(n){return u(e.descripcionLarga,n)||(e.descripcionLarga=n),n}),i()(),t(112,"div",43)(113,"div",31)(114,"label",32),o(115," URL de imagen de portada (opcional) "),i(),t(116,"input",54),f("ngModelChange",function(n){return u(e.urlImagenPortada,n)||(e.urlImagenPortada=n),n}),i(),t(117,"p",42),o(118," Puedes usar una URL externa o subir un archivo de imagen. "),i()(),t(119,"div",31)(120,"label",32),o(121," Imagen principal del evento (archivo opcional) "),i(),t(122,"input",55),_("change",function(n){return e.onImagenPortadaChange(n)}),i(),M(123,se,4,1,"p",37)(124,ge,2,0,"p",37),i()(),t(125,"div",43)(126,"div",56)(127,"label",32),o(128," Inscripci\xF3n "),i(),t(129,"label",57)(130,"input",58),f("ngModelChange",function(n){return u(e.requiereInscripcion,n)||(e.requiereInscripcion=n),n}),i(),t(131,"span"),o(132,"Requiere inscripci\xF3n previa"),i()(),t(133,"div",59)(134,"div",60)(135,"label",61),o(136," Inscripci\xF3n desde "),i(),t(137,"input",62),f("ngModelChange",function(n){return u(e.inscripcionDesde,n)||(e.inscripcionDesde=n),n}),i()(),t(138,"div",60)(139,"label",61),o(140," Inscripci\xF3n hasta "),i(),t(141,"input",63),f("ngModelChange",function(n){return u(e.inscripcionHasta,n)||(e.inscripcionHasta=n),n}),i()()(),t(142,"p",42),o(143," Si no defines un rango, la inscripci\xF3n estar\xE1 abierta mientras el evento est\xE9 planificado. "),i()(),t(144,"div",31)(145,"label",32),o(146," Cupo m\xE1ximo (opcional) "),i(),t(147,"input",64),f("ngModelChange",function(n){return u(e.cupoMaximo,n)||(e.cupoMaximo=n),n}),i(),t(148,"p",42),o(149," D\xE9jalo vac\xEDo si el evento no tiene l\xEDmite de participantes. "),i()()(),t(150,"div",65)(151,"div",66)(152,"div")(153,"h3",67),o(154,"Sesiones del evento"),i(),t(155,"p",68),o(156," Registra una o m\xE1s sesiones con fecha y horario. El sistema valida que est\xE9n dentro del per\xEDodo. "),i()(),t(157,"button",69),_("click",function(){return e.addSesion()}),h(158,"i",70),o(159," Agregar sesi\xF3n "),i()(),t(160,"div",56),M(161,pe,23,11,"div",71),i(),t(162,"p",42),o(163," Debe existir al menos una sesi\xF3n con fecha y horas completas para poder guardar el evento. "),i()(),t(164,"div",72)(165,"button",73),h(166,"i",74),M(167,me,1,0,"i",75),o(168),i(),t(169,"button",76),_("click",function(){return e.resetForm(!1),e.error.set(null),e.success.set(null)}),h(170,"i",77),o(171," Limpiar formulario "),i()()()(),M(172,ce,9,0,"div",78),i()()),l&2&&(d(26),s("ngIf",e.error()),d(),s("ngIf",e.success()),d(29),c("ngModel",e.periodoId),s("ngModelOptions",x(50,b))("disabled",e.loadingPeriodos()),d(),s("ngValue",null),d(2),s("ngForOf",e.periodos()),d(),s("ngIf",e.loadingPeriodos()),d(),s("ngIf",!e.loadingPeriodos()&&!e.periodos().length),d(4),c("ngModel",e.categoriaId),s("ngModelOptions",x(51,b))("disabled",e.loadingCategorias()),d(),s("ngValue",null),d(2),s("ngForOf",e.categorias()),d(),s("ngIf",e.loadingCategorias()),d(),s("ngIf",!e.loadingCategorias()&&!e.categorias().length),d(4),c("ngModel",e.codigo),s("ngModelOptions",x(52,b)),d(9),c("ngModel",e.titulo),s("ngModelOptions",x(53,b)),d(4),c("ngModel",e.subtitulo),s("ngModelOptions",x(54,b)),d(5),c("ngModel",e.descripcionCorta),s("ngModelOptions",x(55,b)),d(5),c("ngModel",e.modalidad),s("ngModelOptions",x(56,b)),d(10),c("ngModel",e.lugarDetallado),s("ngModelOptions",x(57,b)),d(4),c("ngModel",e.descripcionLarga),s("ngModelOptions",x(58,b)),d(5),c("ngModel",e.urlImagenPortada),s("ngModelOptions",x(59,b)),d(7),s("ngIf",e.imagenPortadaFile()),d(),s("ngIf",!e.imagenPortadaFile()),d(6),c("ngModel",e.requiereInscripcion),s("ngModelOptions",x(60,b)),d(7),c("ngModel",e.inscripcionDesde),s("ngModelOptions",x(61,b)),d(4),c("ngModel",e.inscripcionHasta),s("ngModelOptions",x(62,b)),d(6),c("ngModel",e.cupoMaximo),s("ngModelOptions",x(63,b)),d(14),s("ngForOf",e.sesiones()),d(4),s("disabled",!e.canSubmit()),d(),F("hidden",e.loading()),d(),s("ngIf",e.loading()),d(),C(" ",e.loading()?"Guardando\u2026":"Crear evento"," "),d(),s("disabled",e.loading()),d(3),s("ngIf",e.loading()))},dependencies:[L,N,k,Z,G,J,K,q,X,R,Q,j,H,Y,z,U,A,O],encapsulation:2});var ee=S;export{ee as EventCreatePage};
