import{B as m,C as c}from"./chunk-FE5WSVYG.js";import{O as l,T as d,o}from"./chunk-63T4HJ2B.js";function f(t){return Array.isArray(t)?t:Array.isArray(t?.items)?t.items:Array.isArray(t?.data)?t.data:Array.isArray(t?.data?.items)?t.data.items:[]}var e=class e{constructor(){this.http=d(c);this.base="/api/lookups"}fetchMyEpSedesStaff(i=50){let r=new m().set("solo_mias","1").set("solo_activas","1").set("solo_staff","1").set("roles","COORDINADOR,ENCARGADO").set("limit",String(i));return this.http.get(`${this.base}/ep-sedes`,{params:r}).pipe(o(n=>f(n).map(a=>({id:a.id,label:a.label??a.nombre??`EP ${a.id}`}))))}fetchPeriodos(i="",r=!1,n=50){let a=new m().set("limit",String(n)).set("solo_activos",r?"1":"0");return i&&(a=a.set("q",i)),this.http.get(`${this.base}/periodos`,{params:a}).pipe(o(p=>f(p).map(s=>({id:s.id,anio:s.anio,ciclo:String(s.ciclo),estado:s.estado}))))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"});var b=e;export{b as a};
