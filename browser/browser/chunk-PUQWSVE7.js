import{a as D}from"./chunk-SJXHNKEE.js";import{A as V,a as I,b as B,d as N,e as O,g as T,i as j,j as F}from"./chunk-J2XPQYKK.js";import"./chunk-LWNR2F3M.js";import{f as P}from"./chunk-5VQTM22E.js";import{k as y,u as E}from"./chunk-FE5WSVYG.js";import{$ as m,$a as e,Ka as C,Pa as x,T as h,_ as s,_a as d,ab as t,bb as a,fa as b,kb as p,mb as w,n as v,vb as n,wb as k,xb as M,ya as o}from"./chunk-63T4HJ2B.js";import{a as _,b as S}from"./chunk-IMPBB4AK.js";function A(u,l){if(u&1&&(e(0,"div",44)(1,"div",40),s(),e(2,"svg",45),a(3,"path",46),t(),m(),e(4,"div")(5,"h3",47),n(6,"Error"),t(),e(7,"p",48),n(8),t()()()()),u&2){let i=w();o(8),k(i.error())}}function G(u,l){u&1&&(s(),e(0,"svg",49),a(1,"path",50),t())}function H(u,l){u&1&&(s(),e(0,"svg",34),a(1,"path",51),t())}var c=class c{constructor(){this.api=h(D);this.router=h(P);this.universidadId=b(null);this.form=b({nombre:"",es_principal:!1,esta_suspendida:!1});this.loading=b(!1);this.error=b(null);this.bootstrap()}async bootstrap(){try{let i=(await v(this.api.obtenerUniversidad())).data;this.universidadId.set(i?.id??null)}catch{this.error.set("No se pudo leer la universidad")}}set(l,i){this.form.update(r=>S(_({},r),{[l]:i}))}async guardar(){let l=this.universidadId(),i=this.form();if(!l){this.error.set("Falta Universidad ID");return}if(!i.nombre.trim()){this.error.set("Ingresa el nombre de la sede");return}this.loading.set(!0),this.error.set(null);try{await v(this.api.crearSede({universidad_id:l,nombre:i.nombre.trim(),es_principal:i.es_principal,esta_suspendida:i.esta_suspendida})),this.router.navigate(["/ad/sedes"])}catch(r){this.error.set(r?.error?.message??"No se pudo crear la sede")}finally{this.loading.set(!1)}}volver(){this.router.navigate(["/ad/sedes"])}};c.\u0275fac=function(i){return new(i||c)},c.\u0275cmp=C({type:c,selectors:[["app-sede-create-page"]],decls:78,vars:9,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-50","via-blue-50/20","to-indigo-50/10","py-8"],[1,"max-w-2xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8","flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-6"],[1,"flex","items-center","gap-4"],[1,"p-3","bg-white","rounded-2xl","shadow-lg","border","border-slate-200/60","backdrop-blur-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-[#003B5C]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"text-3xl","font-bold","bg-gradient-to-r","from-[#003B5C]","to-[#4A7729]","bg-clip-text","text-transparent"],[1,"text-slate-600","mt-2"],[1,"group","inline-flex","items-center","justify-center","px-6","py-3","rounded-xl","border","border-slate-300","bg-white","text-slate-700","font-semibold","shadow","transition-all","duration-300","hover:bg-slate-50","hover:shadow-md","hover:scale-105","active:scale-95",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","group-hover:-translate-x-1","transition-transform","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],["class","mb-6 rounded-2xl border border-red-200 bg-red-50/90 backdrop-blur-sm p-6 shadow-lg transform transition-all duration-300 animate-in slide-in-from-top",4,"ngIf"],[1,"bg-white/90","backdrop-blur-sm","rounded-2xl","border","border-slate-200/60","shadow-xl","p-6","space-y-6","transform","transition-all","duration-300","hover:shadow-2xl",3,"ngSubmit"],[1,"space-y-2"],[1,"block","text-sm","font-semibold","text-slate-700"],[1,"relative"],["disabled","",1,"w-full","border","border-slate-300","rounded-xl","px-4","py-3.5","text-slate-600","bg-slate-50","focus:outline-none","focus:ring-2","focus:ring-[#003B5C]","focus:border-transparent","transition-all","duration-200","shadow-sm","cursor-not-allowed",3,"value"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-slate-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-xs","text-slate-500"],["name","nombre","placeholder","Ej: Sede Juliaca, Sede Lima Centro",1,"w-full","border","border-slate-300","rounded-xl","px-4","py-3.5","text-slate-700","bg-white","placeholder-slate-400","focus:outline-none","focus:ring-2","focus:ring-[#003B5C]","focus:border-transparent","transition-all","duration-200","shadow-sm",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","p-4","bg-slate-50/80","rounded-xl","border","border-slate-200/60"],[1,"inline-flex","items-center","gap-3","group","cursor-pointer"],["type","checkbox","name","es_principal",1,"sr-only","peer",3,"ngModelChange","ngModel"],[1,"w-11","h-6","bg-slate-300","peer-focus:outline-none","rounded-full","peer","peer-checked:after:translate-x-full","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:rounded-full","after:h-5","after:w-5","after:transition-all","peer-checked:bg-[#003B5C]","transition-all","duration-300"],[1,"flex","flex-col"],[1,"text-sm","font-semibold","text-slate-700","group-hover:text-[#003B5C]","transition-colors","duration-200"],["type","checkbox","name","esta_suspendida",1,"sr-only","peer",3,"ngModelChange","ngModel"],[1,"w-11","h-6","bg-slate-300","peer-focus:outline-none","rounded-full","peer","peer-checked:after:translate-x-full","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:rounded-full","after:h-5","after:w-5","after:transition-all","peer-checked:bg-[#4A7729]","transition-all","duration-300"],[1,"text-sm","font-semibold","text-slate-700","group-hover:text-[#4A7729]","transition-colors","duration-200"],[1,"flex","items-center","justify-end","gap-3","pt-4","border-t","border-slate-200/60"],["type","button",1,"group","inline-flex","items-center","justify-center","px-6","py-3.5","rounded-xl","border","border-slate-300","bg-white","text-slate-700","font-semibold","shadow","transition-all","duration-300","hover:bg-slate-50","hover:shadow-md","hover:scale-105","active:scale-95",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","group-hover:scale-110","transition-transform","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["type","submit",1,"group","inline-flex","items-center","justify-center","px-8","py-3.5","rounded-xl","bg-gradient-to-r","from-[#003B5C]","to-[#4A7729]","hover:from-[#003B5C]","hover:to-[#5a8a35]","text-white","font-semibold","shadow-lg","transition-all","duration-300","hover:shadow-xl","hover:scale-105","active:scale-95","disabled:opacity-50","disabled:cursor-not-allowed","disabled:transform-none",3,"disabled"],["class","w-4 h-4 mr-2 animate-spin","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4 mr-2 group-hover:scale-110 transition-transform duration-200","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"mt-8","bg-white/80","backdrop-blur-sm","rounded-2xl","border","border-slate-200/60","p-6","shadow-lg"],[1,"flex","items-start","gap-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-[#003B5C]","mt-0.5","flex-shrink-0"],[1,"text-[#003B5C]","font-semibold","mb-2"],[1,"text-sm","text-slate-600","space-y-1"],[1,"mb-6","rounded-2xl","border","border-red-200","bg-red-50/90","backdrop-blur-sm","p-6","shadow-lg","transform","transition-all","duration-300","animate-in","slide-in-from-top"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-500","mt-0.5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-red-800","font-semibold","mb-1"],[1,"text-red-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2","animate-spin"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 2v4m0 12v4m8-10h-4M6 12H2m15.364-7.364l-2.828 2.828M7.464 17.536l-2.828 2.828m12.728 0l-2.828-2.828M7.464 6.464L4.636 3.636"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),s(),e(5,"svg",5),a(6,"path",6),t()(),m(),e(7,"div")(8,"h1",7),n(9," Crear Nueva Sede "),t(),e(10,"p",8),n(11,"Complete la informaci\xF3n para registrar una nueva sede universitaria"),t()()(),e(12,"button",9),p("click",function(){return r.volver()}),s(),e(13,"svg",10),a(14,"path",11),t(),n(15," Volver "),t()(),x(16,A,9,1,"div",12),m(),e(17,"form",13),p("ngSubmit",function(){return r.guardar()}),e(18,"div",14)(19,"label",15),n(20,"Universidad ID"),t(),e(21,"div",16),a(22,"input",17),e(23,"div",18),s(),e(24,"svg",19),a(25,"path",20),t()()(),m(),e(26,"p",21),n(27,"Identificador \xFAnico de la universidad (autom\xE1tico)"),t()(),e(28,"div",14)(29,"label",15),n(30,"Nombre de la Sede"),t(),e(31,"input",22),p("ngModelChange",function(g){return r.set("nombre",g)}),t(),e(32,"p",21),n(33,"Ingrese el nombre completo de la sede universitaria"),t()(),e(34,"div",23)(35,"label",24)(36,"div",16)(37,"input",25),p("ngModelChange",function(g){return r.set("es_principal",!!g)}),t(),a(38,"div",26),t(),e(39,"div",27)(40,"span",28),n(41,"Es principal"),t(),e(42,"span",21),n(43,"Designar como sede principal"),t()()(),e(44,"label",24)(45,"div",16)(46,"input",29),p("ngModelChange",function(g){return r.set("esta_suspendida",!!g)}),t(),a(47,"div",30),t(),e(48,"div",27)(49,"span",31),n(50,"Est\xE1 suspendida"),t(),e(51,"span",21),n(52,"Sede temporalmente inactiva"),t()()()(),e(53,"div",32)(54,"button",33),p("click",function(){return r.volver()}),s(),e(55,"svg",34),a(56,"path",35),t(),n(57," Cancelar "),t(),m(),e(58,"button",36),x(59,G,2,0,"svg",37)(60,H,2,0,"svg",38),n(61),t()()(),e(62,"div",39)(63,"div",40),s(),e(64,"svg",41),a(65,"path",20),t(),m(),e(66,"div")(67,"h3",42),n(68,"Informaci\xF3n importante"),t(),e(69,"ul",43)(70,"li"),n(71,"\u2022 Solo puede existir una sede principal por universidad"),t(),e(72,"li"),n(73,"\u2022 Las sedes suspendidas no estar\xE1n disponibles para nuevas asignaciones"),t(),e(74,"li"),n(75,"\u2022 El nombre de la sede debe ser \xFAnico dentro de la universidad"),t(),e(76,"li"),n(77,"\u2022 Despu\xE9s de crear la sede, podr\xE1 asignar escuelas profesionales"),t()()()()()()()),i&2&&(o(16),d("ngIf",r.error()),o(6),d("value",r.universidadId()??""),o(9),d("ngModel",r.form().nombre),o(6),d("ngModel",r.form().es_principal),o(9),d("ngModel",r.form().esta_suspendida),o(12),d("disabled",r.loading()),o(),d("ngIf",r.loading()),o(),d("ngIf",!r.loading()),o(),M(" ",r.loading()?"Creando Sede...":"Crear Sede"," "))},dependencies:[E,y,V,F,B,I,N,O,j,T],styles:["[_nghost-%COMP%]{display:block}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fade-in-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse-slow{0%,to{opacity:.6}50%{opacity:1}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .6s ease-out}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in-up .8s ease-out}.animate-pulse-slow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-slow 2s ease-in-out infinite}button[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px;border-radius:.5rem}*[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.loading-state[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1f5f9 25%,#e2e8f0,#f1f5f9 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}"]});var L=c;export{L as SedeCreatePage};
