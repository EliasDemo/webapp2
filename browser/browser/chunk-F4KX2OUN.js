import{a as oe}from"./chunk-ZHWJTMU2.js";import{a as ie}from"./chunk-IZ77CWTJ.js";import{A as te,a as z,b as G,d as Z,i as q,k as J,l as K,r as Q,s as W,t as X,u as Y,v as ee}from"./chunk-J2XPQYKK.js";import"./chunk-LWNR2F3M.js";import{d as L,f as B,g as U,h as $,j}from"./chunk-5VQTM22E.js";import{j as T,k as O,p as F,u as V}from"./chunk-FE5WSVYG.js";import{$a as t,Fb as H,Ka as I,Kb as D,Lb as N,Pa as h,T as C,Tb as M,Y as E,Z as S,_a as m,ab as i,bb as c,fa as u,gb as P,kb as p,mb as x,tb as R,vb as n,wb as v,xb as _,ya as l,yb as A}from"./chunk-63T4HJ2B.js";import"./chunk-IMPBB4AK.js";var ae=()=>({exact:!0});function le(s,a){if(s&1){let e=P();t(0,"button",86),p("click",function(){let r=E(e).$implicit,d=x(3);return S(d.seleccionarEpSede(r))}),c(1,"i",87),n(2),i()}if(s&2){let e=a.$implicit;l(2),_(" ID ",e," ")}}function se(s,a){if(s&1&&(t(0,"div",80)(1,"div",81),c(2,"i",82),n(3," EP-SEDE disponibles para tu usuario: "),i(),t(4,"div",83),h(5,le,3,1,"button",84),i(),t(6,"div",85),n(7," Haz clic en un ID para consultarlo directamente. "),i()()),s&2){let e=x(2);l(5),m("ngForOf",e.choices())}}function de(s,a){if(s&1){let e=P();t(0,"div",70)(1,"div",71)(2,"div",72),c(3,"i",73),i(),t(4,"div",74)(5,"div",75),n(6,"No se pudo completar la consulta"),i(),t(7,"div",76),n(8),i(),h(9,se,8,1,"div",77),i(),t(10,"button",78),p("click",function(){E(e);let r=x();return S(r.error.set(null))}),c(11,"i",79),i()()()}if(s&2){let e,o=x();l(8),v(o.error()),l(),m("ngIf",(e=o.choices())==null?null:e.length)}}function me(s,a){if(s&1){let e=P();t(0,"label",88)(1,"input",89),p("change",function(r){let d=E(e).$implicit,b=x();return S(b.togglePeriodo(d,r.target==null?null:r.target.checked))}),i(),t(2,"span",90),n(3),i(),t(4,"span",91),n(5),i()()}if(s&2){let e=a.$implicit,o=x();l(),m("checked",o.selectedPeriodos().includes(e)),l(2),v(e),l(),R("bg-emerald-100",o.isPeriodoActivo(e))("text-emerald-700",o.isPeriodoActivo(e))("bg-slate-100",!o.isPeriodoActivo(e))("text-slate-600",!o.isPeriodoActivo(e)),l(),_(" ",o.isPeriodoActivo(e)?"Activo":"\u2014"," ")}}function ce(s,a){if(s&1){let e=P();t(0,"span",95),n(1),t(2,"button",96),p("click",function(){let r=E(e).$implicit,d=x(2);return S(d.togglePeriodo(r,!1))}),c(3,"i",97),i()()}if(s&2){let e=a.$implicit;l(),_(" ",e," ")}}function pe(s,a){if(s&1){let e=P();t(0,"div",92),h(1,ce,4,1,"span",93),t(2,"button",94),p("click",function(){E(e);let r=x();return S(r.clearPeriodos())}),n(3,"Limpiar"),i()()}if(s&2){let e=x();l(),m("ngForOf",e.selectedPeriodos())("ngForTrackBy",e.trackByStr)}}function ge(s,a){s&1&&c(0,"i",98)}function ue(s,a){if(s&1){let e=P();t(0,"section",99)(1,"div",100)(2,"div",101),c(3,"i",102),i(),t(4,"h2",103),n(5,"A\xFAn no hay datos para la selecci\xF3n"),i(),t(6,"p",28),n(7," Prueba desmarcar "),t(8,"b"),n(9,"\u201CSolo con horas en selecci\xF3n\u201D"),i(),n(10,", ajustar los filtros, o carga horas hist\xF3ricas desde un archivo. "),i(),t(11,"div",104)(12,"button",105),p("click",function(){E(e);let r=x();return S(r.irAImportar())}),c(13,"i",106),n(14," Importar horas hist\xF3ricas "),i(),t(15,"button",107),p("click",function(){E(e);let r=x();return S(r.descargarPlantilla())}),c(16,"i",108),n(17," Descargar plantilla "),i()(),t(18,"div",109),n(19," La importaci\xF3n "),t(20,"b"),n(21,"nunca"),i(),n(22," escribe en el per\xEDodo en curso. Se crean proyectos/slots hist\xF3ricos si no existen. "),i()()()}}function xe(s,a){if(s&1&&(t(0,"section",23)(1,"div",110)(2,"div",111)(3,"div",112),n(4),i(),t(5,"div",113),n(6,"Personas"),i()(),t(7,"div",114)(8,"div",115),n(9),i(),t(10,"div",116),n(11),i()(),t(12,"div",117)(13,"div",118),n(14),i(),t(15,"div",119),n(16,"Per\xEDodos en columnas"),i()(),t(17,"div",111)(18,"div",120),n(19),i(),t(20,"div",113),n(21),i()()()()),s&2){let e,o=x();l(4),v(o.items().length),l(5),v(o.totalGeneral()),l(2),_("Total (",((e=o.meta())==null?null:e.unidad)||o.unidad(),")"),l(3),v(o.periodosTabla().length),l(5),v(o.epSedeNombre()||"\u2014"),l(2),_("EP-SEDE (ID ",o.epSedeId()||"\u2014",")")}}function be(s,a){if(s&1&&(t(0,"th",132),n(1),i()),s&2){let e=a.$implicit;l(),_(" ",e," ")}}function fe(s,a){if(s&1&&(t(0,"td",143),n(1),i()),s&2){let e=a.$implicit,o=x().$implicit;l(),_(" ",(o.periodos==null?null:o.periodos[e])??0," ")}}function he(s,a){if(s&1&&(t(0,"tr",139)(1,"td",140),n(2),i(),t(3,"td",140),n(4),i(),t(5,"td",140),n(6),i(),h(7,fe,2,1,"td",141),t(8,"td",142),n(9),i()()),s&2){let e=a.$implicit,o=x(2);l(2),v(e.codigo||"\u2014"),l(2),v(e.apellidos||"\u2014"),l(2),v(e.nombres||"\u2014"),l(),m("ngForOf",o.periodosTabla())("ngForTrackBy",o.trackByStr),l(2),_(" ",e.total," ")}}function ve(s,a){if(s&1){let e=P();t(0,"section",121)(1,"div",122)(2,"div",123)(3,"div",4)(4,"div",124),c(5,"i",125),i(),t(6,"div")(7,"h2",27),n(8,"Detalle por persona"),i(),t(9,"p",28),n(10,"Incluye total y detalle por per\xEDodo/bucket"),i()()(),t(11,"div",40),n(12),D(13,"uppercase"),i()()(),t(14,"div",126)(15,"div",127)(16,"table",128)(17,"thead",129)(18,"tr")(19,"th",130),n(20,"C\xF3digo"),i(),t(21,"th",130),n(22,"Apellidos"),i(),t(23,"th",130),n(24,"Nombres"),i(),h(25,be,2,1,"th",131),t(26,"th",132),n(27,"Total"),i()()(),t(28,"tbody",133),h(29,he,10,6,"tr",134),i()()()(),t(30,"div",135)(31,"button",136),p("click",function(){E(e);let r=x();return S(r.exportarLocalCSV())}),c(32,"i",137),n(33," Exportar CSV (local) "),i(),t(34,"span",138),n(35),i()()()}if(s&2){let e=x();l(12),A("Orden: ",e.orden()," \u2022 ",N(13,8,e.dir())),l(13),m("ngForOf",e.periodosTabla())("ngForTrackBy",e.trackByStr),l(4),m("ngForOf",e.items())("ngForTrackBy",e.trackItem),l(6),A(" ",e.items().length," filas \u2022 ",e.periodosTabla().length," columnas de per\xEDodos ")}}function _e(s,a){s&1&&(t(0,"div",144)(1,"div",145)(2,"div",146),c(3,"div",147)(4,"div",148),i(),t(5,"div",149),n(6,"Consultando"),i(),t(7,"div",150),n(8,"Un momento por favor\u2026"),i()()())}var w=class w{constructor(){this.rpApi=C(oe);this.lookups=C(ie);this.route=C(L);this.router=C(B);this.loading=u(!1);this.error=u(null);this.epSedeId=u(null);this.epSedeNombre=u(null);this.choices=u(null);this.periodosOpciones=u([]);this.periodosActivos=u(new Set);this.selectedPeriodos=u([]);this.ultimos=u(5);this.unidad=u("h");this.estado=u("APROBADO");this.soloConHoras=u(!0);this.orden=u("apellidos");this.dir=u("asc");this.meta=u(null);this.items=u([]);this.periodosCols=u([]);this.periodosTabla=M(()=>this.periodosCols());this.totalGeneral=M(()=>this.items().reduce((a,e)=>a+(Number(e.total)||0),0));this.trackByStr=(a,e)=>e;this.trackItem=(a,e)=>e.persona_id??`${e.codigo}-${e.apellidos}-${e.nombres}`;let a=this.route.snapshot.paramMap.get("epSedeId"),e=a?Number(a):NaN;isNaN(e)||this.epSedeId.set(e),this.loadPeriodosOpciones(),this.consultar()}loadPeriodosOpciones(){this.lookups.fetchPeriodos("",!1,100).subscribe({next:a=>{let e=a.map(r=>`${r.anio}-${r.ciclo}`),o=new Set(a.filter(r=>(r.estado||"").toUpperCase()==="EN_CURSO").map(r=>`${r.anio}-${r.ciclo}`));e.sort((r,d)=>d.localeCompare(r)),this.periodosOpciones.set(e),this.periodosActivos.set(o)},error:()=>{this.periodosOpciones.set([]),this.periodosActivos.set(new Set)}})}isPeriodoActivo(a){return this.periodosActivos().has(a)}togglePeriodo(a,e){let o=new Set(this.selectedPeriodos());e?o.add(a):o.delete(a),this.selectedPeriodos.set(Array.from(o).sort((r,d)=>d.localeCompare(r)))}clearPeriodos(){this.selectedPeriodos.set([])}consultar(){this.error.set(null),this.items.set([]),this.meta.set(null),this.choices.set(null);let a={periodos:this.selectedPeriodos().length?this.selectedPeriodos():void 0,ultimos:this.selectedPeriodos().length?void 0:this.ultimos(),unidad:this.unidad(),estado:this.estado(),solo_con_horas_periodos:this.soloConHoras(),orden:this.orden(),dir:this.dir()};this.loading.set(!0);let e=this.epSedeId();(e?this.rpApi.listarHorasPorPeriodo(e,a):this.rpApi.listarHorasPorPeriodoAuto(a)).subscribe({next:r=>this.handleResponse(r),error:r=>{let d=r?.error?.message||"Error consultando el reporte.";this.error.set(d);let b=r?.error?.choices;Array.isArray(b)&&b.length&&this.choices.set(b)},complete:()=>this.loading.set(!1)})}handleResponse(a){let e=a?.meta??{};this.meta.set(e),e?.ep_sede_id!=null&&this.epSedeId.set(Number(e.ep_sede_id)),e?.escuela_profesional&&this.epSedeNombre.set(String(e.escuela_profesional));let o=e?.bucket_antes||null,r=Array.isArray(e?.periodos)?e.periodos.map(g=>typeof g=="string"?g:String(g?.codigo)).filter(Boolean):[],d=[...o?[o]:[],...r];this.periodosCols.set(d);let b=(a?.data??[]).map(g=>{let y={};return d.forEach(f=>{y[f]=Number(g?.buckets?.[f]??0)}),{codigo:g?.codigo??"",apellidos:g?._last_name??"",nombres:g?._first_name??"",total:Number(g?.total??0),periodos:y}});this.items.set(b)}seleccionarEpSede(a){this.epSedeId.set(a),this.consultar()}exportar(){let a={periodos:this.selectedPeriodos().length?this.selectedPeriodos():void 0,ultimos:this.selectedPeriodos().length?void 0:this.ultimos(),unidad:this.unidad(),estado:this.estado(),solo_con_horas_periodos:this.soloConHoras(),orden:this.orden(),dir:this.dir()};this.loading.set(!0);let e=this.epSedeId();(e?this.rpApi.exportarHorasPorPeriodo(e,a):this.rpApi.exportarHorasPorPeriodoAuto(a)).subscribe({next:r=>{let d=`reporte_horas_ep_${e??"auto"}.xlsx`,b=URL.createObjectURL(r),g=document.createElement("a");g.href=b,g.download=d,document.body.appendChild(g),g.click(),g.remove(),URL.revokeObjectURL(b)},error:r=>{this.error.set(r?.error?.message||"No se pudo descargar el Excel.")},complete:()=>this.loading.set(!1)})}descargarPlantilla(){this.loading.set(!0),this.rpApi.descargarPlantillaHorasHistoricas().subscribe({next:a=>{let e="plantilla_horas_historicas.xlsx",o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download=e,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(o)},error:a=>{this.error.set(a?.error?.message||"No se pudo descargar la plantilla.")},complete:()=>this.loading.set(!1)})}irAImportar(){this.router.navigate(["/r/import/historico-horas"])}exportarLocalCSV(){let a=this.items();if(!a.length)return;let e=this.periodosTabla(),o=["codigo","apellidos","nombres",...e,"total"],r=f=>{if(f==null)return"";let k=String(f);return/[",\n;]/.test(k)?`"${k.replace(/"/g,'""')}"`:k},d=[];d.push(o.join(",")),a.forEach(f=>{let k=[f.codigo??"",f.apellidos??"",f.nombres??"",...e.map(re=>f.periodos[re]??0),f.total??0].map(r);d.push(k.join(","))});let b=new Blob([d.join(`
`)],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(b),y=document.createElement("a");y.href=g,y.download="reporte_horas.csv",document.body.appendChild(y),y.click(),y.remove(),URL.revokeObjectURL(g)}limpiar(){this.selectedPeriodos.set([]),this.ultimos.set(5),this.unidad.set("h"),this.estado.set("APROBADO"),this.soloConHoras.set(!0),this.orden.set("apellidos"),this.dir.set("asc"),this.items.set([]),this.meta.set(null),this.error.set(null),this.choices.set(null)}isLoadingDisabled(){return this.loading()}};w.\u0275fac=function(e){return new(e||w)},w.\u0275cmp=I({type:w,selectors:[["rp-horas-page"]],decls:124,vars:29,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-50","to-blue-50/30","pb-16"],[1,"border-b","border-slate-200","bg-white/80","backdrop-blur-sm","sticky","top-0","z-10"],[1,"max-w-7xl","mx-auto","px-4","py-4"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-3"],[1,"p-2","rounded-xl","bg-indigo-100","text-indigo-700"],[1,"fa-solid","fa-clock-rotate-left","text-lg"],[1,"text-xs","text-slate-500","mb-1","flex","items-center","gap-1"],["routerLink","/",1,"hover:text-slate-700","font-medium","transition-colors"],[1,"fa-solid","fa-chevron-right","text-[10px]","text-slate-400"],["routerLink","/r",1,"hover:text-slate-700","font-medium","transition-colors"],[1,"text-indigo-700","font-semibold"],[1,"text-2xl","font-bold","text-slate-900"],[1,"text-sm","text-slate-600","mt-1"],[1,"inline-flex","items-center","gap-2","rounded-xl","border","border-indigo-200","bg-white","px-4","py-2.5","text-sm","font-semibold","text-indigo-700","hover:bg-indigo-50","hover:border-indigo-300","transition-all","duration-200","shadow-sm","hover:shadow-md","disabled:opacity-50",3,"click","disabled"],[1,"fa-solid","fa-file-excel","text-indigo-600"],[1,"mt-4","flex","flex-wrap","gap-2"],["routerLink","/r/horas","routerLinkActive","bg-indigo-600 text-white",1,"inline-flex","items-center","gap-2","rounded-lg","px-3","py-1.5","text-xs","font-semibold","border","border-indigo-200","text-indigo-700","hover:bg-indigo-50","transition-colors",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-table"],["routerLink","/r/avance","routerLinkActive","bg-indigo-600 text-white",1,"inline-flex","items-center","gap-2","rounded-lg","px-3","py-1.5","text-xs","font-semibold","border","border-indigo-200","text-indigo-700","hover:bg-indigo-50","transition-colors"],[1,"fa-solid","fa-diagram-project"],[1,"max-w-7xl","mx-auto","px-4","pt-8","space-y-8"],["class","rounded-2xl border border-rose-200 bg-white p-4 shadow-sm animate-fade-in",4,"ngIf"],[1,"rounded-2xl","border","border-slate-200","bg-white","p-6","shadow-sm"],[1,"flex","items-center","justify-between","mb-6"],[1,"p-2","rounded-xl","bg-indigo-100","text-indigo-600"],[1,"fa-solid","fa-filter","text-sm"],[1,"text-lg","font-bold","text-slate-900"],[1,"text-sm","text-slate-600"],[1,"flex","items-center","gap-2","text-xs"],[1,"px-3","py-1","rounded-full","bg-slate-100","text-slate-700","border","border-slate-200"],[1,"fa-solid","fa-building","text-slate-500","mr-1"],[1,"text-slate-400","ml-1"],[1,"grid","grid-cols-1","md:grid-cols-3","xl:grid-cols-4","gap-6"],[1,"space-y-2","md:col-span-2"],[1,"block","text-sm","font-semibold","text-slate-700"],[1,"rounded-xl","border","border-slate-300","bg-white","p-3"],[1,"max-h-40","overflow-auto","pr-2"],["class","flex items-center gap-2 text-sm py-1",4,"ngFor","ngForOf","ngForTrackBy"],["class","flex flex-wrap gap-2 mt-3",4,"ngIf"],[1,"text-xs","text-slate-500"],[1,"space-y-2"],["type","number","min","1","max","12",1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm","disabled:bg-slate-100",3,"ngModelChange","disabled","ngModel"],[1,"inline-flex","items-center","gap-2","text-sm"],["type","radio","name","unidad","value","h",1,"text-indigo-600",3,"ngModelChange","ngModel","checked"],["type","radio","name","unidad","value","min",1,"text-indigo-600",3,"ngModelChange","ngModel","checked"],[1,"w-full","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel"],["value","APROBADO"],["value","PENDIENTE"],["value","RECHAZADO"],["value","ANULADO"],["type","checkbox",1,"rounded","border-slate-300","text-indigo-600","focus:ring-indigo-200",3,"ngModelChange","ngModel"],[1,"flex","gap-2"],[1,"flex-1","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel"],["value","apellidos"],["value","codigo"],["value","total"],[1,"w-28","rounded-xl","border","border-slate-300","bg-white","px-4","py-3","text-sm",3,"ngModelChange","ngModel"],["value","asc"],["value","desc"],[1,"flex","flex-wrap","gap-3","pt-6"],[1,"inline-flex","items-center","gap-3","rounded-xl","bg-indigo-600","px-6","py-3","text-sm","font-semibold","text-white","hover:bg-indigo-700","disabled:opacity-50","transition-all","shadow-md","hover:shadow-lg",3,"click","disabled"],[1,"fa-solid","fa-magnifying-glass"],["class","fa-solid fa-circle-notch animate-spin",4,"ngIf"],[1,"inline-flex","items-center","gap-2","rounded-xl","border","border-slate-300","bg-white","px-5","py-3","text-sm","font-semibold","text-slate-700","hover:bg-slate-50","disabled:opacity-50",3,"click","disabled"],[1,"fa-solid","fa-broom"],["class","rounded-2xl border border-slate-200 bg-white p-10 shadow-sm",4,"ngIf"],["class","rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",4,"ngIf"],["class","rounded-2xl border border-slate-200 bg-white shadow-lg",4,"ngIf"],["class","fixed inset-0 bg-white/70 backdrop-blur-sm z-50 grid place-items-center",4,"ngIf"],[1,"rounded-2xl","border","border-rose-200","bg-white","p-4","shadow-sm","animate-fade-in"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","p-2","rounded-lg","bg-rose-100","text-rose-600"],[1,"fa-solid","fa-circle-exclamation","text-sm"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-rose-900","mb-1"],[1,"text-sm","text-rose-700"],["class","mt-3 rounded-xl border border-amber-200 bg-amber-50/50 p-3",4,"ngIf"],[1,"flex-shrink-0","text-slate-400","hover:text-slate-600","transition-colors",3,"click"],[1,"fa-solid","fa-xmark","text-sm"],[1,"mt-3","rounded-xl","border","border-amber-200","bg-amber-50/50","p-3"],[1,"text-sm","font-semibold","text-amber-800","mb-2","flex","items-center","gap-2"],[1,"fa-solid","fa-lightbulb","text-amber-600"],[1,"flex","flex-wrap","gap-2"],["type","button","class","inline-flex items-center gap-2 rounded-lg border border-amber-300 bg-white px-3 py-1.5 text-sm font-medium text-amber-800 shadow-sm hover:bg-amber-50 transition-colors",3,"click",4,"ngFor","ngForOf"],[1,"text-xs","text-amber-700","mt-2"],["type","button",1,"inline-flex","items-center","gap-2","rounded-lg","border","border-amber-300","bg-white","px-3","py-1.5","text-sm","font-medium","text-amber-800","shadow-sm","hover:bg-amber-50","transition-colors",3,"click"],[1,"fa-solid","fa-building","text-amber-600","text-xs"],[1,"flex","items-center","gap-2","text-sm","py-1"],["type","checkbox",1,"rounded","border-slate-300","text-indigo-600","focus:ring-indigo-200",3,"change","checked"],[1,"text-slate-700"],[1,"ml-auto","text-xs","px-2","py-0.5","rounded-full"],[1,"flex","flex-wrap","gap-2","mt-3"],["class","inline-flex items-center gap-2 rounded-lg bg-slate-100 text-slate-700 px-3 py-1 text-xs font-medium",4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-xs","text-rose-600","hover:underline","ml-auto",3,"click"],[1,"inline-flex","items-center","gap-2","rounded-lg","bg-slate-100","text-slate-700","px-3","py-1","text-xs","font-medium"],[1,"text-slate-400","hover:text-rose-500",3,"click"],[1,"fa-solid","fa-xmark"],[1,"fa-solid","fa-circle-notch","animate-spin"],[1,"rounded-2xl","border","border-slate-200","bg-white","p-10","shadow-sm"],[1,"max-w-3xl","mx-auto","text-center","space-y-4"],[1,"mx-auto","w-14","h-14","grid","place-items-center","rounded-2xl","bg-indigo-50","text-indigo-600"],[1,"fa-solid","fa-inbox","text-xl"],[1,"text-xl","font-bold","text-slate-900"],[1,"flex","flex-wrap","justify-center","gap-3","pt-2"],[1,"inline-flex","items-center","gap-2","rounded-xl","bg-indigo-600","px-5","py-3","text-sm","font-semibold","text-white","hover:bg-indigo-700","shadow-sm","hover:shadow-md",3,"click"],[1,"fa-solid","fa-upload"],[1,"inline-flex","items-center","gap-2","rounded-xl","border","border-slate-300","bg-white","px-5","py-3","text-sm","font-semibold","text-slate-700","hover:bg-slate-50",3,"click"],[1,"fa-solid","fa-file-excel"],[1,"text-xs","text-slate-500","pt-2"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"text-center","p-4","rounded-xl","bg-slate-50","border","border-slate-200"],[1,"text-2xl","font-black","text-slate-900"],[1,"text-xs","font-medium","text-slate-600","mt-1"],[1,"text-center","p-4","rounded-xl","bg-indigo-50","border","border-indigo-200"],[1,"text-2xl","font-black","text-indigo-700"],[1,"text-xs","font-medium","text-indigo-700","mt-1"],[1,"text-center","p-4","rounded-xl","bg-emerald-50","border","border-emerald-200"],[1,"text-sm","font-black","text-emerald-700"],[1,"text-xs","font-medium","text-emerald-700","mt-1"],[1,"text-sm","font-black","text-slate-700"],[1,"rounded-2xl","border","border-slate-200","bg-white","shadow-lg"],[1,"p-6","border-b","border-slate-200"],[1,"flex","items-center","justify-between"],[1,"p-2","rounded-xl","bg-slate-100","text-slate-600"],[1,"fa-solid","fa-table-list","text-sm"],[1,"overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","text-sm"],[1,"bg-slate-50","border-b","border-slate-200"],[1,"px-4","py-3","text-left","font-semibold","text-slate-700","text-xs","uppercase","tracking-wider"],["class","px-4 py-3 text-right font-semibold text-slate-700 text-xs uppercase tracking-wider",4,"ngFor","ngForOf","ngForTrackBy"],[1,"px-4","py-3","text-right","font-semibold","text-slate-700","text-xs","uppercase","tracking-wider"],[1,"divide-y","divide-slate-200"],["class","hover:bg-slate-50/50 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-4","border-t","border-slate-200","flex","items-center","gap-3"],[1,"inline-flex","items-center","gap-2","rounded-xl","border","border-slate-300","bg-white","px-5","py-3","text-sm","font-semibold","text-slate-700","hover:bg-slate-50","transition-all",3,"click"],[1,"fa-solid","fa-file-csv"],[1,"text-xs","text-slate-500","ml-auto"],[1,"hover:bg-slate-50/50","transition-colors"],[1,"px-4","py-3","text-slate-700"],["class","px-4 py-3 text-right font-mono text-slate-700",4,"ngFor","ngForOf","ngForTrackBy"],[1,"px-4","py-3","text-right","font-mono","font-semibold","text-slate-900"],[1,"px-4","py-3","text-right","font-mono","text-slate-700"],[1,"fixed","inset-0","bg-white/70","backdrop-blur-sm","z-50","grid","place-items-center"],[1,"text-center"],[1,"relative"],[1,"w-16","h-16","rounded-full","border-4","border-slate-200"],[1,"absolute","inset-0","w-16","h-16","animate-spin","rounded-full","border-4","border-indigo-600","border-t-transparent"],[1,"mt-4","text-lg","font-semibold","text-slate-900"],[1,"text-sm","text-slate-600","mt-2"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),c(6,"i",6),i(),t(7,"div")(8,"nav",7)(9,"a",8),n(10,"Inicio"),i(),c(11,"i",9),t(12,"a",10),n(13,"Reportes"),i(),c(14,"i",9),t(15,"span",11),n(16,"Horas por per\xEDodo"),i()(),t(17,"h1",12),n(18,"Horas por per\xEDodo"),i(),t(19,"p",13),n(20," El EP-SEDE se detecta autom\xE1ticamente seg\xFAn tu usuario. "),i()()(),t(21,"div",4)(22,"button",14),p("click",function(){return o.exportar()}),c(23,"i",15),n(24," Exportar Excel "),i()()(),t(25,"div",16)(26,"a",17),c(27,"i",18),n(28," Horas por per\xEDodo "),i(),t(29,"a",19),c(30,"i",20),n(31," Mi avance por proyecto "),i()()()(),t(32,"main",21),h(33,de,12,2,"div",22),t(34,"section",23)(35,"div",24)(36,"div",4)(37,"div",25),c(38,"i",26),i(),t(39,"div")(40,"h2",27),n(41,"Filtros"),i(),t(42,"p",28),n(43,"Define la selecci\xF3n y el orden del reporte"),i()()(),t(44,"div",29)(45,"span",30),c(46,"i",31),n(47," EP-SEDE: "),t(48,"b"),n(49),i(),t(50,"span",32),n(51),i()()()(),t(52,"div",33)(53,"div",34)(54,"label",35),n(55,"Per\xEDodos (opcional)"),i(),t(56,"div",36)(57,"div",37),h(58,me,6,11,"label",38),i(),h(59,pe,4,2,"div",39),i(),t(60,"p",40),n(61,"Si eliges per\xEDodos, se ignora \u201C\xFAltimos N\u201D."),i()(),t(62,"div",41)(63,"label",35),n(64,"\xDAltimos N"),i(),t(65,"input",42),p("ngModelChange",function(d){return o.ultimos.set(d?+d:5)}),i(),t(66,"p",40),n(67,"Por defecto 5."),i()(),t(68,"div",41)(69,"label",35),n(70,"Unidad"),i(),t(71,"div",4)(72,"label",43)(73,"input",44),p("ngModelChange",function(d){return o.unidad.set(d)}),i(),n(74," Horas "),i(),t(75,"label",43)(76,"input",45),p("ngModelChange",function(d){return o.unidad.set(d)}),i(),n(77," Minutos "),i()()(),t(78,"div",41)(79,"label",35),n(80,"Estado"),i(),t(81,"select",46),p("ngModelChange",function(d){return o.estado.set(d)}),t(82,"option",47),n(83,"APROBADO"),i(),t(84,"option",48),n(85,"PENDIENTE"),i(),t(86,"option",49),n(87,"RECHAZADO"),i(),t(88,"option",50),n(89,"ANULADO"),i()()(),t(90,"div",41)(91,"label",35),n(92,"Opciones"),i(),t(93,"label",43)(94,"input",51),p("ngModelChange",function(d){return o.soloConHoras.set(!!d)}),i(),n(95," Solo con horas en selecci\xF3n "),i()(),t(96,"div",41)(97,"label",35),n(98,"Orden"),i(),t(99,"div",52)(100,"select",53),p("ngModelChange",function(d){return o.orden.set(d)}),t(101,"option",54),n(102,"Apellidos"),i(),t(103,"option",55),n(104,"C\xF3digo"),i(),t(105,"option",56),n(106,"Total"),i()(),t(107,"select",57),p("ngModelChange",function(d){return o.dir.set(d)}),t(108,"option",58),n(109,"Asc"),i(),t(110,"option",59),n(111,"Desc"),i()()()()(),t(112,"div",60)(113,"button",61),p("click",function(){return o.consultar()}),c(114,"i",62),h(115,ge,1,0,"i",63),n(116),i(),t(117,"button",64),p("click",function(){return o.limpiar()}),c(118,"i",65),n(119," Limpiar "),i()()(),h(120,ue,23,0,"section",66)(121,xe,22,6,"section",67)(122,ve,36,10,"section",68)(123,_e,9,0,"div",69),i()()),e&2&&(l(22),m("disabled",o.isLoadingDisabled()),l(4),m("routerLinkActiveOptions",H(28,ae)),l(7),m("ngIf",o.error()),l(16),v(o.epSedeNombre()||"\u2014"),l(2),_("(#",o.epSedeId()||"\u2014",")"),l(7),m("ngForOf",o.periodosOpciones())("ngForTrackBy",o.trackByStr),l(),m("ngIf",o.selectedPeriodos().length),l(6),m("disabled",o.selectedPeriodos().length>0)("ngModel",o.ultimos()),l(8),m("ngModel",o.unidad())("checked",o.unidad()==="h"),l(3),m("ngModel",o.unidad())("checked",o.unidad()==="min"),l(5),m("ngModel",o.estado()),l(13),m("ngModel",o.soloConHoras()),l(6),m("ngModel",o.orden()),l(7),m("ngModel",o.dir()),l(6),m("disabled",o.isLoadingDisabled()),l(),R("hidden",o.loading()),l(),m("ngIf",o.loading()),l(),_(" ",o.loading()?"Consultando...":"Consultar"," "),l(),m("disabled",o.loading()),l(3),m("ngIf",!o.loading()&&!o.error()&&!o.items().length),l(),m("ngIf",o.items().length),l(),m("ngIf",o.items().length),l(),m("ngIf",o.loading()))},dependencies:[V,T,O,te,W,X,G,J,z,Q,K,Z,ee,Y,q,j,U,$,F],encapsulation:2});var ne=w;export{ne as RpHorasPage};
