import{a}from"./chunk-LWNR2F3M.js";import{C as l}from"./chunk-FE5WSVYG.js";import{O as p,S as r}from"./chunk-63T4HJ2B.js";import{a as o}from"./chunk-IMPBB4AK.js";var t=class t{constructor(e,i){this.http=e;let n=i??"/api";this.baseUrl=n.endsWith("/")?n.slice(0,-1):n}usersUrl(){return`${this.baseUrl}/users`}getMe(){return this.http.get(`${this.usersUrl()}/me`)}updateMe(e){if(e.profile_photo instanceof File){let s=new FormData;return e.first_name!==void 0&&s.append("first_name",e.first_name),e.last_name!==void 0&&s.append("last_name",e.last_name),e.email!==void 0&&s.append("email",e.email??""),e.celular!==void 0&&s.append("celular",e.celular??""),e.religion!==void 0&&s.append("religion",e.religion??""),e.correo_institucional!==void 0&&s.append("correo_institucional",e.correo_institucional??""),e.expediente_id!==void 0&&s.append("expediente_id",String(e.expediente_id)),s.append("profile_photo",e.profile_photo),this.http.put(`${this.usersUrl()}/me`,s)}let n=o({},e);return delete n.profile_photo,this.http.put(`${this.usersUrl()}/me`,n)}changePassword(e){return this.http.put(`${this.usersUrl()}/me/password`,e)}getSessions(){return this.http.get(`${this.usersUrl()}/me/sessions`)}listSessions(){return this.getSessions()}closeSession(e){return this.http.delete(`${this.usersUrl()}/me/sessions/${encodeURIComponent(e)}`)}revokeSession(e){return this.closeSession(e)}closeOtherSessions(){return this.http.delete(`${this.usersUrl()}/me/sessions/others`)}revokeOtherSessions(){return this.closeOtherSessions()}getByUsername(e){return this.http.get(`${this.usersUrl()}/by-username/${encodeURIComponent(e)}`)}};t.\u0275fac=function(i){return new(i||t)(r(l),r(a,8))},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});var m=t;export{m as a};
