import{a as ki}from"./chunk-ZUTMBQZV.js";import{a as Fe}from"./chunk-OKPZKVFZ.js";import{a as Le,b as bt,c as wi}from"./chunk-IXC5PNGZ.js";import{a as ze}from"./chunk-FNGTCS3R.js";import{a as _i,b as xi,c as Si}from"./chunk-IU2GZKQM.js";import{a as vi}from"./chunk-3JNG56IY.js";import{a as Ei}from"./chunk-LWNR2F3M.js";import{a as ci,b as mi,c as hi,d as gi,e as gt,f as yt,g as Re,h as yi,i as bi}from"./chunk-5VQTM22E.js";import{C as ui,D as Je,E as pi,F as fi,i as Oe,j as ft,k as oe,u as ht,y as rr}from"./chunk-FE5WSVYG.js";import{$a as c,$b as li,A as qr,Ca as $r,Gb as tr,Ha as Wr,Hb as ri,Jb as ii,Ka as j,Kb as ni,L as A,Lb as si,O as Q,Ob as pt,Pa as N,Qb as ai,Ra as Ze,S as mt,Sa as Gr,T as P,Tb as ve,Ub as oi,Y as z,Z as B,Za as ye,_a as x,ab as m,ac as di,ba as jr,bb as y,ca as Hr,eb as Yr,fa as te,fb as Xr,gb as $,k as Zt,kb as M,la as Kr,mb as T,ob as Zr,pa as Ur,pb as Jr,qa as Jt,qb as ei,rb as be,sb as ut,tb as W,ua as er,ub as Ie,v as Br,vb as g,w as Vr,wa as Qr,wb as De,xa as ue,xb as D,ya as u,yb as ti}from"./chunk-63T4HJ2B.js";import{a as ct,c as zr}from"./chunk-IMPBB4AK.js";function Nn(i,e){if(i&1&&(c(0,"div",1),y(1,"div",2),c(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"span",9),g(9,"UPeU"),m(),c(10,"span",10),g(11,"Adventista"),m()()(),y(12,"div",11),m(),c(13,"div",12)(14,"p",13),g(15," Universidad Peruana Uni\xF3n "),m(),c(16,"p",14),g(17),m()()(),c(18,"div",15)(19,"div",16)(20,"div",17),y(21,"div",18),m()(),c(22,"div",19)(23,"p",20),g(24," Procesando solicitud... "),m(),c(25,"p",21),g(26),m()()(),c(27,"div",22)(28,"div",23),y(29,"div",24)(30,"div",25)(31,"div",26),m()(),c(32,"div",27)(33,"span",28),g(34,"Sistema de Gesti\xF3n Acad\xE9mica"),m(),c(35,"span",29),g(36,"v2.1.0"),m()()()()()),i&2){let t=T();u(17),D(" ",t.loader.message()," "),u(3),ut("width",t.loader.progress(),"%"),u(6),D(" ",t.loader.progress(),"% ")}}var Be=class Be{constructor(){this.loader=P(Fe)}};Be.\u0275fac=function(t){return new(t||Be)},Be.\u0275cmp=j({type:Be,selectors:[["app-loader"]],decls:1,vars:1,consts:[["class","fixed inset-0 z-[9999] pointer-events-auto",4,"ngIf"],[1,"fixed","inset-0","z-[9999]","pointer-events-auto"],[1,"absolute","inset-0","bg-gradient-to-br","from-slate-900/60","via-slate-800/50","to-emerald-900/30","backdrop-blur-md"],[1,"relative","flex","h-full","w-full","items-center","justify-center","p-4"],[1,"w-full","max-w-md","rounded-2xl","bg-white/95","shadow-2xl","border","border-white/20","px-8","py-8","transform","transition-all","duration-300","scale-100"],[1,"flex","items-center","gap-5","mb-6"],[1,"relative"],[1,"w-14","h-14","rounded-2xl","bg-gradient-to-br","from-emerald-600","to-emerald-800","text-white","grid","place-items-center","shadow-lg","shadow-emerald-500/20"],[1,"text-center"],[1,"text-xs","font-bold","leading-none","block"],[1,"text-[8px]","font-normal","mt-0.5","block"],[1,"absolute","-inset-2","rounded-3xl","border","border-emerald-400/30","animate-ping-slow"],[1,"flex-1","min-w-0"],[1,"text-xs","font-semibold","text-emerald-700","uppercase","tracking-[0.16em]"],[1,"text-sm","text-slate-700","font-medium","mt-1","truncate"],[1,"mt-6","space-y-3"],[1,"h-2","w-full","rounded-full","bg-slate-200","overflow-hidden","shadow-inner"],[1,"h-full","rounded-full","bg-gradient-to-r","from-emerald-500","via-emerald-400","to-cyan-400","relative","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-r","from-transparent","via-white/40","to-transparent","-skew-x-12","animate-shimmer"],[1,"flex","justify-between","items-center"],[1,"text-xs","text-slate-500"],[1,"text-xs","text-slate-400","font-mono"],[1,"mt-6","flex","justify-center"],[1,"flex","space-x-1.5"],[1,"w-2","h-2","rounded-full","bg-emerald-400","animate-bounce",2,"animation-delay","0ms"],[1,"w-2","h-2","rounded-full","bg-emerald-500","animate-bounce",2,"animation-delay","150ms"],[1,"w-2","h-2","rounded-full","bg-emerald-600","animate-bounce",2,"animation-delay","300ms"],[1,"mt-6","pt-4","border-t","border-slate-200/60","flex","items-center","justify-between","text-xs","text-slate-500"],[1,"font-medium"],[1,"font-mono","text-slate-400"]],template:function(t,r){t&1&&N(0,Nn,37,4,"div",0),t&2&&x("ngIf",r.loader.visible())},dependencies:[ht,oe],styles:["@keyframes _ngcontent-%COMP%_ping-slow{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.5}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.animate-ping-slow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_ping-slow 2s cubic-bezier(.4,0,.6,1) infinite}.animate-shimmer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 2s infinite}@media (prefers-reduced-motion: reduce){.animate-ping-slow[_ngcontent-%COMP%], .animate-shimmer[_ngcontent-%COMP%], .animate-bounce[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important}}"]});var et=Be;var Mn=(i,e,t,r)=>({"bg-blue-50 text-blue-900 border-blue-200":i,"bg-green-50 text-green-900 border-green-200":e,"bg-amber-50 text-amber-900 border-amber-200":t,"bg-red-50 text-red-900 border-red-200":r});function In(i,e){if(i&1){let t=$();c(0,"div",2)(1,"div",3),g(2,"\u2691"),m(),c(3,"div",4),g(4),m(),c(5,"button",5),M("click",function(){let n=z(t).$implicit,s=T();return B(s.alerts.remove(n.id))}),g(6,"\u2715"),m()()}if(i&2){let t=e.$implicit;x("ngClass",ii(2,Mn,t.type==="info",t.type==="success",t.type==="warn",t.type==="error")),u(4),De(t.text)}}var Ve=class Ve{constructor(){this.alerts=P(Le)}};Ve.\u0275fac=function(t){return new(t||Ve)},Ve.\u0275cmp=j({type:Ve,selectors:[["app-alert-center"]],decls:2,vars:1,consts:[[1,"fixed","top-4","right-4","z-[60]","space-y-3","w-80"],["class","rounded-xl p-4 shadow-lg flex items-start gap-3 border",3,"ngClass",4,"ngFor","ngForOf"],[1,"rounded-xl","p-4","shadow-lg","flex","items-start","gap-3","border",3,"ngClass"],[1,"mt-0.5"],[1,"text-sm"],[1,"ml-auto","opacity-60","hover:opacity-100",3,"click"]],template:function(t,r){t&1&&(c(0,"div",0),N(1,In,7,7,"div",1),m()),t&2&&(u(),x("ngForOf",r.alerts.messages()))},dependencies:[ft,Oe],encapsulation:2});var vt=Ve;function Dn(i,e){if(i&1){let t=$();c(0,"img",40),M("error",function(){z(t);let n=T();return B(n.onLogoError())}),m()}}function On(i,e){i&1&&(c(0,"div",41)(1,"span",42),g(2," AcademicPro "),m(),c(3,"span",43),g(4," Platform "),m()())}function Rn(i,e){if(i&1&&y(0,"img",44),i&2){let t=T();x("src",t.photo(),er)}}function Fn(i,e){if(i&1&&(c(0,"div",45),g(1),m()),i&2){let t=T();u(),D(" ",t.initials()," ")}}function Ln(i,e){if(i&1&&y(0,"img",79),i&2){let t=T(2);x("src",t.photo(),er)}}function zn(i,e){if(i&1&&(c(0,"div",80),g(1),m()),i&2){let t=T(2);u(),D(" ",t.initials()," ")}}function Bn(i,e){if(i&1){let t=$();c(0,"div",46)(1,"div",47)(2,"div",48)(3,"div",10),y(4,"div",49),c(5,"div",10),N(6,Ln,1,1,"img",50)(7,zn,2,1,"ng-template",null,2,pt),m()(),c(9,"div",51)(10,"div",52)(11,"h3",53),g(12),m(),c(13,"span",54),g(14),m()(),c(15,"p",55),g(16),m(),c(17,"div",56)(18,"span",57),y(19,"i",58),g(20," Verificado "),m(),c(21,"span",57),y(22,"i",59),g(23," En l\xEDnea "),m()()()()(),c(24,"ul",60)(25,"li",61)(26,"a",62),M("click",function(){z(t);let n=T();return B(n.open.set(!1))}),c(27,"div",63),y(28,"i",64),m(),c(29,"span",65),g(30,"Dashboard Principal"),m(),y(31,"i",66),m()(),c(32,"li",61)(33,"a",67),M("click",function(){z(t);let n=T();return B(n.open.set(!1))}),c(34,"div",68),y(35,"i",69),m(),c(36,"span",65),g(37,"Mi Perfil"),m(),y(38,"i",70),m()(),c(39,"li",61)(40,"a",71),M("click",function(){z(t);let n=T();return B(n.open.set(!1))}),c(41,"div",72),y(42,"i",73),m(),c(43,"span",65),g(44),ni(45,"transloco"),m(),y(46,"i",74),m()()(),c(47,"div",75)(48,"button",76),M("click",function(){z(t);let n=T();return B(n.logout())}),y(49,"i",77),g(50," Cerrar Sesi\xF3n "),y(51,"i",78),m()()()}if(i&2){let t=be(8),r=T();u(6),x("ngIf",r.photo())("ngIfElse",t),u(6),D(" ",r.name()||"Usuario"," "),u(2),D(" ",r.status()||"Activo"," "),u(2),D(" ",r.email()||"usuario@email.com"," "),u(28),De(si(45,6,"app.settings"))}}var qe=class qe{constructor(){this.menuToggle=new Ze;this.el=P(Kr);this.router=P(yt);this.alerts=P(Le);this.auth=P(bt);this.userStore=P(ze);this.open=te(!1);this.logoOk=te(!0);this.name=this.userStore.name;this.email=this.userStore.email;this.photo=this.userStore.photo;this.status=this.userStore.status;this.statusLower=ve(()=>(this.status()??"activo").toLowerCase())}onLogoError(){this.logoOk.set(!1)}initials(){let e=this.name();if(!e)return"U";let t=e.trim().split(/\s+/);return(t[0]?.[0]??"U")+(t[1]?.[0]??"")}toggleMenu(){this.open.set(!this.open())}onDocClick(e){this.el.nativeElement.contains(e.target)||this.open.set(!1)}onEsc(){this.open.set(!1)}logout(){this.auth.logout().subscribe({next:()=>{this.alerts.success("Sesi\xF3n cerrada correctamente"),this.userStore.clear(),this.router.navigateByUrl("/auth/login"),this.open.set(!1)},error:()=>{this.userStore.clear(),this.router.navigateByUrl("/auth/login"),this.open.set(!1)}})}};qe.\u0275fac=function(t){return new(t||qe)},qe.\u0275cmp=j({type:qe,selectors:[["app-topbar"]],hostBindings:function(t,r){t&1&&M("click",function(s){return r.onDocClick(s)},ue)("keydown.escape",function(){return r.onEsc()},ue)},outputs:{menuToggle:"menuToggle"},decls:51,vars:11,consts:[["logoText",""],["placeholder",""],["bigPlaceholder",""],[1,"sticky","top-0","z-50","bg-white/95","dark:bg-gray-900/95","border-b","border-gray-200/50","dark:border-gray-700/50","backdrop-blur-xl","shadow-sm"],[1,"mx-auto","w-full","px-4","lg:px-6","py-3"],[1,"flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-4","lg:gap-6"],["type","button","aria-label","Abrir men\xFA lateral","aria-controls","app-sidebar-mobile","aria-expanded","false",1,"lg:hidden","p-2","rounded-2xl","bg-white/80","dark:bg-gray-800/80","border","border-gray-200/50","dark:border-gray-700/50","hover:bg-gray-100/80","dark:hover:bg-gray-700/80","hover:shadow-md","transition-all","duration-300",3,"click"],[1,"fas","fa-bars","text-gray-700","dark:text-gray-300","text-lg"],["routerLink","/","aria-label","Inicio",1,"flex","items-center","gap-3","group"],[1,"relative"],[1,"absolute","inset-0","rounded-2xl","blur-lg","bg-gradient-to-br","from-blue-500","via-purple-500","to-cyan-500","opacity-20","group-hover:opacity-30","transition-opacity","duration-300"],[1,"relative","p-2.5","rounded-2xl","bg-gradient-to-br","from-blue-600","to-purple-700","border","border-blue-400/30","dark:border-blue-600/30","shadow-lg","group-hover:shadow-xl","transition-all","duration-300"],["src","assets/logo.svg","class","h-6 w-auto block","alt","Logo",3,"error",4,"ngIf","ngIfElse"],[1,"hidden","lg:block","w-px","h-8","bg-gradient-to-b","from-gray-300/50","to-transparent","dark:from-gray-600/50"],[1,"hidden","md:flex","items-center","gap-3","px-4","py-2","rounded-2xl","border","border-gray-200/50","dark:border-gray-700/50","bg-gradient-to-r","from-gray-50/80","to-white/50","dark:from-gray-800/50","dark:to-gray-900/50","backdrop-blur-sm","shadow-sm"],[1,"flex","items-center","gap-2"],[1,"w-2.5","h-2.5","rounded-full","bg-emerald-500","shadow-lg","shadow-emerald-500/50"],[1,"absolute","inset-0","w-2.5","h-2.5","rounded-full","bg-emerald-400","animate-ping"],[1,"text-sm","font-semibold","text-gray-700","dark:text-gray-200"],[1,"w-px","h-4","bg-gray-300/50","dark:bg-gray-600/50"],[1,"text-xs","font-medium","text-gray-600","dark:text-gray-400","capitalize"],[1,"flex","items-center","gap-3"],[1,"hidden","xl:flex","items-center","gap-4"],["type","button","aria-label","Notificaciones",1,"relative","p-2.5","rounded-2xl","bg-white/80","dark:bg-gray-800/80","border","border-gray-200/50","dark:border-gray-700/50","hover:bg-gray-100/80","dark:hover:bg-gray-700/80","hover:shadow-md","transition-all","duration-300","group"],[1,"fas","fa-bell","text-gray-600","dark:text-gray-400","group-hover:text-blue-600","dark:group-hover:text-blue-400","text-lg"],[1,"absolute","-top-1","-right-1","w-5","h-5","rounded-full","bg-red-500","border-2","border-white","dark:border-gray-900","text-xs","font-black","text-white","flex","items-center","justify-center","shadow-lg"],["type","button","aria-label","Mensajes",1,"relative","p-2.5","rounded-2xl","bg-white/80","dark:bg-gray-800/80","border","border-gray-200/50","dark:border-gray-700/50","hover:bg-gray-100/80","dark:hover:bg-gray-700/80","hover:shadow-md","transition-all","duration-300","group"],[1,"fas","fa-envelope","text-gray-600","dark:text-gray-400","group-hover:text-green-600","dark:group-hover:text-green-400","text-lg"],[1,"absolute","-top-1","-right-1","w-5","h-5","rounded-full","bg-green-500","border-2","border-white","dark:border-gray-900","text-xs","font-black","text-white","flex","items-center","justify-center","shadow-lg"],[1,"hidden","xl:block","w-px","h-8","bg-gradient-to-b","from-gray-300/50","to-transparent","dark:from-gray-600/50"],["type","button","aria-haspopup","menu","aria-controls","user-menu",1,"flex","items-center","gap-3","p-2","rounded-2xl","border-2","border-transparent","bg-white/80","dark:bg-gray-800/80","backdrop-blur-sm","hover:border-blue-300/50","dark:hover:border-blue-600/50","hover:shadow-lg","transition-all","duration-300","group",3,"click"],[1,"absolute","-inset-1","rounded-full","bg-gradient-to-r","from-blue-500","to-purple-600","opacity-0","group-hover:opacity-100","transition-opacity","duration-300","blur-sm"],["class","w-10 h-10 rounded-full object-cover border-2 border-white dark:border-gray-900 shadow-lg","alt","Foto de perfil",3,"src",4,"ngIf","ngIfElse"],[1,"absolute","-right-0.5","-bottom-0.5","w-3","h-3","rounded-full","bg-emerald-500","border-2","border-white","dark:border-gray-900","shadow-lg"],[1,"hidden","lg:block","text-left","max-w-44"],[1,"text-sm","font-bold","truncate","text-gray-900","dark:text-gray-100","leading-tight"],[1,"text-xs","truncate","text-gray-600","dark:text-gray-400","leading-tight"],[1,"hidden","lg:block","fas","fa-chevron-down","text-gray-500","text-xs","transition-transform","duration-300"],["id","user-menu","class",`absolute right-0 mt-2 w-80 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl
                      border border-gray-200/50 dark:border-gray-700/50 rounded-2xl shadow-2xl overflow-hidden z-50
                      animate-in fade-in-0 zoom-in-95 duration-200`,"role","menu","aria-label","Men\xFA de usuario",4,"ngIf"],["src","assets/logo.svg","alt","Logo",1,"h-6","w-auto","block",3,"error"],[1,"flex","flex-col"],[1,"text-xl","font-black","bg-gradient-to-r","from-blue-600","via-purple-600","to-cyan-600","dark:from-blue-400","dark:via-purple-400","dark:to-cyan-400","bg-clip-text","text-transparent"],[1,"text-[10px]","font-semibold","text-gray-500","dark:text-gray-400","tracking-widest","uppercase","mt-0.5"],["alt","Foto de perfil",1,"w-10","h-10","rounded-full","object-cover","border-2","border-white","dark:border-gray-900","shadow-lg",3,"src"],[1,"w-10","h-10","grid","place-items-center","rounded-full","bg-gradient-to-br","from-blue-600","to-purple-700","text-white","font-bold","text-sm","border-2","border-white","dark:border-gray-900","shadow-lg"],["id","user-menu","role","menu","aria-label","Men\xFA de usuario",1,"absolute","right-0","mt-2","w-80","bg-white/95","dark:bg-gray-900/95","backdrop-blur-xl","border","border-gray-200/50","dark:border-gray-700/50","rounded-2xl","shadow-2xl","overflow-hidden","z-50","animate-in","fade-in-0","zoom-in-95","duration-200"],[1,"p-5","border-b","border-gray-200/50","dark:border-gray-700/50","bg-gradient-to-r","from-gray-50/50","to-white/30","dark:from-gray-800/50","dark:to-gray-900/30"],[1,"flex","items-center","gap-4"],[1,"absolute","-inset-1","rounded-full","bg-gradient-to-r","from-blue-500","to-purple-600","opacity-20","blur-sm"],["class","w-14 h-14 rounded-full object-cover border-2 border-white dark:border-gray-900 shadow-lg","alt","Foto de perfil",3,"src",4,"ngIf","ngIfElse"],[1,"min-w-0","flex-1"],[1,"flex","items-center","gap-2","mb-1"],[1,"text-base","font-extrabold","truncate","text-gray-900","dark:text-gray-100"],[1,"px-2","py-1","rounded-full","text-[10px]","font-black","uppercase","tracking-wide","bg-gradient-to-r","from-emerald-500","to-green-500","text-white","shadow-sm"],[1,"text-sm","truncate","text-gray-600","dark:text-gray-400","mb-2"],[1,"flex","items-center","gap-3","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-1"],[1,"fas","fa-shield-alt","text-emerald-500"],[1,"fas","fa-clock","text-blue-500"],["role","none",1,"py-2"],["role","none"],["routerLink","/dashboard","role","menuitem",1,"flex","items-center","gap-3","px-5","py-3","text-sm","font-semibold","text-gray-700","dark:text-gray-300","hover:bg-blue-50/70","dark:hover:bg-blue-900/30","border-l-4","border-transparent","hover:border-blue-500","transition-all","duration-200","group",3,"click"],[1,"w-8","h-8","rounded-xl","bg-blue-100","dark:bg-blue-900/30","flex","items-center","justify-center"],[1,"fas","fa-tachometer-alt","text-blue-600","dark:text-blue-400","text-sm"],[1,"flex-1"],[1,"fas","fa-chevron-right","text-gray-400","group-hover:text-blue-500","text-xs"],["routerLink","/profile","role","menuitem",1,"flex","items-center","gap-3","px-5","py-3","text-sm","font-semibold","text-gray-700","dark:text-gray-300","hover:bg-purple-50/70","dark:hover:bg-purple-900/30","border-l-4","border-transparent","hover:border-purple-500","transition-all","duration-200","group",3,"click"],[1,"w-8","h-8","rounded-xl","bg-purple-100","dark:bg-purple-900/30","flex","items-center","justify-center"],[1,"fas","fa-user","text-purple-600","dark:text-purple-400","text-sm"],[1,"fas","fa-chevron-right","text-gray-400","group-hover:text-purple-500","text-xs"],["routerLink","/settings","role","menuitem",1,"flex","items-center","gap-3","px-5","py-3","text-sm","font-semibold","text-gray-700","dark:text-gray-300","hover:bg-cyan-50/70","dark:hover:bg-cyan-900/30","border-l-4","border-transparent","hover:border-cyan-500","transition-all","duration-200","group",3,"click"],[1,"w-8","h-8","rounded-xl","bg-cyan-100","dark:bg-cyan-900/30","flex","items-center","justify-center"],[1,"fas","fa-cog","text-cyan-600","dark:text-cyan-400","text-sm"],[1,"fas","fa-chevron-right","text-gray-400","group-hover:text-cyan-500","text-xs"],[1,"p-4","border-t","border-gray-200/50","dark:border-gray-700/50","bg-gradient-to-r","from-red-50/60","to-orange-50/40","dark:from-red-900/10","dark:to-orange-900/5"],["type","button","role","menuitem",1,"w-full","inline-flex","items-center","justify-center","gap-3","px-4","py-3","text-sm","font-extrabold","text-white","rounded-xl","bg-gradient-to-r","from-red-600","to-orange-600","hover:from-red-700","hover:to-orange-700","hover:shadow-lg","transition-all","duration-300","group",3,"click"],[1,"fas","fa-sign-out-alt","text-white","group-hover:scale-110","transition-transform","duration-300"],[1,"fas","fa-arrow-right","text-white","text-xs","group-hover:translate-x-1","transition-transform","duration-300"],["alt","Foto de perfil",1,"w-14","h-14","rounded-full","object-cover","border-2","border-white","dark:border-gray-900","shadow-lg",3,"src"],[1,"w-14","h-14","grid","place-items-center","rounded-full","bg-gradient-to-br","from-blue-600","to-purple-700","text-white","font-bold","text-lg","border-2","border-white","dark:border-gray-900","shadow-lg"]],template:function(t,r){if(t&1){let n=$();c(0,"nav",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"button",7),M("click",function(){return z(n),B(r.menuToggle.emit())}),y(5,"i",8),m(),c(6,"a",9)(7,"div",10),y(8,"div",11),c(9,"div",12),N(10,Dn,1,0,"img",13),m()(),N(11,On,5,0,"ng-template",null,0,pt),m(),y(13,"div",14),c(14,"div",15)(15,"div",16)(16,"div",10),y(17,"div",17)(18,"div",18),m(),c(19,"span",19),g(20,"Sistema"),m()(),y(21,"div",20),c(22,"div",21),g(23),m()()(),c(24,"div",22)(25,"div",23)(26,"button",24),y(27,"i",25),c(28,"span",26),g(29," 3 "),m()(),c(30,"button",27),y(31,"i",28),c(32,"span",29),g(33," 7 "),m()()(),y(34,"div",30),c(35,"div",10)(36,"button",31),M("click",function(){return z(n),B(r.toggleMenu())}),c(37,"div",10),y(38,"div",32),c(39,"div",10),N(40,Rn,1,1,"img",33)(41,Fn,2,1,"ng-template",null,1,pt),m(),y(43,"span",34),m(),c(44,"div",35)(45,"div",36),g(46),m(),c(47,"div",37),g(48),m()(),y(49,"i",38),m(),N(50,Bn,52,8,"div",39),m()()()()()}if(t&2){let n=be(12),s=be(42);u(10),x("ngIf",r.logoOk())("ngIfElse",n),u(13),D(" ",r.statusLower()," "),u(13),ye("aria-expanded",r.open()),u(4),x("ngIf",r.photo())("ngIfElse",s),u(6),D(" ",r.name()||"Usuario"," "),u(2),D(" ",r.email()||"usuario@email.com"," "),u(),W("rotate-180",r.open()),u(),x("ngIf",r.open())}},dependencies:[oe,Re,xi],encapsulation:2});var _t=qe;var Vn=i=>({exact:i}),qn=i=>({"text-gray-600 dark:text-gray-400 hover:bg-gray-100/80 dark:hover:bg-gray-800/80":i});function jn(i,e){i&1&&(c(0,"div",18)(1,"div",19)(2,"div",20),y(3,"i",21),m(),c(4,"div",22)(5,"h2",23),g(6,"Panel Acad\xE9mico"),m(),c(7,"p",24),g(8,"Gesti\xF3n Integral"),m()()()())}function Hn(i,e){if(i&1&&(c(0,"div",25)(1,"div",26),g(2,"Instituci\xF3n"),m(),c(3,"div",27),g(4),m()()),i&2){let t=T();u(4),ti(" ",t.universidad()||"Sin universidad"," \u2022 ",t.sede()||"Sin sede"," ")}}function Kn(i,e){if(i&1&&y(0,"i",28),i&2){let t=T();W("rotate-180",t.infoOpen)}}function Un(i,e){if(i&1&&(c(0,"div",29)(1,"div",30)(2,"div",31),y(3,"i",32),m(),c(4,"div")(5,"div",33),g(6," Informaci\xF3n acad\xE9mica "),m(),c(7,"div",34),g(8,"Resumen de tu contexto"),m()()(),c(9,"div",35)(10,"div",36)(11,"div",37),y(12,"i",38),m(),c(13,"div",39)(14,"div",40),g(15,"Universidad"),m(),c(16,"div",41),g(17),m()()(),c(18,"div",36)(19,"div",42),y(20,"i",43),m(),c(21,"div",39)(22,"div",40),g(23,"Sede"),m(),c(24,"div",44),g(25),m()()(),c(26,"div",36)(27,"div",45),y(28,"i",46),m(),c(29,"div",39)(30,"div",40),g(31,"Facultad"),m(),c(32,"div",44),g(33),m()()(),c(34,"div",36)(35,"div",47),y(36,"i",48),m(),c(37,"div",39)(38,"div",40),g(39,"Escuela"),m(),c(40,"div",44),g(41),m()()()()()),i&2){let t=T();u(17),D(" ",t.universidad()||"No especificada"," "),u(8),D(" ",t.sede()||"No especificada"," "),u(8),D(" ",t.facultad()||"No especificada"," "),u(8),D(" ",t.escuela()||"No especificada"," ")}}function Qn(i,e){i&1&&y(0,"div",49)}function $n(i,e){i&1&&(c(0,"div",50)(1,"span",51),g(2,"Navegaci\xF3n"),m()())}function Wn(i,e){if(i&1&&(c(0,"span",59),g(1),m()),i&2){let t=T().$implicit,r=be(2);x("ngClass",r.isActive?t.textActiveColor:"text-gray-700 dark:text-gray-200"),u(),D(" ",t.label," ")}}function Gn(i,e){if(i&1&&(c(0,"span",60),g(1),m()),i&2){let t=T().$implicit;x("ngClass",t.badgeClass),u(),D(" ",t.badge," ")}}function Yn(i,e){if(i&1&&(c(0,"span",64),g(1),m()),i&2){let t=T(2).$implicit;x("ngClass",t.badgeClass),u(),D(" ",t.badge," ")}}function Xn(i,e){if(i&1&&(c(0,"div",61)(1,"div",62)(2,"span"),g(3),m(),N(4,Yn,2,2,"span",63),m()()),i&2){let t=T().$implicit;x("ngClass",t.badge?"min-w-32":"min-w-24"),u(3),De(t.label),u(),x("ngIf",t.badge)}}function Zn(i,e){if(i&1){let t=$();Yr(0),c(1,"a",52,0),M("click",function(){z(t);let n=T();return B(n.itemClick.emit())}),y(3,"span",53),c(4,"div",54),y(5,"i",55),m(),N(6,Wn,2,2,"span",56)(7,Gn,2,2,"span",57)(8,Xn,5,3,"div",58),m(),Xr()}if(i&2){let t=e.$implicit,r=be(2),n=T();u(),W("justify-center",n.compact),x("routerLink",t.route)("routerLinkActive",t.activeClass)("routerLinkActiveOptions",tr(15,Vn,t.exact??!1))("ngClass",tr(17,qn,!r.isActive)),ye("aria-current",r.isActive?"page":null),u(2),x("ngClass",r.isActive?t.indicatorClass:"opacity-0"),u(),x("ngClass",r.isActive?t.iconActiveClass:"bg-gray-100/80 dark:bg-gray-800/80 group-hover:shadow-md"),u(),Ie(t.icon),x("ngClass",r.isActive?t.iconActiveColor:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200"),u(),x("ngIf",!n.compact),u(),x("ngIf",t.badge&&!n.compact),u(),x("ngIf",n.compact)}}function Jn(i,e){if(i&1){let t=$();c(0,"button",65),M("click",function(){z(t);let n=T();return B(n.toggleExpand.emit())}),c(1,"div",66),y(2,"i",67),m(),c(3,"span",68),g(4,"Contraer men\xFA"),m()()}}var je=class je{constructor(){this.store=P(ze);this.infoOpen=!1;this.compact=!0;this.showToggle=!0;this.itemClick=new Ze;this.toggleExpand=new Ze;this.universidad=this.store.universidad;this.sede=this.store.sede;this.facultad=this.store.facultad;this.escuela=this.store.escuela;this.navigationItems=[{route:"/dashboard",label:"Dashboard",icon:"fas fa-pen text-base",activeClass:"bg-indigo-50/80 dark:bg-indigo-950/30 text-indigo-700 dark:text-indigo-300",indicatorClass:"bg-gradient-to-b from-indigo-500 to-purple-500",iconActiveClass:"bg-indigo-500/20 shadow-md",iconActiveColor:"text-indigo-600 dark:text-indigo-400",textActiveColor:"text-indigo-700 dark:text-indigo-300",exact:!0},{route:"/vm/proyectos",label:"Proyectos",icon:"fas fa-diagram-project text-base",activeClass:"bg-indigo-50/80 dark:bg-indigo-950/30 text-indigo-700 dark:text-indigo-300",indicatorClass:"bg-gradient-to-b from-indigo-500 to-purple-500",iconActiveClass:"bg-indigo-500/20 shadow-md",iconActiveColor:"text-indigo-600 dark:text-indigo-400",textActiveColor:"text-indigo-700 dark:text-indigo-300",badge:"Nuevo",badgeClass:"bg-green-500 text-white",exact:!1,perms:"vm.proyecto.read"},{route:"/events",label:"Eventos",icon:"fas fa-calendar-days text-base",activeClass:"bg-amber-50/80 dark:bg-amber-950/30 text-amber-700 dark:text-amber-300",indicatorClass:"bg-gradient-to-b from-amber-500 to-orange-500",iconActiveClass:"bg-amber-500/20 shadow-md",iconActiveColor:"text-amber-600 dark:text-amber-400",textActiveColor:"text-amber-700 dark:text-amber-300",exact:!0,perms:"vm.evento.read"},{route:"/vm/sesiones/proximas",label:"Sesiones Pr\xF3ximas",icon:"fas fa-clock text-base",activeClass:"bg-sky-50/80 dark:bg-sky-950/30 text-sky-700 dark:text-sky-300",indicatorClass:"bg-gradient-to-b from-sky-500 to-cyan-500",iconActiveClass:"bg-sky-500/20 shadow-md",iconActiveColor:"text-sky-600 dark:text-sky-400",textActiveColor:"text-sky-700 dark:text-sky-300",badge:"3",badgeClass:"bg-blue-500 text-white",exact:!0,perms:["vm.sesion.read","vm.agenda.staff.read"],any:!0},{route:"/mis-proyectos",label:"Mis Proyectos",icon:"fas fa-folder-open text-base",activeClass:"bg-indigo-50/80 dark:bg-indigo-950/30 text-indigo-700 dark:text-indigo-300",indicatorClass:"bg-gradient-to-b from-indigo-500 to-purple-500",iconActiveClass:"bg-indigo-500/20 shadow-md",iconActiveColor:"text-indigo-600 dark:text-indigo-400",textActiveColor:"text-indigo-700 dark:text-indigo-300",exact:!0,roles:"ESTUDIANTE"},{route:"/mis-eventos",label:"Mis Eventos",icon:"fas fa-calendar-alt text-base",activeClass:"bg-sky-50/80 dark:bg-sky-950/30 text-sky-700 dark:text-sky-300",indicatorClass:"bg-gradient-to-b from-sky-500 to-cyan-500",iconActiveClass:"bg-sky-500/20 shadow-md",iconActiveColor:"text-sky-600 dark:text-sky-400",textActiveColor:"text-sky-700 dark:text-sky-300",exact:!0,roles:"ESTUDIANTE"},{route:"/h/horas",label:"Historia",icon:"fas fa-clock-rotate-left text-base",activeClass:"bg-emerald-50/80 dark:bg-emerald-950/30 text-emerald-700 dark:text-emerald-300",indicatorClass:"bg-gradient-to-b from-emerald-500 to-teal-500",iconActiveClass:"bg-emerald-500/20 shadow-md",iconActiveColor:"text-emerald-600 dark:text-emerald-400",textActiveColor:"text-emerald-700 dark:text-emerald-300",exact:!0,roles:"ESTUDIANTE"},{route:"/perfil/datos",label:"settings",icon:"fas fa-cog text-base",activeClass:"bg-indigo-50/80 dark:bg-indigo-950/30 text-indigo-700 dark:text-indigo-300",indicatorClass:"bg-gradient-to-b from-indigo-500 to-purple-500",iconActiveClass:"bg-indigo-500/20 shadow-md",iconActiveColor:"text-indigo-600 dark:text-indigo-400",textActiveColor:"text-indigo-700 dark:text-indigo-300",exact:!0},{route:"/ad/roles",label:"Roles & Permisos",icon:"fas fa-user-shield text-base",activeClass:"bg-indigo-50/80 dark:bg-indigo-950/30 text-indigo-700 dark:text-indigo-300",indicatorClass:"bg-gradient-to-b from-indigo-500 to-purple-500",iconActiveClass:"bg-indigo-500/20 shadow-md",iconActiveColor:"text-indigo-600 dark:text-indigo-400",textActiveColor:"text-indigo-700 dark:text-indigo-300",exact:!1,roles:"ADMINISTRADOR"},{route:"/ad/universidad",label:"Universidad",icon:"fas fa-university text-base",activeClass:"bg-indigo-50/80 dark:bg-indigo-950/30 text-indigo-700 dark:text-indigo-300",indicatorClass:"bg-gradient-to-b from-indigo-500 to-purple-500",iconActiveClass:"bg-indigo-500/20 shadow-md",iconActiveColor:"text-indigo-600 dark:text-indigo-400",textActiveColor:"text-indigo-700 dark:text-indigo-300",exact:!1,roles:"ADMINISTRADOR"},{route:"/ad/sedes",label:"Sedes Universitarias",icon:"fas fa-map-marker-alt text-base",activeClass:"bg-blue-50/80 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300",indicatorClass:"bg-gradient-to-b from-blue-500 to-cyan-500",iconActiveClass:"bg-blue-500/20 shadow-md",iconActiveColor:"text-blue-600 dark:text-blue-400",textActiveColor:"text-blue-700 dark:text-blue-300",exact:!1,roles:"ADMINISTRADOR"},{route:"/m/import",label:"Matr\xEDculas \xB7 Registro",icon:"fas fa-file-excel text-base",activeClass:"bg-emerald-50/80 dark:bg-emerald-950/30 text-emerald-700 dark:text-emerald-300",indicatorClass:"bg-gradient-to-b from-emerald-500 to-green-500",iconActiveClass:"bg-emerald-500/20 shadow-md",iconActiveColor:"text-emerald-600 dark:text-emerald-400",textActiveColor:"text-emerald-700 dark:text-emerald-300",exact:!1,roles:"ENCARGADO"},{route:"/staff/ep-sede",label:"Staff \xB7 EP-Sede",icon:"fas fa-users-gear text-base",activeClass:"bg-emerald-50/80 dark:bg-emerald-950/30 text-emerald-700 dark:text-emerald-300",indicatorClass:"bg-gradient-to-b from-emerald-500 to-teal-500",iconActiveClass:"bg-emerald-500/20 shadow-md",iconActiveColor:"text-emerald-600 dark:text-emerald-400",textActiveColor:"text-emerald-700 dark:text-emerald-300",exact:!1},{route:"/r/horas",label:"Reportes \xB7 Horas por per\xEDodo",icon:"fas fa-clock text-base",activeClass:"bg-emerald-50/80 dark:bg-emerald-950/30 text-emerald-700 dark:text-emerald-300",indicatorClass:"bg-gradient-to-b from-emerald-500 to-green-500",iconActiveClass:"bg-emerald-500/20 shadow-md",iconActiveColor:"text-emerald-600 dark:text-emerald-400",textActiveColor:"text-emerald-700 dark:text-emerald-300",exact:!1,roles:"ENCARGADO"}];this.canShow=e=>{let t=(()=>{if(!e.perms)return!0;let n=Array.isArray(e.perms)?e.perms:[e.perms];return e.any?this.store.hasAny(n):this.store.hasAll(n)})(),r=(()=>{if(!e.roles)return!0;let n=Array.isArray(e.roles)?e.roles:[e.roles];return e.roleAny?this.store.hasAnyRole(n):this.store.hasAllRole(n)})();return t&&r};this.visibleItems=ve(()=>this.navigationItems.filter(e=>this.canShow(e)));this.trackByRoute=(e,t)=>t.route}toggleInfo(){this.infoOpen=!this.infoOpen}};je.\u0275fac=function(t){return new(t||je)},je.\u0275cmp=j({type:je,selectors:[["app-sidebar"]],inputs:{compact:"compact",showToggle:"showToggle"},outputs:{itemClick:"itemClick",toggleExpand:"toggleExpand"},decls:18,vars:21,consts:[["rla","routerLinkActive"],["role","navigation","aria-label","Navegaci\xF3n principal",1,"h-full","w-full","bg-white/90","dark:bg-gray-900/90","backdrop-blur-xl","border-r","border-gray-200/50","dark:border-gray-700/50","shadow-xl"],["class","p-6 border-b border-gray-100/50 dark:border-gray-800/50",4,"ngIf"],[1,"h-full","flex","flex-col","py-4","gap-1"],[1,"group","relative","mb-2"],["type","button","aria-label","Informaci\xF3n institucional",1,"w-full","flex","items-center","gap-3","p-3","rounded-2xl","transition-all","duration-300","border","border-gray-200/50","dark:border-gray-700/50","bg-gradient-to-r","from-gray-50","to-gray-100/50","dark:from-gray-800","dark:to-gray-700/50","hover:from-blue-50","hover:to-blue-100/50","dark:hover:from-blue-900/20","dark:hover:to-blue-800/20","hover:border-blue-200/50","dark:hover:border-blue-600/50","hover:shadow-md",3,"click"],[1,"w-10","h-10","rounded-xl","bg-gradient-to-br","from-blue-500","to-cyan-500","flex","items-center","justify-center","shadow-sm"],[1,"fas","fa-circle-info","text-white","text-sm"],["class","flex-1 min-w-0",4,"ngIf"],["class","fas fa-chevron-down text-gray-400 text-xs transition-transform duration-300",3,"rotate-180",4,"ngIf"],["id","inst-info-panel","class",`mt-2 rounded-2xl border border-gray-200/60 dark:border-gray-700/60
                bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl shadow-inner p-4`,4,"ngIf"],["class",`absolute left-full top-0 ml-3 w-80 p-4 rounded-2xl border border-gray-200/50 dark:border-gray-700/50
                bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl shadow-2xl hidden group-hover:block z-50
                animate-in fade-in-0 zoom-in-95 duration-200`,4,"ngIf"],[1,"flex","items-center","justify-center","my-3"],[1,"h-px","bg-gradient-to-r","from-transparent","via-gray-300/50","dark:via-gray-600/50","to-transparent","flex-1"],["class","px-3",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex-1"],["class",`flex items-center gap-3 p-3 rounded-2xl text-gray-500 dark:text-gray-400
                   hover:bg-gray-100/80 dark:hover:bg-gray-800/80 hover:text-gray-700 dark:hover:text-gray-200
                   transition-all duration-300 mt-4 group`,"title","Contraer sidebar",3,"click",4,"ngIf"],[1,"p-6","border-b","border-gray-100/50","dark:border-gray-800/50"],[1,"flex","items-center","gap-3"],[1,"w-12","h-12","rounded-2xl","bg-gradient-to-br","from-indigo-500","to-purple-600","flex","items-center","justify-center","shadow-lg"],[1,"fas","fa-graduation-cap","text-white","text-lg"],[1,"min-w-0","flex-1"],[1,"font-bold","text-gray-900","dark:text-white","text-lg","truncate"],[1,"text-sm","text-gray-500","dark:text-gray-400","truncate"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-gray-700","dark:text-gray-200","text-sm"],[1,"text-[11px]","text-gray-500","dark:text-gray-400","truncate"],[1,"fas","fa-chevron-down","text-gray-400","text-xs","transition-transform","duration-300"],["id","inst-info-panel",1,"mt-2","rounded-2xl","border","border-gray-200/60","dark:border-gray-700/60","bg-white/90","dark:bg-gray-900/90","backdrop-blur-xl","shadow-inner","p-4"],[1,"flex","items-center","gap-3","mb-3","pb-3","border-b","border-gray-100","dark:border-gray-800"],[1,"w-8","h-8","rounded-lg","bg-gradient-to-br","from-blue-500","to-cyan-500","flex","items-center","justify-center"],[1,"fas","fa-university","text-white","text-xs"],[1,"text-[11px]","font-semibold","text-gray-900","dark:text-white","uppercase","tracking-wide"],[1,"text-[10px]","text-gray-500","dark:text-gray-400"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],[1,"flex","items-start","gap-3","p-2","rounded-xl","bg-gray-50/60","dark:bg-gray-800/60"],[1,"w-8","h-8","rounded-lg","bg-blue-100","dark:bg-blue-900/30","flex","items-center","justify-center","flex-shrink-0"],[1,"fas","fa-school","text-blue-600","dark:text-blue-400","text-xs"],[1,"min-w-0"],[1,"text-[10px]","font-medium","text-gray-500","dark:text-gray-400","uppercase","tracking-wide"],[1,"text-sm","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"w-8","h-8","rounded-lg","bg-green-100","dark:bg-green-900/30","flex","items-center","justify-center","flex-shrink-0"],[1,"fas","fa-map-marker-alt","text-green-600","dark:text-green-400","text-xs"],[1,"text-sm","text-gray-700","dark:text-gray-300","truncate"],[1,"w-8","h-8","rounded-lg","bg-purple-100","dark:bg-purple-900/30","flex","items-center","justify-center","flex-shrink-0"],[1,"fas","fa-building","text-purple-600","dark:text-purple-400","text-xs"],[1,"w-8","h-8","rounded-lg","bg-cyan-100","dark:bg-cyan-900/30","flex","items-center","justify-center","flex-shrink-0"],[1,"fas","fa-graduation-cap","text-cyan-600","dark:text-cyan-400","text-xs"],[1,"absolute","left-full","top-0","ml-3","w-80","p-4","rounded-2xl","border","border-gray-200/50","dark:border-gray-700/50","bg-white/95","dark:bg-gray-900/95","backdrop-blur-xl","shadow-2xl","hidden","group-hover:block","z-50","animate-in","fade-in-0","zoom-in-95","duration-200"],[1,"px-3"],[1,"text-xs","font-semibold","text-gray-400","dark:text-gray-500","uppercase","tracking-wide"],[1,"group","relative","flex","items-center","gap-3","rounded-2xl","p-3","transition-all","duration-300","hover:shadow-md","hover:scale-[1.02]","active:scale-[0.98]",3,"click","routerLink","routerLinkActive","routerLinkActiveOptions","ngClass"],[1,"absolute","-left-1","top-1/2","-translate-y-1/2","w-1","h-8","rounded-full","transition-all","duration-300",3,"ngClass"],[1,"w-10","h-10","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300","shadow-sm",3,"ngClass"],[3,"ngClass"],["class","font-semibold text-sm flex-1 transition-colors duration-300",3,"ngClass",4,"ngIf"],["class","px-2 py-1 rounded-full text-xs font-bold",3,"ngClass",4,"ngIf"],["class","absolute left-full ml-3 px-3 py-2 rounded-xl text-sm font-semibold bg-gray-900 dark:bg-gray-700 text-white shadow-2xl opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-50 animate-in fade-in-0 zoom-in-95",3,"ngClass",4,"ngIf"],[1,"font-semibold","text-sm","flex-1","transition-colors","duration-300",3,"ngClass"],[1,"px-2","py-1","rounded-full","text-xs","font-bold",3,"ngClass"],[1,"absolute","left-full","ml-3","px-3","py-2","rounded-xl","text-sm","font-semibold","bg-gray-900","dark:bg-gray-700","text-white","shadow-2xl","opacity-0","group-hover:opacity-100","transition-all","duration-200","pointer-events-none","z-50","animate-in","fade-in-0","zoom-in-95",3,"ngClass"],[1,"flex","items-center","gap-2"],["class","px-1.5 py-0.5 rounded-full text-[10px] font-black",3,"ngClass",4,"ngIf"],[1,"px-1.5","py-0.5","rounded-full","text-[10px]","font-black",3,"ngClass"],["title","Contraer sidebar",1,"flex","items-center","gap-3","p-3","rounded-2xl","text-gray-500","dark:text-gray-400","hover:bg-gray-100/80","dark:hover:bg-gray-800/80","hover:text-gray-700","dark:hover:text-gray-200","transition-all","duration-300","mt-4","group",3,"click"],[1,"w-10","h-10","rounded-2xl","bg-gray-100/80","dark:bg-gray-800/80","flex","items-center","justify-center"],[1,"fas","fa-chevron-left","text-sm","group-hover:scale-110","transition-transform"],[1,"font-semibold","text-sm","flex-1","text-left"]],template:function(t,r){t&1&&(c(0,"aside",1),N(1,jn,9,0,"div",2),c(2,"nav",3)(3,"div",4)(4,"button",5),M("click",function(){return!r.compact&&r.toggleInfo()}),c(5,"div",6),y(6,"i",7),m(),N(7,Hn,5,2,"div",8)(8,Kn,1,2,"i",9),m(),N(9,Un,42,4,"div",10)(10,Qn,1,0,"div",11),m(),c(11,"div",12),y(12,"div",13),N(13,$n,3,0,"div",14),y(14,"div",13),m(),N(15,Zn,9,19,"ng-container",15),y(16,"div",16),N(17,Jn,5,0,"button",17),m()()),t&2&&(u(),x("ngIf",!r.compact),u(),W("px-2",r.compact)("px-4",!r.compact),u(),W("mx-2",r.compact),u(),W("justify-center",r.compact),ye("aria-expanded",r.compact?null:r.infoOpen)("aria-controls",r.compact?null:"inst-info-panel"),u(3),x("ngIf",!r.compact),u(),x("ngIf",!r.compact),u(),x("ngIf",!r.compact&&r.infoOpen),u(),x("ngIf",r.compact),u(),W("mx-2",r.compact),u(2),x("ngIf",!r.compact),u(2),x("ngForOf",r.visibleItems())("ngForTrackBy",r.trackByRoute),u(2),x("ngIf",r.showToggle&&!r.compact))},dependencies:[ht,Oe,ft,oe,Re,yi],encapsulation:2});var xt=je;var es=(i,e)=>({"translate-x-0 opacity-100 scale-100":i,"transition-none":e});function ts(i,e){if(i&1){let t=$();c(0,"button",14),M("click",function(){z(t);let n=T();return B(n.handleAction())}),g(1),y(2,"i",15),m()}if(i&2){let t,r=T();u(),D(" ",(t=r.action())==null?null:t.label," ")}}function rs(i,e){if(i&1&&(c(0,"div",16),y(1,"div",17),m()),i&2){let t=T();u(),ut("width",t.progressWidth(),"%"),x("ngClass",t.getProgressBarClass())}}var He=class He{constructor(){this.toast=P(wi);this.platformId=P(Ur);this.autoShow=!1;this.duration=5e3;this.type="welcome";this.visible=this.toast.visible;this.text=this.toast.text;this.icon=this.toast.icon;this.action=this.toast.action;this.toastType=this.toast.type;this.reduceMotion=te(!1);this.progressWidth=te(100);this.progressInterval=null;this.mq=null;this.mqHandler=e=>this.reduceMotion.set(!!e.matches);this.visibilityEffect=oi(()=>{let e=this.visible();rr(this.platformId)&&e&&!this.reduceMotion()?this.startProgressBar():this.stopProgressBar()})}ngOnInit(){if(rr(this.platformId)){if(this.autoShow){let e={duration:this.duration,text:this.message,type:this.type};this.toast.show(e)}this.setupReducedMotion()}}ngOnDestroy(){this.cleanupMediaQuery(),this.stopProgressBar()}setupReducedMotion(){typeof window<"u"&&window.matchMedia&&(this.mq=window.matchMedia("(prefers-reduced-motion: reduce)"),this.reduceMotion.set(!!this.mq.matches),"addEventListener"in this.mq?this.mq.addEventListener("change",this.mqHandler):this.mq.addListener?.(this.mqHandler))}cleanupMediaQuery(){this.mq&&("removeEventListener"in this.mq?this.mq.removeEventListener("change",this.mqHandler):this.mq.removeListener?.(this.mqHandler))}startProgressBar(){this.progressWidth.set(100),this.stopProgressBar();let e=Date.now(),t=this.toast.duration();this.progressInterval=setInterval(()=>{let r=Date.now()-e,n=Math.max(0,100-r/t*100);this.progressWidth.set(n),n<=0&&this.stopProgressBar()},50)}stopProgressBar(){this.progressInterval&&(clearInterval(this.progressInterval),this.progressInterval=null)}getStatusBarClass(){let e=this.toastType(),t={welcome:"bg-gradient-to-r from-emerald-500 via-cyan-500 to-indigo-500",success:"bg-gradient-to-r from-green-500 to-emerald-500",error:"bg-gradient-to-r from-red-500   to-rose-500",warning:"bg-gradient-to-r from-amber-500 to-orange-500",info:"bg-gradient-to-r from-blue-500  to-cyan-500"};return t[e]||t.welcome}getIconContainerClass(){let e=this.toastType(),t={welcome:"bg-gradient-to-br from-indigo-600 to-cyan-600",success:"bg-gradient-to-br from-green-600 to-emerald-600",error:"bg-gradient-to-br from-red-600   to-rose-600",warning:"bg-gradient-to-br from-amber-600 to-orange-600",info:"bg-gradient-to-br from-blue-600  to-cyan-600"};return t[e]||t.welcome}getTextGradientClass(){let e=this.toastType(),t={welcome:"bg-gradient-to-r from-indigo-700 to-emerald-700 dark:from-indigo-300 dark:to-emerald-300",success:"bg-gradient-to-r from-green-700 to-emerald-700 dark:from-green-300 dark:to-emerald-300",error:"bg-gradient-to-r from-red-700   to-rose-700   dark:from-red-300   dark:to-rose-300",warning:"bg-gradient-to-r from-amber-700 to-orange-700 dark:from-amber-300 dark:to-orange-300",info:"bg-gradient-to-r from-blue-700  to-cyan-700  dark:from-blue-300  to-cyan-300"};return`bg-clip-text text-transparent ${t[e]||t.welcome}`}getProgressBarClass(){let e=this.toastType(),t={welcome:"bg-gradient-to-r from-indigo-500 to-cyan-500",success:"bg-gradient-to-r from-green-500 to-emerald-500",error:"bg-gradient-to-r from-red-500   to-rose-500",warning:"bg-gradient-to-r from-amber-500 to-orange-500",info:"bg-gradient-to-r from-blue-500  to-cyan-500"};return t[e]||t.welcome}getSubtitle(){let e=this.toastType(),t={welcome:"Aparece al iniciar sesi\xF3n y se cerrar\xE1 autom\xE1ticamente.",success:"Operaci\xF3n completada correctamente.",error:"Ha ocurrido un error. Por favor, int\xE9ntalo de nuevo.",warning:"Atenci\xF3n: Esta acci\xF3n requiere tu confirmaci\xF3n.",info:"Informaci\xF3n importante para tu consideraci\xF3n."};return t[e]||t.welcome}handleAction(){let e=this.action();e&&(e.callback(),this.close())}close(){this.toast.hide()}onEsc(){this.visible()&&this.close()}};He.\u0275fac=function(t){return new(t||He)},He.\u0275cmp=j({type:He,selectors:[["app-welcome-footer"]],hostBindings:function(t,r){t&1&&M("keydown.escape",function(){return r.onEsc()},ue)},inputs:{autoShow:[2,"autoShow","autoShow",li],duration:[2,"duration","duration",di],message:"message",type:"type"},decls:16,vars:14,consts:[[1,"fixed","bottom-6","right-0","z-40","pointer-events-none"],["role","status","aria-live","polite","aria-atomic","true",1,"pointer-events-auto","w-[90vw]","sm:w-[70vw]","lg:w-[40vw]","xl:w-[32vw]","max-w-[480px]","rounded-l-2xl","border","border-slate-200/70","dark:border-slate-700/70","bg-white/95","dark:bg-gray-900/95","backdrop-blur-xl","shadow-2xl","shadow-blue-500/10","hover:shadow-2xl","hover:shadow-blue-500/20","overflow-hidden","transform-gpu","translate-x-full","opacity-0","scale-95","transition-all","duration-500","ease-out","will-change-transform","hover:scale-100","hover:-translate-y-1",3,"ngClass"],[1,"h-1.5","w-full",3,"ngClass"],[1,"p-4","sm:p-5"],[1,"flex","items-start","gap-4"],[1,"shrink-0","grid","place-items-center","w-12","h-12","rounded-2xl","shadow-lg",3,"ngClass"],[1,"text-white","text-lg"],[1,"min-w-0","flex-1"],[1,"text-base","sm:text-lg","font-extrabold","tracking-wide","leading-tight",3,"ngClass"],[1,"text-xs","sm:text-sm","text-slate-600","dark:text-slate-300","mt-2","leading-relaxed"],["type","button","class",`mt-3 px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300
                         bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg
                         transform hover:scale-105 active:scale-95`,"aria-label","Ejecutar acci\xF3n",3,"click",4,"ngIf"],["type","button","aria-label","Cerrar aviso",1,"shrink-0","ml-2","inline-grid","place-items-center","w-9","h-9","rounded-xl","border","border-slate-200/70","dark:border-slate-700/70","bg-white/70","dark:bg-gray-800/70","backdrop-blur-sm","hover:bg-slate-50","dark:hover:bg-gray-700","text-slate-600","dark:text-slate-300","shadow-sm","hover:shadow-md","transition-all","duration-300","hover:scale-110","active:scale-95",3,"click"],[1,"fa-solid","fa-xmark","text-sm"],["class","mt-4 h-1 bg-slate-200/50 dark:bg-slate-700/50 rounded-full overflow-hidden",4,"ngIf"],["type","button","aria-label","Ejecutar acci\xF3n",1,"mt-3","px-4","py-2","rounded-xl","text-sm","font-semibold","transition-all","duration-300","bg-blue-600","hover:bg-blue-700","text-white","shadow-md","hover:shadow-lg","transform","hover:scale-105","active:scale-95",3,"click"],[1,"fa-solid","fa-arrow-right","ml-2","text-xs"],[1,"mt-4","h-1","bg-slate-200/50","dark:bg-slate-700/50","rounded-full","overflow-hidden"],[1,"h-full","rounded-full","transition-all","duration-100","ease-linear",3,"ngClass"]],template:function(t,r){t&1&&(c(0,"div",0)(1,"div",1),y(2,"div",2),c(3,"div",3)(4,"div",4)(5,"div",5),y(6,"i",6),m(),c(7,"div",7)(8,"p",8),g(9),m(),c(10,"p",9),g(11),m(),N(12,ts,3,1,"button",10),m(),c(13,"button",11),M("click",function(){return r.close()}),y(14,"i",12),m()(),N(15,rs,2,3,"div",13),m()()()),t&2&&(u(),x("ngClass",ri(11,es,r.visible(),r.reduceMotion())),ye("aria-hidden",!r.visible()),u(),x("ngClass",r.getStatusBarClass()),u(3),x("ngClass",r.getIconContainerClass()),u(),Ie(r.icon()),u(2),x("ngClass",r.getTextGradientClass()),u(),D(" ",r.text()," "),u(2),D(" ",r.getSubtitle()," "),u(),x("ngIf",r.action()),u(3),x("ngIf",r.visible()&&!r.reduceMotion()))},dependencies:[oe,Oe],encapsulation:2,changeDetection:0});var St=He;function is(i,e){if(i&1){let t=$();c(0,"div",13),M("click",function(){z(t);let n=T();return B(n.sidebarOpen.set(!1))}),m()}}function ns(i,e){if(i&1){let t=$();c(0,"button",14),M("click",function(){z(t);let n=T();return B(n.sidebarExpanded.set(!n.sidebarExpanded()))}),y(1,"i",15),m()}if(i&2){let t=T();x("title",t.sidebarExpanded()?"Contraer sidebar":"Expandir sidebar"),u(),W("fa-chevron-left",t.sidebarExpanded())("fa-chevron-right",!t.sidebarExpanded())}}function ss(i,e){i&1&&y(0,"app-loader")}var Ke=class Ke{constructor(){this.loaderSvc=P(Fe);this.auth=P(bt);this.userStore=P(ze);this.router=P(yt);this.route=P(gi);this.destroyRef=P(Hr);this.sidebarOpen=te(!1);this.sidebarExpanded=te(!0);this.screenWidth=te(window.innerWidth);this.routeHasCustomLoader=te(!1);this.isMobile=ve(()=>this.screenWidth()<1024);this.containerClass=ve(()=>(this.sidebarExpanded()&&!this.isMobile(),"max-w-full px-4 sm:px-6 lg:px-8 py-4"))}ngOnInit(){this.auth.session().token&&this.userStore.loadMe(),this.router.events.pipe(Br(e=>e instanceof hi),vi(this.destroyRef)).subscribe(()=>{this.isMobile()&&this.sidebarOpen.set(!1),this.updateRouteLoaderFlag()}),this.updateScreenWidth(),this.updateRouteLoaderFlag()}ngAfterViewInit(){this.loaderSvc.register(this.loader)}updateRouteLoaderFlag(){let e=this.route;for(;e.firstChild;)e=e.firstChild;let t=e.snapshot.data?.customLoader===!0;this.routeHasCustomLoader.set(t)}onResize(){this.updateScreenWidth(),!this.isMobile()&&this.sidebarOpen()&&this.sidebarOpen.set(!1),!this.isMobile()&&!this.sidebarExpanded()&&this.sidebarExpanded.set(!0)}onEscape(){this.isMobile()&&this.sidebarOpen.set(!1)}onDocClick(e){if(!this.sidebarOpen()||!this.isMobile())return;let t=e.target;!!t.closest("#app-sidebar-mobile")||!!t.closest("app-topbar")||this.sidebarOpen.set(!1)}updateScreenWidth(){this.screenWidth.set(window.innerWidth)}onSidebarItemClick(){this.isMobile()&&this.sidebarOpen.set(!1)}};Ke.\u0275fac=function(t){return new(t||Ke)},Ke.\u0275cmp=j({type:Ke,selectors:[["app-shell"]],viewQuery:function(t,r){if(t&1&&Zr(et,5),t&2){let n;Jr(n=ei())&&(r.loader=n.first)}},hostBindings:function(t,r){t&1&&M("resize",function(){return r.onResize()},Qr)("keydown.escape",function(){return r.onEscape()},ue)("click",function(s){return r.onDocClick(s)},ue)},decls:15,vars:20,consts:[[1,"h-dvh","grid","grid-rows-[auto_1fr]","bg-gradient-to-br","from-slate-50","via-blue-50/20","to-purple-50/10","dark:from-gray-900","dark:via-blue-900/10","dark:to-purple-900/10"],[3,"menuToggle"],[1,"relative","flex","h-full","overflow-hidden"],["class","fixed inset-0 z-40 bg-black/60 backdrop-blur-sm transition-all duration-300 lg:hidden",3,"click",4,"ngIf"],["id","app-sidebar",1,"hidden","lg:flex","h-full","transition-all","duration-300","ease-in-out","bg-white/80","dark:bg-gray-900/80","backdrop-blur-lg","border-r","border-gray-200/50","dark:border-gray-700/50","shadow-xl"],[3,"itemClick","toggleExpand","compact"],["id","app-sidebar-mobile",1,"lg:hidden","fixed","inset-y-0","left-0","z-50","w-80","max-w-[85vw]","will-change-transform","transform","transition-all","duration-300","ease-out","border-r","border-gray-200","dark:border-gray-800","bg-white/95","dark:bg-gray-900/95","backdrop-blur-xl","shadow-2xl"],[3,"itemClick","compact","showToggle"],[1,"flex-1","min-w-0","h-full","overflow-auto","bg-transparent"],[1,"h-full","w-full"],["class",`hidden lg:flex fixed left-4 bottom-4 z-30 w-10 h-10 items-center justify-center
                   rounded-2xl bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg border border-gray-200/50 dark:border-gray-700/50
                   shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 hover:bg-white dark:hover:bg-gray-800
                   text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400`,3,"title","click",4,"ngIf"],[3,"autoShow","duration"],[4,"ngIf"],[1,"fixed","inset-0","z-40","bg-black/60","backdrop-blur-sm","transition-all","duration-300","lg:hidden",3,"click"],[1,"hidden","lg:flex","fixed","left-4","bottom-4","z-30","w-10","h-10","items-center","justify-center","rounded-2xl","bg-white/90","dark:bg-gray-800/90","backdrop-blur-lg","border","border-gray-200/50","dark:border-gray-700/50","shadow-lg","hover:shadow-xl","transition-all","duration-300","hover:scale-110","hover:bg-white","dark:hover:bg-gray-800","text-gray-600","dark:text-gray-300","hover:text-blue-600","dark:hover:text-blue-400",3,"click","title"],[1,"fa-solid"]],template:function(t,r){t&1&&(c(0,"div",0)(1,"app-topbar",1),M("menuToggle",function(){return r.sidebarOpen.set(!0)}),m(),c(2,"div",2),N(3,is,1,0,"div",3),c(4,"aside",4)(5,"app-sidebar",5),M("itemClick",function(){return r.onSidebarItemClick()})("toggleExpand",function(){return r.sidebarExpanded.set(!r.sidebarExpanded())}),m()(),c(6,"aside",6)(7,"app-sidebar",7),M("itemClick",function(){return r.sidebarOpen.set(!1)}),m()(),c(8,"main",8)(9,"div",9),y(10,"router-outlet"),m()(),N(11,ns,2,5,"button",10),m()(),y(12,"app-welcome-footer",11),N(13,ss,1,0,"app-loader",12),y(14,"app-alert-center")),t&2&&(u(),W("sidebar-expanded",r.sidebarExpanded()),u(2),x("ngIf",r.sidebarOpen()&&r.isMobile()),u(),W("w-72",r.sidebarExpanded())("w-20",!r.sidebarExpanded()),u(),x("compact",!r.sidebarExpanded()),u(),W("translate-x-0",r.sidebarOpen())("-translate-x-full",!r.sidebarOpen()),u(),x("compact",!1)("showToggle",!1),u(2),Ie(r.containerClass()),u(2),x("ngIf",!r.isMobile()),u(),x("autoShow",!0)("duration",5e3),u(),x("ngIf",!r.routeHasCustomLoader()))},dependencies:[gt,oe,et,vt,_t,xt,St],encapsulation:2});var Et=Ke;var Ue=class Ue{};Ue.\u0275fac=function(t){return new(t||Ue)},Ue.\u0275cmp=j({type:Ue,selectors:[["ng-component"]],decls:8,vars:0,consts:[[1,"min-h-dvh","grid","place-items-center","p-6"],[1,"max-w-lg","text-center"],[1,"text-3xl","font-extrabold","mb-2"],[1,"text-gray-600","mb-6"],["routerLink","/dashboard",1,"inline-flex","items-center","gap-2","rounded-lg","bg-black","text-white","px-4","py-2"]],template:function(t,r){t&1&&(c(0,"div",0)(1,"div",1)(2,"h1",2),g(3,"No autorizado"),m(),c(4,"p",3),g(5," No tienes permisos para acceder a esta secci\xF3n. "),m(),c(6,"a",4),g(7," Volver al dashboard "),m()()())},dependencies:[Re],encapsulation:2});var wt=Ue;var Ti=[{path:"auth",children:[{path:"login",loadComponent:()=>import("./chunk-G74JNLAT.js").then(i=>i.LoginPage)},{path:"",pathMatch:"full",redirectTo:"login"}]},{path:"",component:Et,canMatch:[ki],children:[{path:"dashboard",loadComponent:()=>import("./chunk-VVYZEUIY.js").then(i=>i.DashboardPage)},{path:"settings",loadComponent:()=>import("./chunk-MWJVISOA.js").then(i=>i.SettingsPage)},{path:"vm",loadChildren:()=>import("./chunk-ADVXBCOV.js").then(i=>i.VM_PROYECTOS_ROUTES)},{path:"mis-proyectos",loadChildren:()=>import("./chunk-ZZYDXTRT.js").then(i=>i.MP_ROUTES)},{path:"events",loadChildren:()=>import("./chunk-2VKAD3TT.js").then(i=>i.EV_ROUTES)},{path:"ad",loadChildren:()=>import("./chunk-MWR3HIL7.js").then(i=>i.AD_ROUTES)},{path:"h",loadChildren:()=>import("./chunk-7U7W6K3G.js").then(i=>i.H_ROUTES)},{path:"m",loadChildren:()=>import("./chunk-7HNIS7P6.js").then(i=>i.M_ROUTES)},{path:"r",loadChildren:()=>import("./chunk-Q5X3JZPG.js").then(i=>i.RP_ROUTES)},{path:"staff",loadChildren:()=>import("./chunk-72OCQMFJ.js").then(i=>i.ESS_ROUTES)},{path:"mis-eventos",loadChildren:()=>import("./chunk-NXTW63M5.js").then(i=>i.MIS_EVENTOS_ROUTES)},{path:"registro-qr/:sesionId",loadComponent:()=>import("./chunk-JBFIQKIK.js").then(i=>i.RegisterQrPage),title:"Registro de asistencia (QR)",data:{feature:"vm",level:"qr-student"}},{path:"perfil",loadChildren:()=>import("./chunk-FD62OECA.js").then(i=>i.PERFIL_ROUTES)},{path:"no-autorizado",component:wt},{path:"",pathMatch:"full",redirectTo:"dashboard"}]},{path:"**",redirectTo:""}];var w=(function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i})(w||{}),re="*";function Ci(i,e=null){return{type:w.Sequence,steps:i,options:e}}function ir(i){return{type:w.Style,styles:i,offset:null}}var de=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Qe=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,n=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++n==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let n=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(n)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},tt="!";function Ai(i){return new A(3e3,!1)}function as(){return new A(3100,!1)}function os(){return new A(3101,!1)}function ls(i){return new A(3001,!1)}function ds(i){return new A(3003,!1)}function cs(i){return new A(3004,!1)}function Ni(i,e){return new A(3005,!1)}function Mi(){return new A(3006,!1)}function Ii(){return new A(3007,!1)}function Di(i,e){return new A(3008,!1)}function Oi(i){return new A(3002,!1)}function Ri(i,e,t,r,n){return new A(3010,!1)}function Fi(){return new A(3011,!1)}function Li(){return new A(3012,!1)}function zi(){return new A(3200,!1)}function Bi(){return new A(3202,!1)}function Vi(){return new A(3013,!1)}function qi(i){return new A(3014,!1)}function ji(i){return new A(3015,!1)}function Hi(i){return new A(3016,!1)}function Ki(i,e){return new A(3404,!1)}function ms(i){return new A(3502,!1)}function Ui(i){return new A(3503,!1)}function Qi(){return new A(3300,!1)}function $i(i){return new A(3504,!1)}function Wi(i){return new A(3301,!1)}function Gi(i,e){return new A(3302,!1)}function Yi(i){return new A(3303,!1)}function Xi(i,e){return new A(3400,!1)}function Zi(i){return new A(3401,!1)}function Ji(i){return new A(3402,!1)}function en(i,e){return new A(3505,!1)}function ce(i){switch(i.length){case 0:return new de;case 1:return i[0];default:return new Qe(i)}}function or(i,e,t=new Map,r=new Map){let n=[],s=[],a=-1,o=null;if(e.forEach(l=>{let d=l.get("offset"),f=d==a,p=f&&o||new Map;l.forEach((k,E)=>{let b=E,S=k;if(E!=="offset")switch(b=i.normalizePropertyName(b,n),S){case tt:S=t.get(E);break;case re:S=r.get(E);break;default:S=i.normalizeStyleValue(E,b,S,n);break}p.set(b,S)}),f||s.push(p),o=p,a=d}),n.length)throw ms(n);return s}function kt(i,e,t,r){switch(e){case"start":i.onStart(()=>r(t&&nr(t,"start",i)));break;case"done":i.onDone(()=>r(t&&nr(t,"done",i)));break;case"destroy":i.onDestroy(()=>r(t&&nr(t,"destroy",i)));break}}function nr(i,e,t){let r=t.totalTime,n=!!t.disabled,s=Tt(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,r??i.totalTime,n),a=i._data;return a!=null&&(s._data=a),s}function Tt(i,e,t,r,n="",s=0,a){return{element:i,triggerName:e,fromState:t,toState:r,phaseName:n,totalTime:s,disabled:!!a}}function Y(i,e,t){let r=i.get(e);return r||i.set(e,r=t),r}function lr(i){let e=i.indexOf(":"),t=i.substring(1,e),r=i.slice(e+1);return[t,r]}var us=typeof document>"u"?null:document.documentElement;function Ct(i){let e=i.parentNode||i.host||null;return e===us?null:e}function ps(i){return i.substring(1,6)=="ebkit"}var xe=null,Pi=!1;function tn(i){xe||(xe=fs()||{},Pi=xe.style?"WebkitAppearance"in xe.style:!1);let e=!0;return xe.style&&!ps(i)&&(e=i in xe.style,!e&&Pi&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in xe.style)),e}function fs(){return typeof document<"u"?document.body:null}function dr(i,e){for(;e;){if(e===i)return!0;e=Ct(e)}return!1}function cr(i,e,t){if(t)return Array.from(i.querySelectorAll(e));let r=i.querySelector(e);return r?[r]:[]}var hs=1e3,mr="{{",gs="}}",ur="ng-enter",At="ng-leave",rt="ng-trigger",it=".ng-trigger",pr="ng-animating",Pt=".ng-animating";function le(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:sr(parseFloat(e[1]),e[2])}function sr(i,e){switch(e){case"s":return i*hs;default:return i}}function nt(i,e,t){return i.hasOwnProperty("duration")?i:bs(i,e,t)}var ys=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function bs(i,e,t){let r,n=0,s="";if(typeof i=="string"){let a=i.match(ys);if(a===null)return e.push(Ai(i)),{duration:0,delay:0,easing:""};r=sr(parseFloat(a[1]),a[2]);let o=a[3];o!=null&&(n=sr(parseFloat(o),a[4]));let l=a[5];l&&(s=l)}else r=i;if(!t){let a=!1,o=e.length;r<0&&(e.push(as()),a=!0),n<0&&(e.push(os()),a=!0),a&&e.splice(o,0,Ai(i))}return{duration:r,delay:n,easing:s}}function rn(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function ie(i,e,t){e.forEach((r,n)=>{let s=Nt(n);t&&!t.has(n)&&t.set(n,i.style[s]),i.style[s]=r})}function pe(i,e){e.forEach((t,r)=>{let n=Nt(r);i.style[n]=""})}function $e(i){return Array.isArray(i)?i.length==1?i[0]:Ci(i):i}function nn(i,e,t){let r=e.params||{},n=fr(i);n.length&&n.forEach(s=>{r.hasOwnProperty(s)||t.push(ls(s))})}var ar=new RegExp(`${mr}\\s*(.+?)\\s*${gs}`,"g");function fr(i){let e=[];if(typeof i=="string"){let t;for(;t=ar.exec(i);)e.push(t[1]);ar.lastIndex=0}return e}function We(i,e,t){let r=`${i}`,n=r.replace(ar,(s,a)=>{let o=e[a];return o==null&&(t.push(ds(a)),o=""),o.toString()});return n==r?i:n}var vs=/-+([a-z0-9])/g;function Nt(i){return i.replace(vs,(...e)=>e[1].toUpperCase())}function sn(i,e){return i===0||e===0}function an(i,e,t){if(t.size&&e.length){let r=e[0],n=[];if(t.forEach((s,a)=>{r.has(a)||n.push(a),r.set(a,s)}),n.length)for(let s=1;s<e.length;s++){let a=e[s];n.forEach(o=>a.set(o,Mt(i,o)))}}return e}function X(i,e,t){switch(e.type){case w.Trigger:return i.visitTrigger(e,t);case w.State:return i.visitState(e,t);case w.Transition:return i.visitTransition(e,t);case w.Sequence:return i.visitSequence(e,t);case w.Group:return i.visitGroup(e,t);case w.Animate:return i.visitAnimate(e,t);case w.Keyframes:return i.visitKeyframes(e,t);case w.Style:return i.visitStyle(e,t);case w.Reference:return i.visitReference(e,t);case w.AnimateChild:return i.visitAnimateChild(e,t);case w.AnimateRef:return i.visitAnimateRef(e,t);case w.Query:return i.visitQuery(e,t);case w.Stagger:return i.visitStagger(e,t);default:throw cs(e.type)}}function Mt(i,e){return window.getComputedStyle(i)[e]}var Mr=(()=>{class i{validateStyleProperty(t){return tn(t)}containsElement(t,r){return dr(t,r)}getParentElement(t){return Ct(t)}query(t,r,n){return cr(t,r,n)}computeStyle(t,r,n){return n||""}animate(t,r,n,s,a,o=[],l){return new de(n,s)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),Ee=class{static NOOP=new Mr},we=class{};var _s=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ft=class extends we{normalizePropertyName(e,t){return Nt(e)}normalizeStyleValue(e,t,r,n){let s="",a=r.toString().trim();if(_s.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let o=r.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&o[1].length==0&&n.push(Ni(e,r))}return a+s}};var Lt="*";function xs(i,e){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(r=>Ss(r,t,e)):t.push(i),t}function Ss(i,e,t){if(i[0]==":"){let l=Es(i,t);if(typeof l=="function"){e.push(l);return}i=l}let r=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(ji(i)),e;let n=r[1],s=r[2],a=r[3];e.push(on(n,a));let o=n==Lt&&a==Lt;s[0]=="<"&&!o&&e.push(on(a,n))}function Es(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Hi(i)),"* => *"}}var It=new Set(["true","1"]),Dt=new Set(["false","0"]);function on(i,e){let t=It.has(i)||Dt.has(i),r=It.has(e)||Dt.has(e);return(n,s)=>{let a=i==Lt||i==n,o=e==Lt||e==s;return!a&&t&&typeof n=="boolean"&&(a=n?It.has(i):Dt.has(i)),!o&&r&&typeof s=="boolean"&&(o=s?It.has(e):Dt.has(e)),a&&o}}var yn=":self",ws=new RegExp(`s*${yn}s*,?`,"g");function bn(i,e,t,r){return new _r(i).build(e,t,r)}var ln="",_r=class{_driver;constructor(e){this._driver=e}build(e,t,r){let n=new xr(t);return this._resetContextStyleTimingState(n),X(this,$e(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector=ln,e.collectedStyles=new Map,e.collectedStyles.set(ln,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,n=t.depCount=0,s=[],a=[];return e.name.charAt(0)=="@"&&t.errors.push(Mi()),e.definitions.forEach(o=>{if(this._resetContextStyleTimingState(t),o.type==w.State){let l=o,d=l.name;d.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,s.push(this.visitState(l,t))}),l.name=d}else if(o.type==w.Transition){let l=this.visitTransition(o,t);r+=l.queryCount,n+=l.depCount,a.push(l)}else t.errors.push(Ii())}),{type:w.Trigger,name:e.name,states:s,transitions:a,queryCount:r,depCount:n,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,a=n||{};r.styles.forEach(o=>{o instanceof Map&&o.forEach(l=>{fr(l).forEach(d=>{a.hasOwnProperty(d)||s.add(d)})})}),s.size&&t.errors.push(Di(e.name,[...s.values()]))}return{type:w.State,name:e.name,style:r,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=X(this,$e(e.animation),t),n=xs(e.expr,t.errors);return{type:w.Transition,matchers:n,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Se(e.options)}}visitSequence(e,t){return{type:w.Sequence,steps:e.steps.map(r=>X(this,r,t)),options:Se(e.options)}}visitGroup(e,t){let r=t.currentTime,n=0,s=e.steps.map(a=>{t.currentTime=r;let o=X(this,a,t);return n=Math.max(n,t.currentTime),o});return t.currentTime=n,{type:w.Group,steps:s,options:Se(e.options)}}visitAnimate(e,t){let r=As(e.timings,t.errors);t.currentAnimateTimings=r;let n,s=e.styles?e.styles:ir({});if(s.type==w.Keyframes)n=this.visitKeyframes(s,t);else{let a=e.styles,o=!1;if(!a){o=!0;let d={};r.easing&&(d.easing=r.easing),a=ir(d)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(a,t);l.isEmptyStep=o,n=l}return t.currentAnimateTimings=null,{type:w.Animate,timings:r,style:n,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],n=Array.isArray(e.styles)?e.styles:[e.styles];for(let o of n)typeof o=="string"?o===re?r.push(o):t.errors.push(Oi(o)):r.push(new Map(Object.entries(o)));let s=!1,a=null;return r.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(a=o.get("easing"),o.delete("easing")),!s)){for(let l of o.values())if(l.toString().indexOf(mr)>=0){s=!0;break}}}),{type:w.Style,styles:r,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,n=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((o,l)=>{let d=t.collectedStyles.get(t.currentQuerySelector),f=d.get(l),p=!0;f&&(s!=n&&s>=f.startTime&&n<=f.endTime&&(t.errors.push(Ri(l,f.startTime,f.endTime,s,n)),p=!1),s=f.startTime),p&&d.set(l,{startTime:s,endTime:n}),t.options&&nn(o,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:w.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Fi()),r;let n=1,s=0,a=[],o=!1,l=!1,d=0,f=e.steps.map(R=>{let F=this._makeStyleAst(R,t),H=F.offset!=null?F.offset:Cs(F.styles),V=0;return H!=null&&(s++,V=F.offset=H),l=l||V<0||V>1,o=o||V<d,d=V,a.push(V),F});l&&t.errors.push(Li()),o&&t.errors.push(zi());let p=e.steps.length,k=0;s>0&&s<p?t.errors.push(Bi()):s==0&&(k=n/(p-1));let E=p-1,b=t.currentTime,S=t.currentAnimateTimings,I=S.duration;return f.forEach((R,F)=>{let H=k>0?F==E?1:k*F:a[F],V=H*I;t.currentTime=b+S.delay+V,S.duration=V,this._validateStyleAst(R,t),R.offset=H,r.styles.push(R)}),r}visitReference(e,t){return{type:w.Reference,animation:X(this,$e(e.animation),t),options:Se(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:w.AnimateChild,options:Se(e.options)}}visitAnimateRef(e,t){return{type:w.AnimateRef,animation:this.visitReference(e.animation,t),options:Se(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;let[s,a]=ks(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Y(t.collectedStyles,t.currentQuerySelector,new Map);let o=X(this,$e(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:w.Query,selector:s,limit:n.limit||0,optional:!!n.optional,includeSelf:a,animation:o,originalSelector:e.selector,options:Se(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Vi());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:nt(e.timings,t.errors,!0);return{type:w.Stagger,animation:X(this,$e(e.animation),t),timings:r,options:null}}};function ks(i){let e=!!i.split(/\s*,\s*/).find(t=>t==yn);return e&&(i=i.replace(ws,"")),i=i.replace(/@\*/g,it).replace(/@\w+/g,t=>it+"-"+t.slice(1)).replace(/:animating/g,Pt),[i,e]}function Ts(i){return i?ct({},i):null}var xr=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Cs(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function As(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let s=nt(i,e).duration;return hr(s,0,"")}let t=i;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=hr(0,0,"");return s.dynamic=!0,s.strValue=t,s}let n=nt(t,e);return hr(n.duration,n.delay,n.easing)}function Se(i){return i?(i=ct({},i),i.params&&(i.params=Ts(i.params))):i={},i}function hr(i,e,t){return{duration:i,delay:e,easing:t}}function Ir(i,e,t,r,n,s,a=null,o=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:r,duration:n,delay:s,totalTime:n+s,easing:a,subTimeline:o}}var at=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Ps=1,Ns=":enter",Ms=new RegExp(Ns,"g"),Is=":leave",Ds=new RegExp(Is,"g");function vn(i,e,t,r,n,s=new Map,a=new Map,o,l,d=[]){return new Sr().buildKeyframes(i,e,t,r,n,s,a,o,l,d)}var Sr=class{buildKeyframes(e,t,r,n,s,a,o,l,d,f=[]){d=d||new at;let p=new Er(e,t,d,n,s,f,[]);p.options=l;let k=l.delay?le(l.delay):0;p.currentTimeline.delayNextStep(k),p.currentTimeline.setStyles([a],null,p.errors,l),X(this,r,p);let E=p.timelines.filter(b=>b.containsAnimation());if(E.length&&o.size){let b;for(let S=E.length-1;S>=0;S--){let I=E[S];if(I.element===t){b=I;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([o],null,p.errors,l)}return E.length?E.map(b=>b.buildKeyframes()):[Ir(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let n=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,n,n.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let n of e){let s=n?.delay;if(s){let a=typeof s=="number"?s:le(We(s,n?.params??{},t.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,a=r.duration!=null?le(r.duration):null,o=r.delay!=null?le(r.delay):null;return a!==0&&e.forEach(l=>{let d=t.appendInstructionToTimeline(l,a,o);s=Math.max(s,d.duration+d.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),X(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,n=t,s=e.options;if(s&&(s.params||s.delay)&&(n=t.createSubContext(s),n.transformIntoNewTimeline(),s.delay!=null)){n.previousNode.type==w.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=zt);let a=le(s.delay);n.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>X(this,a,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>r&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],n=t.currentTimeline.currentTime,s=e.options&&e.options.delay?le(e.options.delay):0;e.steps.forEach(a=>{let o=t.createSubContext(e.options);s&&o.delayNextStep(s),X(this,a,o),n=Math.max(n,o.currentTimeline.currentTime),r.push(o.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,n=t.params?We(r,t.params,t.errors):r;return nt(n,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),n.snapshotCurrentStyles());let s=e.style;s.type==w.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,n=t.currentAnimateTimings;!n&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=n&&n.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,n=t.currentTimeline.duration,s=r.duration,o=t.createSubContext().currentTimeline;o.easing=r.easing,e.styles.forEach(l=>{let d=l.offset||0;o.forwardTime(d*s),o.setStyles(l.styles,l.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(n+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,n=e.options||{},s=n.delay?le(n.delay):0;s&&(t.previousNode.type===w.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=zt);let a=r,o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=o.length;let l=null;o.forEach((d,f)=>{t.currentQueryIndex=f;let p=t.createSubContext(e.options,d);s&&p.delayNextStep(s),d===t.element&&(l=p.currentTimeline),X(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let k=p.currentTimeline.currentTime;a=Math.max(a,k)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,n=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),o=a*(t.currentQueryTotal-1),l=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=o-l;break;case"full":l=r.currentStaggerTime;break}let f=t.currentTimeline;l&&f.delayNextStep(l);let p=f.currentTime;X(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=n.currentTime-p+(n.startTime-r.currentTimeline.startTime)}},zt={},Er=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=zt;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,n,s,a,o,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=n,this._leaveClassName=s,this.errors=a,this.timelines=o,this.currentTimeline=l||new Bt(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,n=this.options;r.duration!=null&&(n.duration=le(r.duration)),r.delay!=null&&(n.delay=le(r.delay));let s=r.params;if(s){let a=n.params;a||(a=this.options.params={}),Object.keys(s).forEach(o=>{(!t||!a.hasOwnProperty(o))&&(a[o]=We(s[o],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(n=>{r[n]=t[n]})}}return e}createSubContext(e=null,t,r){let n=t||this.element,s=new i(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=zt,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let n={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new wr(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(s),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,n,s,a){let o=[];if(n&&o.push(this.element),e.length>0){e=e.replace(Ms,"."+this._enterClassName),e=e.replace(Ds,"."+this._leaveClassName);let l=r!=1,d=this._driver.query(this.element,e,l);r!==0&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),o.push(...d)}return!s&&o.length==0&&a.push(qi(t)),o}},Bt=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,n){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Ps,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||re),this._currentKeyframe.set(t,re);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,n){t&&this._previousKeyframe.set("easing",t);let s=n&&n.params||{},a=Os(e,this._globalTimelineStyles);for(let[o,l]of a){let d=We(l,s,r);this._pendingStyles.set(o,d),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??re),this._updateStyle(o,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let n=this._styleSummary.get(r);(!n||t.time>n.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((o,l)=>{let d=new Map([...this._backFill,...o]);d.forEach((f,p)=>{f===tt?e.add(p):f===re&&t.add(p)}),r||d.set("offset",l/this.duration),n.push(d)});let s=[...e.values()],a=[...t.values()];if(r){let o=n[0],l=new Map(o);o.set("offset",0),l.set("offset",1),n=[o,l]}return Ir(this.element,n,s,a,this.duration,this.startTime,this.easing,!1)}},wr=class extends Bt{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,n,s,a,o=!1){super(e,t,a.delay),this.keyframes=r,this.preStyleProps=n,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],a=r+t,o=t/a,l=new Map(e[0]);l.set("offset",0),s.push(l);let d=new Map(e[0]);d.set("offset",dn(o)),s.push(d);let f=e.length-1;for(let p=1;p<=f;p++){let k=new Map(e[p]),E=k.get("offset"),b=t+E*r;k.set("offset",dn(b/a)),s.push(k)}r=a,t=0,n="",e=s}return Ir(this.element,e,this.preStyleProps,this.postStyleProps,r,t,n,!0)}};function dn(i,e=3){let t=Math.pow(10,e-1);return Math.round(i*t)/t}function Os(i,e){let t=new Map,r;return i.forEach(n=>{if(n==="*"){r??=e.keys();for(let s of r)t.set(s,re)}else for(let[s,a]of n)t.set(s,a)}),t}function cn(i,e,t,r,n,s,a,o,l,d,f,p,k){return{type:0,element:i,triggerName:e,isRemovalTransition:n,fromState:t,fromStyles:s,toState:r,toStyles:a,timelines:o,queriedElements:l,preStyleProps:d,postStyleProps:f,totalTime:p,errors:k}}var gr={},Vt=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,n){return Rs(this.ast.matchers,e,t,r,n)}buildStyles(e,t,r){let n=this._stateStyles.get("*");return e!==void 0&&(n=this._stateStyles.get(e?.toString())||n),n?n.buildStyles(t,r):new Map}build(e,t,r,n,s,a,o,l,d,f){let p=[],k=this.ast.options&&this.ast.options.params||gr,E=o&&o.params||gr,b=this.buildStyles(r,E,p),S=l&&l.params||gr,I=this.buildStyles(n,S,p),R=new Set,F=new Map,H=new Map,V=n==="void",Ne={params:_n(S,k),delay:this.ast.options?.delay},se=f?[]:vn(e,t,this.ast.animation,s,a,b,I,Ne,d,p),K=0;return se.forEach(U=>{K=Math.max(U.duration+U.delay,K)}),p.length?cn(t,this._triggerName,r,n,V,b,I,[],[],F,H,K,p):(se.forEach(U=>{let fe=U.element,Me=Y(F,fe,new Set);U.preStyleProps.forEach(he=>Me.add(he));let Or=Y(H,fe,new Set);U.postStyleProps.forEach(he=>Or.add(he)),fe!==t&&R.add(fe)}),cn(t,this._triggerName,r,n,V,b,I,se,[...R.values()],F,H,K))}};function Rs(i,e,t,r,n){return i.some(s=>s(e,t,r,n))}function _n(i,e){let t=ct({},e);return Object.entries(i).forEach(([r,n])=>{n!=null&&(t[r]=n)}),t}var kr=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,n=_n(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,o)=>{a&&(a=We(a,n,t));let l=this.normalizer.normalizePropertyName(o,t);a=this.normalizer.normalizeStyleValue(o,l,a,t),r.set(o,a)})}),r}};function Fs(i,e,t){return new Tr(i,e,t)}var Tr=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(n=>{let s=n.options&&n.options.params||{};this.states.set(n.name,new kr(n.style,s,r))}),mn(this.states,"true","1"),mn(this.states,"false","0"),t.transitions.forEach(n=>{this.transitionFactories.push(new Vt(e,n,this.states))}),this.fallbackTransition=Ls(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,n){return this.transitionFactories.find(a=>a.match(e,t,r,n))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function Ls(i,e,t){let r=[(a,o)=>!0],n={type:w.Sequence,steps:[],options:null},s={type:w.Transition,animation:n,matchers:r,options:null,queryCount:0,depCount:0};return new Vt(i,s,e)}function mn(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}var zs=new at,Cr=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],n=[],s=bn(this._driver,t,r,n);if(r.length)throw Ui(r);this._animations.set(e,s)}_buildPlayer(e,t,r){let n=e.element,s=or(this._normalizer,e.keyframes,t,r);return this._driver.animate(n,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let n=[],s=this._animations.get(e),a,o=new Map;if(s?(a=vn(this._driver,t,s,ur,At,new Map,new Map,r,zs,n),a.forEach(f=>{let p=Y(o,f.element,new Map);f.postStyleProps.forEach(k=>p.set(k,null))})):(n.push(Qi()),a=[]),n.length)throw $i(n);o.forEach((f,p)=>{f.forEach((k,E)=>{f.set(E,this._driver.computeStyle(p,E,re))})});let l=a.map(f=>{let p=o.get(f.element);return this._buildPlayer(f,new Map,p)}),d=ce(l);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Wi(e);return t}listen(e,t,r,n){let s=Tt(t,"","","");return kt(this._getPlayer(e),r,s,n),()=>{}}command(e,t,r,n){if(r=="register"){this.register(e,n[0]);return}if(r=="create"){let a=n[0]||{};this.create(e,t,a);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e);break}}},un="ng-animate-queued",Bs=".ng-animate-queued",yr="ng-animate-disabled",Vs=".ng-animate-disabled",qs="ng-star-inserted",js=".ng-star-inserted",Hs=[],xn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ks={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ne="__ng_removed",ot=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),n=r?e.value:e;if(this.value=Qs(n),r){let s=e,{value:a}=s,o=zr(s,["value"]);this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(n=>{r[n]==null&&(r[n]=t[n])})}}},st="void",br=new ot(st),Ar=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,ee(t,this._hostClassName)}listen(e,t,r,n){if(!this._triggers.has(t))throw Gi(r,t);if(r==null||r.length==0)throw Yi(t);if(!$s(r))throw Xi(r,t);let s=Y(this._elementListeners,e,[]),a={name:t,phase:r,callback:n};s.push(a);let o=Y(this._engine.statesByElement,e,new Map);return o.has(t)||(ee(e,rt),ee(e,rt+"-"+t),o.set(t,br)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(a);l>=0&&s.splice(l,1),this._triggers.has(t)||o.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Zi(e);return t}trigger(e,t,r,n=!0){let s=this._getTrigger(t),a=new lt(this.id,t,e),o=this._engine.statesByElement.get(e);o||(ee(e,rt),ee(e,rt+"-"+t),this._engine.statesByElement.set(e,o=new Map));let l=o.get(t),d=new ot(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),o.set(t,d),l||(l=br),!(d.value===st)&&l.value===d.value){if(!Ys(l.params,d.params)){let S=[],I=s.matchStyles(l.value,l.params,S),R=s.matchStyles(d.value,d.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{pe(e,I),ie(e,R)})}return}let k=Y(this._engine.playersByElement,e,[]);k.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let E=s.matchTransition(l.value,d.value,e,d.params),b=!1;if(!E){if(!n)return;E=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:E,fromState:l,toState:d,player:a,isFallbackTransition:b}),b||(ee(e,un),a.onStart(()=>{Ge(e,un)})),a.onDone(()=>{let S=this.players.indexOf(a);S>=0&&this.players.splice(S,1);let I=this._engine.playersByElement.get(e);if(I){let R=I.indexOf(a);R>=0&&I.splice(R,1)}}),this.players.push(a),k.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(n=>n.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,it,!0);r.forEach(n=>{if(n[ne])return;let s=this._engine.fetchNamespacesByElement(n);s.size?s.forEach(a=>a.triggerLeaveAnimation(n,t,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(e,t,r,n){let s=this._engine.statesByElement.get(e),a=new Map;if(s){let o=[];if(s.forEach((l,d)=>{if(a.set(d,l.value),this._triggers.has(d)){let f=this.trigger(e,d,st,n);f&&o.push(f)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),r&&ce(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let n=new Set;t.forEach(s=>{let a=s.name;if(n.has(a))return;n.add(a);let l=this._triggers.get(a).fallbackTransition,d=r.get(a)||br,f=new ot(st),p=new lt(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:l,fromState:d,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)n=!0;else{let a=e;for(;a=a.parentNode;)if(r.statesByElement.get(a)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[ne];(!s||s===xn)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ee(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let n=r.player;if(n.destroyed)return;let s=r.element,a=this._elementListeners.get(s);a&&a.forEach(o=>{if(o.name==r.triggerName){let l=Tt(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,kt(r.player,o.phase,l,o.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):t.push(r)}),this._queue=[],t.sort((r,n)=>{let s=r.transition.ast.depCount,a=n.transition.ast.depCount;return s==0||a==0?s-a:this._engine.driver.containsElement(r.element,n.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Pr=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Ar(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,n=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,o=this.driver.getParentElement(t);for(;o;){let l=n.get(o);if(l){let d=r.indexOf(l);r.splice(d+1,0,e),a=!0;break}o=this.driver.getParentElement(o)}a||r.unshift(e)}else r.push(e);return n.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let n=this._namespaceLookup[e];n&&n.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let n=this._namespaceList.indexOf(r);n>=0&&this._namespaceList.splice(n,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let n of r.values())if(n.namespaceId){let s=this._fetchNamespace(n.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,n){if(Ot(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,n),!0}return!1}insertNode(e,t,r,n){if(!Ot(t))return;let s=t[ne];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(t,r)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ee(e,yr)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ge(e,yr))}removeNode(e,t,r){if(Ot(t)){let n=e?this._fetchNamespace(e):null;n?n.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,n,s){this.collectedLeaveElements.push(t),t[ne]={namespaceId:e,setForRemoval:n,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,n,s){return Ot(t)?this._fetchNamespace(e).listen(t,r,n,s):()=>{}}_buildInstruction(e,t,r,n,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,n,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,it,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Pt,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ce(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ne];if(t&&t.setForRemoval){if(e[ne]=xn,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(yr)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Vs,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,n)=>this._balanceNamespaceList(r,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let n=this.collectedEnterElements[r];ee(n,qs)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let n=0;n<r.length;n++)r[n]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let n=this.collectedLeaveElements[r];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?ce(t).onDone(()=>{r.forEach(n=>n())}):r.forEach(n=>n())}}reportError(e){throw Ji(e)}_flushAnimations(e,t){let r=new at,n=[],s=new Map,a=[],o=new Map,l=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(h=>{f.add(h);let v=this.driver.query(h,Bs,!0);for(let _=0;_<v.length;_++)f.add(v[_])});let p=this.bodyNode,k=Array.from(this.statesByElement.keys()),E=hn(k,this.collectedEnterElements),b=new Map,S=0;E.forEach((h,v)=>{let _=ur+S++;b.set(v,_),h.forEach(C=>ee(C,_))});let I=[],R=new Set,F=new Set;for(let h=0;h<this.collectedLeaveElements.length;h++){let v=this.collectedLeaveElements[h],_=v[ne];_&&_.setForRemoval&&(I.push(v),R.add(v),_.hasAnimation?this.driver.query(v,js,!0).forEach(C=>R.add(C)):F.add(v))}let H=new Map,V=hn(k,Array.from(R));V.forEach((h,v)=>{let _=At+S++;H.set(v,_),h.forEach(C=>ee(C,_))}),e.push(()=>{E.forEach((h,v)=>{let _=b.get(v);h.forEach(C=>Ge(C,_))}),V.forEach((h,v)=>{let _=H.get(v);h.forEach(C=>Ge(C,_))}),I.forEach(h=>{this.processLeaveNode(h)})});let Ne=[],se=[];for(let h=this._namespaceList.length-1;h>=0;h--)this._namespaceList[h].drainQueuedTransitions(t).forEach(_=>{let C=_.player,L=_.element;if(Ne.push(C),this.collectedEnterElements.length){let q=L[ne];if(q&&q.setForMove){if(q.previousTriggersValues&&q.previousTriggersValues.has(_.triggerName)){let ge=q.previousTriggersValues.get(_.triggerName),J=this.statesByElement.get(_.element);if(J&&J.has(_.triggerName)){let dt=J.get(_.triggerName);dt.value=ge,J.set(_.triggerName,dt)}}C.destroy();return}}let ae=!p||!this.driver.containsElement(p,L),Z=H.get(L),me=b.get(L),O=this._buildInstruction(_,r,me,Z,ae);if(O.errors&&O.errors.length){se.push(O);return}if(ae){C.onStart(()=>pe(L,O.fromStyles)),C.onDestroy(()=>ie(L,O.toStyles)),n.push(C);return}if(_.isFallbackTransition){C.onStart(()=>pe(L,O.fromStyles)),C.onDestroy(()=>ie(L,O.toStyles)),n.push(C);return}let Lr=[];O.timelines.forEach(q=>{q.stretchStartingKeyframe=!0,this.disabledNodes.has(q.element)||Lr.push(q)}),O.timelines=Lr,r.append(L,O.timelines);let An={instruction:O,player:C,element:L};a.push(An),O.queriedElements.forEach(q=>Y(o,q,[]).push(C)),O.preStyleProps.forEach((q,ge)=>{if(q.size){let J=l.get(ge);J||l.set(ge,J=new Set),q.forEach((dt,Xt)=>J.add(Xt))}}),O.postStyleProps.forEach((q,ge)=>{let J=d.get(ge);J||d.set(ge,J=new Set),q.forEach((dt,Xt)=>J.add(Xt))})});if(se.length){let h=[];se.forEach(v=>{h.push(en(v.triggerName,v.errors))}),Ne.forEach(v=>v.destroy()),this.reportError(h)}let K=new Map,U=new Map;a.forEach(h=>{let v=h.element;r.has(v)&&(U.set(v,v),this._beforeAnimationBuild(h.player.namespaceId,h.instruction,K))}),n.forEach(h=>{let v=h.element;this._getPreviousPlayers(v,!1,h.namespaceId,h.triggerName,null).forEach(C=>{Y(K,v,[]).push(C),C.destroy()})});let fe=I.filter(h=>gn(h,l,d)),Me=new Map;fn(Me,this.driver,F,d,re).forEach(h=>{gn(h,l,d)&&fe.push(h)});let he=new Map;E.forEach((h,v)=>{fn(he,this.driver,new Set(h),l,tt)}),fe.forEach(h=>{let v=Me.get(h),_=he.get(h);Me.set(h,new Map([...v?.entries()??[],..._?.entries()??[]]))});let Yt=[],Rr=[],Fr={};a.forEach(h=>{let{element:v,player:_,instruction:C}=h;if(r.has(v)){if(f.has(v)){_.onDestroy(()=>ie(v,C.toStyles)),_.disabled=!0,_.overrideTotalTime(C.totalTime),n.push(_);return}let L=Fr;if(U.size>1){let Z=v,me=[];for(;Z=Z.parentNode;){let O=U.get(Z);if(O){L=O;break}me.push(Z)}me.forEach(O=>U.set(O,L))}let ae=this._buildAnimation(_.namespaceId,C,K,s,he,Me);if(_.setRealPlayer(ae),L===Fr)Yt.push(_);else{let Z=this.playersByElement.get(L);Z&&Z.length&&(_.parentPlayer=ce(Z)),n.push(_)}}else pe(v,C.fromStyles),_.onDestroy(()=>ie(v,C.toStyles)),Rr.push(_),f.has(v)&&n.push(_)}),Rr.forEach(h=>{let v=s.get(h.element);if(v&&v.length){let _=ce(v);h.setRealPlayer(_)}}),n.forEach(h=>{h.parentPlayer?h.syncPlayerEvents(h.parentPlayer):h.destroy()});for(let h=0;h<I.length;h++){let v=I[h],_=v[ne];if(Ge(v,At),_&&_.hasAnimation)continue;let C=[];if(o.size){let ae=o.get(v);ae&&ae.length&&C.push(...ae);let Z=this.driver.query(v,Pt,!0);for(let me=0;me<Z.length;me++){let O=o.get(Z[me]);O&&O.length&&C.push(...O)}}let L=C.filter(ae=>!ae.destroyed);L.length?Ws(this,v,L):this.processLeaveNode(v)}return I.length=0,Yt.forEach(h=>{this.players.push(h),h.onDone(()=>{h.destroy();let v=this.players.indexOf(h);this.players.splice(v,1)}),h.play()}),Yt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,n,s){let a=[];if(t){let o=this.playersByQueriedElement.get(e);o&&(a=o)}else{let o=this.playersByElement.get(e);if(o){let l=!s||s==st;o.forEach(d=>{d.queued||!l&&d.triggerName!=n||a.push(d)})}}return(r||n)&&(a=a.filter(o=>!(r&&r!=o.namespaceId||n&&n!=o.triggerName))),a}_beforeAnimationBuild(e,t,r){let n=t.triggerName,s=t.element,a=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:n;for(let l of t.timelines){let d=l.element,f=d!==s,p=Y(r,d,[]);this._getPreviousPlayers(d,f,a,o,t.toState).forEach(E=>{let b=E.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),E.destroy(),p.push(E)})}pe(s,t.fromStyles)}_buildAnimation(e,t,r,n,s,a){let o=t.triggerName,l=t.element,d=[],f=new Set,p=new Set,k=t.timelines.map(b=>{let S=b.element;f.add(S);let I=S[ne];if(I&&I.removedBeforeQueried)return new de(b.duration,b.delay);let R=S!==l,F=Gs((r.get(S)||Hs).map(K=>K.getRealPlayer())).filter(K=>{let U=K;return U.element?U.element===S:!1}),H=s.get(S),V=a.get(S),Ne=or(this._normalizer,b.keyframes,H,V),se=this._buildPlayer(b,Ne,F);if(b.subTimeline&&n&&p.add(S),R){let K=new lt(e,o,S);K.setRealPlayer(se),d.push(K)}return se});d.forEach(b=>{Y(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>Us(this.playersByQueriedElement,b.element,b))}),f.forEach(b=>ee(b,pr));let E=ce(k);return E.onDestroy(()=>{f.forEach(b=>Ge(b,pr)),ie(l,t.toStyles)}),p.forEach(b=>{Y(n,b,[]).push(E)}),E}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new de(e.duration,e.delay)}},lt=class{namespaceId;triggerName;element;_player=new de;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(n=>kt(e,r,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Y(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Us(i,e,t){let r=i.get(e);if(r){if(r.length){let n=r.indexOf(t);r.splice(n,1)}r.length==0&&i.delete(e)}return r}function Qs(i){return i??null}function Ot(i){return i&&i.nodeType===1}function $s(i){return i=="start"||i=="done"}function pn(i,e){let t=i.style.display;return i.style.display=e??"none",t}function fn(i,e,t,r,n){let s=[];t.forEach(l=>s.push(pn(l)));let a=[];r.forEach((l,d)=>{let f=new Map;l.forEach(p=>{let k=e.computeStyle(d,p,n);f.set(p,k),(!k||k.length==0)&&(d[ne]=Ks,a.push(d))}),i.set(d,f)});let o=0;return t.forEach(l=>pn(l,s[o++])),a}function hn(i,e){let t=new Map;if(i.forEach(o=>t.set(o,[])),e.length==0)return t;let r=1,n=new Set(e),s=new Map;function a(o){if(!o)return r;let l=s.get(o);if(l)return l;let d=o.parentNode;return t.has(d)?l=d:n.has(d)?l=r:l=a(d),s.set(o,l),l}return e.forEach(o=>{let l=a(o);l!==r&&t.get(l).push(o)}),t}function ee(i,e){i.classList?.add(e)}function Ge(i,e){i.classList?.remove(e)}function Ws(i,e,t){ce(t).onDone(()=>i.processLeaveNode(e))}function Gs(i){let e=[];return Sn(i,e),e}function Sn(i,e){for(let t=0;t<i.length;t++){let r=i[t];r instanceof Qe?Sn(r.players,e):e.push(r)}}function Ys(i,e){let t=Object.keys(i),r=Object.keys(e);if(t.length!=r.length)return!1;for(let n=0;n<t.length;n++){let s=t[n];if(!e.hasOwnProperty(s)||i[s]!==e[s])return!1}return!0}function gn(i,e,t){let r=t.get(i);if(!r)return!1;let n=e.get(i);return n?r.forEach(s=>n.add(s)):e.set(i,r),t.delete(i),!0}var Ye=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new Pr(e.body,t,r),this._timelineEngine=new Cr(e.body,t,r),this._transitionEngine.onRemovalComplete=(n,s)=>this.onRemovalComplete(n,s)}registerTrigger(e,t,r,n,s){let a=e+"-"+n,o=this._triggerCache[a];if(!o){let l=[],d=[],f=bn(this._driver,s,l,d);if(l.length)throw Ki(n,l);o=Fs(n,f,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,n,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,n){this._transitionEngine.insertNode(e,t,r,n)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,n){if(r.charAt(0)=="@"){let[s,a]=lr(r),o=n;this._timelineEngine.command(s,t,a,o)}else this._transitionEngine.trigger(e,t,r,n)}listen(e,t,r,n,s){if(r.charAt(0)=="@"){let[a,o]=lr(r);return this._timelineEngine.listen(a,t,o,s)}return this._transitionEngine.listen(e,t,r,n,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Xs(i,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=vr(e[0]),e.length>1&&(r=vr(e[e.length-1]))):e instanceof Map&&(t=vr(e)),t||r?new Zs(i,t,r):null}var Zs=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,n){this._element=t,this._startStyles=r,this._endStyles=n;let s=i.initialStylesByElement.get(t);s||i.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ie(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ie(this._element,this._initialStyles),this._endStyles&&(ie(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(pe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pe(this._element,this._endStyles),this._endStyles=null),ie(this._element,this._initialStyles),this._state=3)}}return i})();function vr(i){let e=null;return i.forEach((t,r)=>{Js(r)&&(e=e||new Map,e.set(r,t))}),e}function Js(i){return i==="display"||i==="position"}var qt=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,n){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=n,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,n)=>{n!=="offset"&&e.set(n,this._finished?r:Mt(this.element,n))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},jt=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return dr(e,t)}getParentElement(e){return Ct(e)}query(e,t,r){return cr(e,t,r)}computeStyle(e,t,r){return Mt(e,t)}animate(e,t,r,n,s,a=[]){let o=n==0?"both":"forwards",l={duration:r,delay:n,fill:o};s&&(l.easing=s);let d=new Map,f=a.filter(E=>E instanceof qt);sn(r,n)&&f.forEach(E=>{E.currentSnapshot.forEach((b,S)=>d.set(S,b))});let p=rn(t).map(E=>new Map(E));p=an(e,p,d);let k=Xs(e,p);return new qt(e,p,l,k)}};var Rt="@",En="@.disabled",Ht=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,n){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,n=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,n)}removeChild(e,t,r,n){if(n){this.delegate.removeChild(e,t,r);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,n){this.delegate.setAttribute(e,t,r,n)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,n){this.delegate.setStyle(e,t,r,n)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Rt&&t==En?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,n){return this.delegate.listen(e,t,r,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Nr=class extends Ht{factory;constructor(e,t,r,n,s){super(t,r,n,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Rt?t.charAt(1)=="."&&t==En?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,n){if(t.charAt(0)==Rt){let s=ea(e),a=t.slice(1),o="";return a.charAt(0)!=Rt&&([a,o]=ta(a)),this.engine.listen(this.namespaceId,s,a,o,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,r,l)})}return this.delegate.listen(e,t,r,n)}};function ea(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function ta(i){let e=i.indexOf("."),t=i.substring(0,e),r=i.slice(e+1);return[t,r]}var Kt=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(n,s)=>{s?.removeChild(null,n)}}createRenderer(e,t){let n=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let d=this._rendererCache,f=d.get(n);if(!f){let p=()=>d.delete(n);f=new Ht("",n,this.engine,p),d.set(n,f)}return f}let s=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let o=d=>{Array.isArray(d)?d.forEach(o):this.engine.registerTrigger(s,a,e,d.name,d)};return t.data.animation.forEach(o),new Nr(this,a,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(s=>{let[a,o]=s;a(o)}),this._animationCallbacksBuffer=[]})}),n.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var ia=(()=>{class i extends Ye{constructor(t,r,n){super(t,r,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||i)(mt(jr),mt(Ee),mt(we))};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})();function na(){return new Ft}function sa(i,e,t){return new Kt(i,e,t)}var wn=[{provide:we,useFactory:na},{provide:Ye,useClass:ia},{provide:$r,useFactory:sa,deps:[ci,Ye,Gr]}],Ko=[{provide:Ee,useClass:Mr},{provide:Jt,useValue:"NoopAnimations"},...wn],aa=[{provide:Ee,useFactory:()=>new jt},{provide:Jt,useFactory:()=>"BrowserAnimations"},...wn];function kn(){return Wr("NgEagerAnimations"),[...aa]}var ke=class ke{constructor(){this.http=P(ui)}getTranslation(e){return this.http.get(`assets/i18n/${e}/common.json`)}};ke.\u0275fac=function(t){return new(t||ke)},ke.\u0275prov=Q({token:ke,factory:ke.\u0275fac,providedIn:"root"});var Dr=ke,oa={availableLangs:["es","en"],defaultLang:"es",fallbackLang:"es",scopes:{},reRenderOnLangChange:!0,prodMode:!0,flatten:{aot:!0},failedRetries:0,interpolation:["{{","}}"],missingHandler:{logMissingKey:!0,useFallbackTranslation:!0,allowEmpty:!1}},Tn=[Si({config:oa,loader:Dr})];var Te=class Te{intercept(e,t){let r=document.documentElement.lang,n=localStorage.getItem("lang"),s=r||n||"es";return e.headers.has("Accept-Language")?t.handle(e):t.handle(e.clone({setHeaders:{"Accept-Language":s}}))}};Te.\u0275fac=function(t){return new(t||Te)},Te.\u0275prov=Q({token:Te,factory:Te.\u0275fac});var Ut=Te;var Ce=class Ce{intercept(e,t){if(e.url.includes("/assets/")||/\/auth\/(login|lookup)$/.test(e.url))return t.handle(e);let r=localStorage.getItem("token");return r?t.handle(e.clone({setHeaders:{Authorization:`Bearer ${r}`}})):t.handle(e)}};Ce.\u0275fac=function(t){return new(t||Ce)},Ce.\u0275prov=Q({token:Ce,factory:Ce.\u0275fac});var Qt=Ce;var Ae=class Ae{constructor(){this.loader=P(Fe)}intercept(e,t){let r=!e.headers.has("X-No-Spinner");return r&&this.loader.show(),t.handle(e).pipe(qr(()=>r&&this.loader.hide()))}};Ae.\u0275fac=function(t){return new(t||Ae)},Ae.\u0275prov=Q({token:Ae,factory:Ae.\u0275fac});var $t=Ae;var Pe=class Pe{constructor(){this.alerts=P(Le);this.t=P(_i)}intercept(e,t){return t.handle(e).pipe(Vr(r=>{if(r.status===0)return this.alerts.error(this.t.translate("alerts.network")||"No hay conexi\xF3n con el servidor."),Zt(()=>r);if(r.status===403)this.alerts.warn(this.t.translate("alerts.forbidden"));else{let n=this.t.translate("alerts.unexpected")||"Ocurri\xF3 un error inesperado.",s=r.error&&(r.error.message||r.error.title)||n;this.alerts.error(s)}return Zt(()=>r)}))}};Pe.\u0275fac=function(t){return new(t||Pe)},Pe.\u0275prov=Q({token:Pe,factory:Pe.\u0275fac});var Wt=Pe;var Cn={providers:[ai(),bi(Ti),pi(fi()),{provide:Je,useClass:Ut,multi:!0},{provide:Je,useClass:Qt,multi:!0},{provide:Je,useClass:$t,multi:!0},{provide:Je,useClass:Wt,multi:!0},{provide:Ei,useValue:"/api"},kn(),...Tn]};var Xe=class Xe{};Xe.\u0275fac=function(t){return new(t||Xe)},Xe.\u0275cmp=j({type:Xe,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&y(0,"router-outlet")},dependencies:[gt],encapsulation:2});var Gt=Xe;mi(Gt,Cn).catch(i=>console.error(i));
